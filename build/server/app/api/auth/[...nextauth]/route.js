(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[912],{195:e=>{"use strict";e.exports=require("node:buffer")},854:(e,t,o)=>{"use strict";let i,c,f,x,U,D;o.r(t),o.d(t,{ComponentMod:()=>t9,default:()=>t7});var K={};o.r(K),o.d(K,{GET:()=>tX,POST:()=>tQ,runtime:()=>t0});var B={};async function registerInstrumentation(){if("_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&_ENTRIES.middleware_instrumentation.register)try{await _ENTRIES.middleware_instrumentation.register()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}o.r(B),o.d(B,{headerHooks:()=>t5,originalPathname:()=>t6,requestAsyncStorage:()=>t2,routeModule:()=>t1,serverHooks:()=>t3,staticGenerationAsyncStorage:()=>t4,staticGenerationBailout:()=>t8});let q=null;function ensureInstrumentationRegistered(){return q||(q=registerInstrumentation()),q}function getUnsupportedModuleErrorMessage(e){return`The edge runtime does not support Node.js '${e}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}function __import_unsupported(e){let t=new Proxy(function(){},{get(t,o){if("then"===o)return{};throw Error(getUnsupportedModuleErrorMessage(e))},construct(){throw Error(getUnsupportedModuleErrorMessage(e))},apply(o,i,c){if("function"==typeof c[0])return c[0](t);throw Error(getUnsupportedModuleErrorMessage(e))}});return new Proxy({},{get:()=>t})}process!==o.g.process&&(process.env=o.g.process.env,o.g.process=process),Object.defineProperty(globalThis,"__import_unsupported",{value:__import_unsupported,enumerable:!1,configurable:!1}),ensureInstrumentationRegistered();let PageSignatureError=class PageSignatureError extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}};let RemovedPageError=class RemovedPageError extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}};let RemovedUAError=class RemovedUAError extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}};function fromNodeOutgoingHttpHeaders(e){let t=new Headers;for(let[o,i]of Object.entries(e)){let e=Array.isArray(i)?i:[i];for(let i of e)void 0!==i&&("number"==typeof i&&(i=i.toString()),t.append(o,i))}return t}function splitCookiesString(e){var t,o,i,c,f,x=[],U=0;function skipWhitespace(){for(;U<e.length&&/\s/.test(e.charAt(U));)U+=1;return U<e.length}function notSpecialChar(){return"="!==(o=e.charAt(U))&&";"!==o&&","!==o}for(;U<e.length;){for(t=U,f=!1;skipWhitespace();)if(","===(o=e.charAt(U))){for(i=U,U+=1,skipWhitespace(),c=U;U<e.length&&notSpecialChar();)U+=1;U<e.length&&"="===e.charAt(U)?(f=!0,U=c,x.push(e.substring(t,i)),t=U):U=i+1}else U+=1;(!f||U>=e.length)&&x.push(e.substring(t,e.length))}return x}function toNodeOutgoingHttpHeaders(e){let t={},o=[];if(e)for(let[i,c]of e.entries())"set-cookie"===i.toLowerCase()?(o.push(...splitCookiesString(c)),t[i]=1===o.length?o[0]:o):t[i]=c;return t}function validateURL(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}let ee=Symbol("response"),et=Symbol("passThrough"),er=Symbol("waitUntil");let FetchEvent=class FetchEvent{constructor(e){this[er]=[],this[et]=!1}respondWith(e){this[ee]||(this[ee]=Promise.resolve(e))}passThroughOnException(){this[et]=!0}waitUntil(e){this[er].push(e)}};let NextFetchEvent=class NextFetchEvent extends FetchEvent{constructor(e){super(e.request),this.sourcePage=e.page}get request(){throw new PageSignatureError({page:this.sourcePage})}respondWith(){throw new PageSignatureError({page:this.sourcePage})}};var en=o(316),eo=o(672);let ea=Symbol("internal request");let NextRequest=class NextRequest extends Request{constructor(e,t={}){let o="string"!=typeof e&&"url"in e?e.url:String(e);validateURL(o),e instanceof Request?super(e,t):super(o,t);let i=new en.c(o,{headers:toNodeOutgoingHttpHeaders(this.headers),nextConfig:t.nextConfig});this[ea]={cookies:new eo.q(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:i,url:i.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[ea].cookies}get geo(){return this[ea].geo}get ip(){return this[ea].ip}get nextUrl(){return this[ea].nextUrl}get page(){throw new RemovedPageError}get ua(){throw new RemovedUAError}get url(){return this[ea].url}};let ei=Symbol("internal response"),es=new Set([301,302,303,307,308]);function handleMiddlewareField(e,t){var o;if(null==e?void 0:null==(o=e.request)?void 0:o.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let o=[];for(let[i,c]of e.request.headers)t.set("x-middleware-request-"+i,c),o.push(i);t.set("x-middleware-override-headers",o.join(","))}}let NextResponse=class NextResponse extends Response{constructor(e,t={}){super(e,t),this[ei]={cookies:new eo.n(this.headers),url:t.url?new en.c(t.url,{headers:toNodeOutgoingHttpHeaders(this.headers),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[ei].cookies}static json(e,t){let o=Response.json(e,t);return new NextResponse(o.body,o)}static redirect(e,t){let o="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!es.has(o))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let i="object"==typeof t?t:{},c=new Headers(null==i?void 0:i.headers);return c.set("Location",validateURL(e)),new NextResponse(null,{...i,headers:c,status:o})}static rewrite(e,t){let o=new Headers(null==t?void 0:t.headers);return o.set("x-middleware-rewrite",validateURL(e)),handleMiddlewareField(t,o),new NextResponse(null,{...t,headers:o})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),handleMiddlewareField(e,t),new NextResponse(null,{...e,headers:t})}};function relativizeURL(e,t){let o="string"==typeof t?new URL(t):t,i=new URL(e,t),c=o.protocol+"//"+o.host;return i.protocol+"//"+i.host===c?i.toString().replace(c,""):i.toString()}var el=o(146);let ec=["__nextFallback","__nextLocale","__nextInferredLocaleFromDefault","__nextDefaultLocale","__nextIsNotFound",el.H4],eu=["__nextDataReq"];function stripInternalSearchParams(e,t){let o="string"==typeof e,i=o?new URL(e):e;for(let e of ec)i.searchParams.delete(e);if(t)for(let e of eu)i.searchParams.delete(e);return o?i.toString():i}function normalizeRscURL(e){return e.replace(/\.rsc($|\?)/,"$1")}o(807);var ed=o(36),ep=o(210),eh=o(7);let NextRequestHint=class NextRequestHint extends NextRequest{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw new PageSignatureError({page:this.sourcePage})}respondWith(){throw new PageSignatureError({page:this.sourcePage})}waitUntil(){throw new PageSignatureError({page:this.sourcePage})}};let ef=[[el.i4],[el.ph],[el.pz]];async function adapter(e){let t,o;await ensureInstrumentationRegistered();let i=void 0!==self.__BUILD_MANIFEST,c="string"==typeof self.__PRERENDER_MANIFEST?JSON.parse(self.__PRERENDER_MANIFEST):void 0;e.request.url=normalizeRscURL(e.request.url);let f=new en.c(e.request.url,{headers:e.request.headers,nextConfig:e.request.nextConfig}),x=[...f.searchParams.keys()];for(let e of x){let t=f.searchParams.getAll(e);if(e!==ed.dN&&e.startsWith(ed.dN)){let o=e.substring(ed.dN.length);for(let e of(f.searchParams.delete(o),t))f.searchParams.append(o,e);f.searchParams.delete(e)}}let U=f.buildId;f.buildId="";let D=e.request.headers["x-nextjs-data"];D&&"/index"===f.pathname&&(f.pathname="/");let K=fromNodeOutgoingHttpHeaders(e.request.headers),B=new Map;if(!i)for(let e of ef){let t=e.toString().toLowerCase(),o=K.get(t);o&&(B.set(t,K.get(t)),K.delete(t))}let q=new NextRequestHint({page:e.page,input:stripInternalSearchParams(f,!0).toString(),init:{body:e.request.body,geo:e.request.geo,headers:K,ip:e.request.ip,method:e.request.method,nextConfig:e.request.nextConfig,signal:e.request.signal}});D&&Object.defineProperty(q,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCache&&e.IncrementalCache&&(globalThis.__incrementalCache=new e.IncrementalCache({appDir:!0,fetchCache:!0,minimalMode:!0,fetchCacheKeyPrefix:void 0,dev:!1,requestHeaders:e.request.headers,requestProtocol:"https",getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:{previewModeId:"development-id"}})}));let ee=new NextFetchEvent({request:q,page:e.page}),et="/middleware"===e.page||"/src/middleware"===e.page;if((t=et?await ep.B.wrap(eh.F,{req:q,renderOpts:{onUpdateCookies:e=>{o=e},previewProps:(null==c?void 0:c.preview)||{previewModeId:"development-id",previewModeEncryptionKey:"",previewModeSigningKey:""}}},()=>e.handler(q,ee)):await e.handler(q,ee))&&!(t instanceof Response))throw TypeError("Expected an instance of Response to be returned");t&&o&&t.headers.set("set-cookie",o);let eo=null==t?void 0:t.headers.get("x-middleware-rewrite");if(t&&eo){let o=new en.c(eo,{forceLocale:!0,headers:e.request.headers,nextConfig:e.request.nextConfig});o.host===q.nextUrl.host&&(o.buildId=U||o.buildId,t.headers.set("x-middleware-rewrite",String(o)));let i=relativizeURL(String(o),String(f));D&&t.headers.set("x-nextjs-rewrite",i)}let ea=null==t?void 0:t.headers.get("Location");if(t&&ea&&!i){let o=new en.c(ea,{forceLocale:!1,headers:e.request.headers,nextConfig:e.request.nextConfig});t=new Response(t.body,t),o.host===q.nextUrl.host&&(o.buildId=U||o.buildId,t.headers.set("Location",String(o))),D&&(t.headers.delete("Location"),t.headers.set("x-nextjs-redirect",relativizeURL(String(o),String(f))))}let ei=t||NextResponse.next(),es=ei.headers.get("x-middleware-override-headers"),el=[];if(es){for(let[e,t]of B)ei.headers.set(`x-middleware-request-${e}`,t),el.push(e);el.length>0&&ei.headers.set("x-middleware-override-headers",es+","+el.join(","))}return{response:ei,waitUntil:Promise.all(ee[er]),fetchMetrics:q.fetchMetrics}}var eg=o(895),em=o.n(eg);let ey=0,e_="x-vercel-cache-tags",ev="x-vercel-sc-headers",ew="x-vercel-revalidate",eb="x-vercel-cache-item-name";let FetchCache=class FetchCache{static isAvailable(e){return!!(e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL)}constructor(e){if(this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE,this.headers={},this.headers["Content-Type"]="application/json",ev in e._requestHeaders){let t=JSON.parse(e._requestHeaders[ev]);for(let e in t)this.headers[e]=t[e];delete e._requestHeaders[ev]}let t=e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL,o=e._requestHeaders["x-vercel-sc-basepath"]||process.env.SUSPENSE_CACHE_BASEPATH;process.env.SUSPENSE_CACHE_AUTH_TOKEN&&(this.headers.Authorization=`Bearer ${process.env.SUSPENSE_CACHE_AUTH_TOKEN}`),t?(this.cacheEndpoint=`https://${t}${o||""}`,this.debug&&console.log("using cache endpoint",this.cacheEndpoint)):this.debug&&console.log("no cache endpoint available"),e.maxMemoryCacheSize?i||(this.debug&&console.log("using memory store for fetch cache"),i=new(em())({max:e.maxMemoryCacheSize,length({value:e}){var t;if(!e)return 25;if("REDIRECT"===e.kind)return JSON.stringify(e.props).length;if("IMAGE"===e.kind)throw Error("invariant image should not be incremental-cache");return"FETCH"===e.kind?JSON.stringify(e.data||"").length:"ROUTE"===e.kind?e.body.length:e.html.length+((null==(t=JSON.stringify(e.pageData))?void 0:t.length)||0)}})):this.debug&&console.log("not using memory store for fetch cache")}async revalidateTag(e){if(this.debug&&console.log("revalidateTag",e),Date.now()<ey){this.debug&&console.log("rate limited ",ey);return}try{let t=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/revalidate?tags=${e}`,{method:"POST",headers:this.headers,next:{internal:!0}});if(429===t.status){let e=t.headers.get("retry-after")||"60000";ey=Date.now()+parseInt(e)}if(!t.ok)throw Error(`Request failed with status ${t.status}.`)}catch(t){console.warn(`Failed to revalidate tag ${e}`,t)}}async get(e,t){let{tags:o,softTags:c,fetchCache:f,fetchIdx:x,fetchUrl:U}=t;if(!f)return null;if(Date.now()<ey)return this.debug&&console.log("rate limited"),null;let D=null==i?void 0:i.get(e);if(Date.now()-((null==D?void 0:D.lastModified)||0)>2e3&&(D=void 0),!D&&this.cacheEndpoint)try{let t=Date.now(),f=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${e}`,{method:"GET",headers:{...this.headers,[eb]:U,[e_]:(null==o?void 0:o.join(","))||"",[ed.Ar]:(null==c?void 0:c.join(","))||""},next:{internal:!0,fetchType:"cache-get",fetchUrl:U,fetchIdx:x}});if(429===f.status){let e=f.headers.get("retry-after")||"60000";ey=Date.now()+parseInt(e)}if(404===f.status)return this.debug&&console.log(`no fetch cache entry for ${e}, duration: ${Date.now()-t}ms`),null;if(!f.ok)throw console.error(await f.text()),Error(`invalid response from cache ${f.status}`);let K=await f.json();if(!K||"FETCH"!==K.kind)throw this.debug&&console.log({cached:K}),Error("invalid cache value");let B=f.headers.get("x-vercel-cache-state"),q=f.headers.get("age");D={value:K,lastModified:"fresh"!==B?Date.now()-ed.BR:Date.now()-1e3*parseInt(q||"0",10)},this.debug&&console.log(`got fetch cache entry for ${e}, duration: ${Date.now()-t}ms, size: ${Object.keys(K).length}, cache-state: ${B} tags: ${null==o?void 0:o.join(",")} softTags: ${null==c?void 0:c.join(",")}`),D&&(null==i||i.set(e,D))}catch(e){this.debug&&console.error("Failed to get from fetch-cache",e)}return D||null}async set(e,t,{fetchCache:o,fetchIdx:c,fetchUrl:f,tags:x}){if(o){if(Date.now()<ey){this.debug&&console.log("rate limited");return}if(null==i||i.set(e,{value:t,lastModified:Date.now()}),this.cacheEndpoint)try{let o=Date.now();null!==t&&"revalidate"in t&&(this.headers[ew]=t.revalidate.toString()),!this.headers[ew]&&null!==t&&"data"in t&&(this.headers["x-vercel-cache-control"]=t.data.headers["cache-control"]);let i=JSON.stringify({...t,tags:void 0});this.debug&&console.log("set cache",e);let U=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${e}`,{method:"POST",headers:{...this.headers,[eb]:f||"",[e_]:(null==x?void 0:x.join(","))||""},body:i,next:{internal:!0,fetchType:"cache-set",fetchUrl:f,fetchIdx:c}});if(429===U.status){let e=U.headers.get("retry-after")||"60000";ey=Date.now()+parseInt(e)}if(!U.ok)throw this.debug&&console.log(await U.text()),Error(`invalid response ${U.status}`);this.debug&&console.log(`successfully set to fetch-cache for ${e}, duration: ${Date.now()-o}ms, size: ${i.length}`)}catch(e){this.debug&&console.error("Failed to update fetch cache",e)}}}};var eS=o(763),eE=o.n(eS);let FileSystemCache=class FileSystemCache{constructor(e){this.fs=e.fs,this.flushToDisk=e.flushToDisk,this.serverDistDir=e.serverDistDir,this.appDir=!!e._appDir,this.revalidatedTags=e.revalidatedTags,e.maxMemoryCacheSize&&!c&&(c=new(em())({max:e.maxMemoryCacheSize,length({value:e}){var t;if(!e)return 25;if("REDIRECT"===e.kind)return JSON.stringify(e.props).length;if("IMAGE"===e.kind)throw Error("invariant image should not be incremental-cache");return"FETCH"===e.kind?JSON.stringify(e.data||"").length:"ROUTE"===e.kind?e.body.length:e.html.length+((null==(t=JSON.stringify(e.pageData))?void 0:t.length)||0)}})),this.serverDistDir&&this.fs&&(this.tagsManifestPath=eE().join(this.serverDistDir,"..","cache","fetch-cache","tags-manifest.json"),this.loadTagsManifest())}loadTagsManifest(){if(this.tagsManifestPath&&this.fs&&!f)try{f=JSON.parse(this.fs.readFileSync(this.tagsManifestPath,"utf8"))}catch(e){f={version:1,items:{}}}}async revalidateTag(e){if(this.loadTagsManifest(),!f||!this.tagsManifestPath)return;let t=f.items[e]||{};t.revalidatedAt=Date.now(),f.items[e]=t;try{await this.fs.mkdir(eE().dirname(this.tagsManifestPath)),await this.fs.writeFile(this.tagsManifestPath,JSON.stringify(f||{}))}catch(e){console.warn("Failed to update tags manifest.",e)}}async get(e,{tags:t,softTags:o,fetchCache:i}={}){var x,U,D;let K=null==c?void 0:c.get(e);if((null==K?void 0:null==(x=K.value)?void 0:x.kind)==="PAGE"){let e;let t=null==(D=K.value.headers)?void 0:D[ed.Et];if("string"==typeof t&&(e=t.split(",")),null==e?void 0:e.length){this.loadTagsManifest();let t=e.some(e=>{var t;return(null==f?void 0:null==(t=f.items[e])?void 0:t.revalidatedAt)&&(null==f?void 0:f.items[e].revalidatedAt)>=((null==K?void 0:K.lastModified)||Date.now())});t&&(K=void 0)}}if(K&&(null==K?void 0:null==(U=K.value)?void 0:U.kind)==="FETCH"){this.loadTagsManifest();let e=[...t||[],...o||[]],i=e.some(e=>{var t;return!!this.revalidatedTags.includes(e)||(null==f?void 0:null==(t=f.items[e])?void 0:t.revalidatedAt)&&(null==f?void 0:f.items[e].revalidatedAt)>=((null==K?void 0:K.lastModified)||Date.now())});i&&(K=void 0)}return K??null}async set(e,t,o){if(null==c||c.set(e,{value:t,lastModified:Date.now()}),this.flushToDisk){if((null==t?void 0:t.kind)==="ROUTE"){let{filePath:o}=await this.getFsPath({pathname:`${e}.body`,appDir:!0});await this.fs.mkdir(eE().dirname(o)),await this.fs.writeFile(o,t.body);let i={headers:t.headers,status:t.status,postponed:void 0};await this.fs.writeFile(o.replace(/\.body$/,".meta"),JSON.stringify(i,null,2));return}if((null==t?void 0:t.kind)==="PAGE"){let o="string"==typeof t.pageData,{filePath:i}=await this.getFsPath({pathname:`${e}.html`,appDir:o});if(await this.fs.mkdir(eE().dirname(i)),await this.fs.writeFile(i,t.html),await this.fs.writeFile((await this.getFsPath({pathname:`${e}.${o?"rsc":"json"}`,appDir:o})).filePath,o?t.pageData:JSON.stringify(t.pageData)),t.headers||t.status){let e={headers:t.headers,status:t.status,postponed:t.postponed};await this.fs.writeFile(i.replace(/\.html$/,".meta"),JSON.stringify(e))}}else if((null==t?void 0:t.kind)==="FETCH"){let{filePath:i}=await this.getFsPath({pathname:e,fetchCache:!0});await this.fs.mkdir(eE().dirname(i)),await this.fs.writeFile(i,JSON.stringify({...t,tags:o.tags}))}}}async getFsPath({pathname:e,appDir:t,fetchCache:o}){if(o)return{filePath:eE().join(this.serverDistDir,"..","cache","fetch-cache",e),isAppPath:!1};let i=eE().join(this.serverDistDir,"pages",e);if(!this.appDir||!1===t)return{filePath:i,isAppPath:!1};try{return await this.fs.readFile(i),{filePath:i,isAppPath:!1}}catch(t){return{filePath:eE().join(this.serverDistDir,"app",e),isAppPath:!0}}}};function ensure_leading_slash_ensureLeadingSlash(e){return e.startsWith("/")?e:"/"+e}let ek=/\/\[[^/]+?\](?=\/|$)/,ex="undefined"!=typeof performance;ex&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);let DecodeError=class DecodeError extends Error{};function normalizePagePath(e){let t=/^\/index(\/|$)/.test(e)&&!ek.test(e)?"/index"+e:"/"===e?"/index":ensure_leading_slash_ensureLeadingSlash(e);return t}function toRoute(e){return e.replace(/\/$/,"").replace(/\/index$/,"")||"/"}let IncrementalCache=class IncrementalCache{constructor({fs:e,dev:t,appDir:o,flushToDisk:i,fetchCache:c,minimalMode:f,serverDistDir:x,requestHeaders:U,requestProtocol:D,maxMemoryCacheSize:K,getPrerenderManifest:B,fetchCacheKeyPrefix:q,CurCacheHandler:ee,allowedRevalidateHeaderKeys:et}){var er,en,eo,ea;this.locks=new Map,this.unlocks=new Map;let ei=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;ee?ei&&console.log("using custom cache handler",ee.name):(e&&x&&(ei&&console.log("using filesystem cache handler"),ee=FileSystemCache),FetchCache.isAvailable({_requestHeaders:U})&&f&&c&&(ei&&console.log("using fetch cache handler"),ee=FetchCache)),process.env.__NEXT_TEST_MAX_ISR_CACHE&&(K=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=t,this.minimalMode=f,this.requestHeaders=U,this.requestProtocol=D,this.allowedRevalidateHeaderKeys=et,this.prerenderManifest=B(),this.fetchCacheKeyPrefix=q;let es=[];U[ed.y3]===(null==(en=this.prerenderManifest)?void 0:null==(er=en.preview)?void 0:er.previewModeId)&&(this.isOnDemandRevalidate=!0),f&&"string"==typeof U[ed.of]&&U[ed.X_]===(null==(ea=this.prerenderManifest)?void 0:null==(eo=ea.preview)?void 0:eo.previewModeId)&&(es=U[ed.of].split(",")),ee&&(this.cacheHandler=new ee({dev:t,fs:e,flushToDisk:i,serverDistDir:x,revalidatedTags:es,maxMemoryCacheSize:K,_appDir:!!o,_requestHeaders:U,fetchCacheKeyPrefix:q}))}calculateRevalidate(e,t,o){if(o)return new Date().getTime()-1e3;let{initialRevalidateSeconds:i}=this.prerenderManifest.routes[toRoute(e)]||{initialRevalidateSeconds:1};return"number"==typeof i?1e3*i+t:i}_getPathname(e,t){return t?e:normalizePagePath(e)}async unlock(e){let t=this.unlocks.get(e);t&&(t(),this.locks.delete(e),this.unlocks.delete(e))}async lock(e){process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY;let unlockNext=()=>Promise.resolve(),t=this.locks.get(e);if(t)await t;else{let t=new Promise(e=>{unlockNext=async()=>{e()}});this.locks.set(e,t),this.unlocks.set(e,unlockNext)}return unlockNext}async revalidateTag(e){var t,o;return process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,null==(o=this.cacheHandler)?void 0:null==(t=o.revalidateTag)?void 0:t.call(o,e)}async fetchCacheKey(e,t={}){let o;let i=[],c=new TextEncoder,f=new TextDecoder;if(t.body){if("function"==typeof t.body.getReader){let e=t.body,o=[];try{await e.pipeTo(new WritableStream({write(e){"string"==typeof e?(o.push(c.encode(e)),i.push(e)):(o.push(e),i.push(f.decode(e,{stream:!0})))}})),i.push(f.decode());let x=o.reduce((e,t)=>e+t.length,0),U=new Uint8Array(x),D=0;for(let e of o)U.set(e,D),D+=e.length;t._ogBody=U}catch(e){console.error("Problem reading body",e)}}else if("function"==typeof t.body.keys){let e=t.body;for(let o of(t._ogBody=t.body,new Set([...e.keys()]))){let t=e.getAll(o);i.push(`${o}=${(await Promise.all(t.map(async e=>"string"==typeof e?e:await e.text()))).join(",")}`)}}else if("function"==typeof t.body.arrayBuffer){let e=t.body,o=await e.arrayBuffer();i.push(await e.text()),t._ogBody=new Blob([o],{type:e.type})}else"string"==typeof t.body&&(i.push(t.body),t._ogBody=t.body)}let x=JSON.stringify(["v3",this.fetchCacheKeyPrefix||"",e,t.method,"function"==typeof(t.headers||{}).keys?Object.fromEntries(t.headers):t.headers,t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity,t.cache,i]);{function bufferToHex(e){return Array.prototype.map.call(new Uint8Array(e),e=>e.toString(16).padStart(2,"0")).join("")}let e=c.encode(x);o=bufferToHex(await crypto.subtle.digest("SHA-256",e))}return o}async get(e,t={}){var o,i,c;let f,x;if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,this.dev&&(!t.fetchCache||"no-cache"===this.requestHeaders["cache-control"]))return null;e=this._getPathname(e,t.fetchCache);let U=null,D=t.revalidate,K=await (null==(o=this.cacheHandler)?void 0:o.get(e,t));if((null==K?void 0:null==(i=K.value)?void 0:i.kind)==="FETCH"){let e=[...t.tags||[],...t.softTags||[]];if(e.some(e=>{var t;return null==(t=this.revalidatedTags)?void 0:t.includes(e)}))return null;D=D||K.value.revalidate;let o=Math.round((Date.now()-(K.lastModified||0))/1e3),i=o>D,c=K.value.data;return{isStale:i,value:{kind:"FETCH",data:c,revalidate:D},revalidateAfter:Date.now()+1e3*D}}let B=null==(c=this.prerenderManifest.routes[toRoute(e)])?void 0:c.initialRevalidateSeconds;return(null==K?void 0:K.lastModified)===-1?(f=-1,x=-1*ed.BR):f=!!(!1!==(x=this.calculateRevalidate(e,(null==K?void 0:K.lastModified)||Date.now(),this.dev&&!t.fetchCache))&&x<Date.now())||void 0,K&&(U={isStale:f,curRevalidate:B,revalidateAfter:x,value:K.value}),!K&&this.prerenderManifest.notFoundRoutes.includes(e)&&(U={isStale:f,value:null,curRevalidate:B,revalidateAfter:x},this.set(e,U.value,t)),U}async set(e,t,o){if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,!this.dev||o.fetchCache){if(o.fetchCache&&JSON.stringify(t).length>2097152){if(this.dev)throw Error("fetch for over 2MB of data can not be cached");return}e=this._getPathname(e,o.fetchCache);try{var i;void 0===o.revalidate||o.fetchCache||(this.prerenderManifest.routes[e]={dataRoute:eE().posix.join("/_next/data",`${normalizePagePath(e)}.json`),srcRoute:null,initialRevalidateSeconds:o.revalidate}),await (null==(i=this.cacheHandler)?void 0:i.set(e,t,o))}catch(t){console.warn("Failed to update prerender cache for",e,t)}}}};function getRouteMatcher(e){let{re:t,groups:o}=e;return e=>{let i=t.exec(e);if(!i)return!1;let decode=e=>{try{return decodeURIComponent(e)}catch(e){throw new DecodeError("failed to decode param")}},c={};return Object.keys(o).forEach(e=>{let t=o[e],f=i[t.pos];void 0!==f&&(c[e]=~f.indexOf("/")?f.split("/").map(e=>decode(e)):t.repeat?[decode(f)]:decode(f))}),c}}let eC=["(..)(..)","(.)","(..)","(...)"],eA=/[|\\{}()[\]^$+*?.-]/,eR=/[|\\{}()[\]^$+*?.-]/g;function escape_regexp_escapeStringRegexp(e){return eA.test(e)?e.replace(eR,"\\$&"):e}var eP=o(476);function parseParameter(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let o=e.startsWith("...");return o&&(e=e.slice(3)),{key:e,repeat:o,optional:t}}function getParametrizedRoute(e){let t=(0,eP.Q)(e).slice(1).split("/"),o={},i=1;return{parameterizedRoute:t.map(e=>{let t=eC.find(t=>e.startsWith(t)),c=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&c){let{key:e,optional:f,repeat:x}=parseParameter(c[1]);return o[e]={pos:i++,repeat:x,optional:f},"/"+escape_regexp_escapeStringRegexp(t)+"([^/]+?)"}if(!c)return"/"+escape_regexp_escapeStringRegexp(e);{let{key:e,repeat:t,optional:f}=parseParameter(c[1]);return o[e]={pos:i++,repeat:t,optional:f},t?f?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:o}}function getRouteRegex(e){let{parameterizedRoute:t,groups:o}=getParametrizedRoute(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:o}}let RouteMatcher=class RouteMatcher{constructor(e){var t;this.definition=e,t=e.pathname,ek.test(t)&&(this.dynamic=getRouteMatcher(getRouteRegex(e.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return void 0!==this.dynamic}match(e){let t=this.test(e);return t?{definition:this.definition,params:t.params}:null}test(e){if(this.dynamic){let t=this.dynamic(e);return t?{params:t}:null}return e===this.definition.pathname?{}:null}};var eT=o(495);let eO=Symbol.for("__next_internal_waitUntil__"),eI=globalThis[eO]||(globalThis[eO]={waitUntilCounter:0,waitUntilResolve:void 0,waitUntilPromise:null});function internal_getCurrentFunctionWaitUntil(){return eI.waitUntilPromise}let EdgeRouteModuleWrapper=class EdgeRouteModuleWrapper{constructor(e){this.routeModule=e,this.matcher=new RouteMatcher(e.definition)}static wrap(e,t={}){let o=new EdgeRouteModuleWrapper(e);return e=>adapter({...e,...t,IncrementalCache:IncrementalCache,handler:o.handler.bind(o)})}async handler(e,t){let o=(0,eP.Q)(new URL(e.url).pathname),{basePath:i}=e.nextUrl;i&&(o=(0,eT.n)(o,i));let c=this.matcher.match(o);if(!c)throw Error(`Invariant: no match found for request. Pathname '${o}' should have matched '${this.matcher.definition.pathname}'`);let f="string"==typeof self.__PRERENDER_MANIFEST?JSON.parse(self.__PRERENDER_MANIFEST):void 0,x={params:c.params,prerenderManifest:{version:4,routes:{},dynamicRoutes:{},preview:(null==f?void 0:f.preview)||{previewModeEncryptionKey:"",previewModeId:"development-id",previewModeSigningKey:""},notFoundRoutes:[]},renderOpts:{supportsDynamicHTML:!0,ppr:!1}},U=await this.routeModule.handle(e,x),D=[internal_getCurrentFunctionWaitUntil()];return x.renderOpts.waitUntil&&D.push(x.renderOpts.waitUntil),t.waitUntil(Promise.all(D)),U}};var eN=o(483),eU=o(123),__classPrivateFieldSet=function(e,t,o,i,c){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!c)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!c:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?c.call(e,o):c?c.value=o:t.set(e,o),o},__classPrivateFieldGet=function(e,t,o,i){if("a"===o&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?i:"a"===o?i.call(e):i?i.value:t.get(e)};function defaultCookies(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}next-auth.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}next-auth.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}next-auth.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}next-auth.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}next-auth.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}next-auth.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}}}}let cookie_SessionStore=class cookie_SessionStore{constructor(e,t,o){e5.add(this),e8.set(this,{}),e6.set(this,void 0),e9.set(this,void 0),__classPrivateFieldSet(this,e9,o,"f"),__classPrivateFieldSet(this,e6,e,"f");let{cookies:i}=t,{name:c}=e;if("function"==typeof i?.getAll)for(let{name:e,value:t}of i.getAll())e.startsWith(c)&&(__classPrivateFieldGet(this,e8,"f")[e]=t);else if(i instanceof Map)for(let e of i.keys())e.startsWith(c)&&(__classPrivateFieldGet(this,e8,"f")[e]=i.get(e));else for(let e in i)e.startsWith(c)&&(__classPrivateFieldGet(this,e8,"f")[e]=i[e])}get value(){let e=Object.keys(__classPrivateFieldGet(this,e8,"f")).sort((e,t)=>{let o=parseInt(e.split(".").pop()||"0"),i=parseInt(t.split(".").pop()||"0");return o-i});return e.map(e=>__classPrivateFieldGet(this,e8,"f")[e]).join("")}chunk(e,t){let o=__classPrivateFieldGet(this,e5,"m",te).call(this),i=__classPrivateFieldGet(this,e5,"m",e7).call(this,{name:__classPrivateFieldGet(this,e6,"f").name,value:e,options:{...__classPrivateFieldGet(this,e6,"f").options,...t}});for(let e of i)o[e.name]=e;return Object.values(o)}clean(){return Object.values(__classPrivateFieldGet(this,e5,"m",te).call(this))}};e8=new WeakMap,e6=new WeakMap,e9=new WeakMap,e5=new WeakSet,e7=function(e){let t=Math.ceil(e.value.length/3933);if(1===t)return __classPrivateFieldGet(this,e8,"f")[e.name]=e.value,[e];let o=[];for(let i=0;i<t;i++){let t=`${e.name}.${i}`,c=e.value.substr(3933*i,3933);o.push({...e,name:t,value:c}),__classPrivateFieldGet(this,e8,"f")[t]=c}return __classPrivateFieldGet(this,e9,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:163,valueSize:e.value.length,chunks:o.map(e=>e.value.length+163)}),o},te=function(){let e={};for(let t in __classPrivateFieldGet(this,e8,"f"))delete __classPrivateFieldGet(this,e8,"f")?.[t],e[t]={name:t,value:"",options:{...__classPrivateFieldGet(this,e6,"f").options,maxAge:0}};return e};let AuthError=class AuthError extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),Error.captureStackTrace?.(this,this.constructor),this.name=e instanceof AuthError?e.name:this.constructor.name}};let AdapterError=class AdapterError extends AuthError{};let AuthorizedCallbackError=class AuthorizedCallbackError extends AuthError{};let CallbackRouteError=class CallbackRouteError extends AuthError{};let ErrorPageLoop=class ErrorPageLoop extends AuthError{};let EventError=class EventError extends AuthError{};let InvalidCallbackUrl=class InvalidCallbackUrl extends AuthError{};let InvalidEndpoints=class InvalidEndpoints extends AuthError{};let InvalidCheck=class InvalidCheck extends AuthError{};let JWTSessionError=class JWTSessionError extends AuthError{};let MissingAdapter=class MissingAdapter extends AuthError{};let MissingAdapterMethods=class MissingAdapterMethods extends AuthError{};let MissingAuthorize=class MissingAuthorize extends AuthError{};let errors_MissingSecret=class errors_MissingSecret extends AuthError{};let OAuthAccountNotLinked=class OAuthAccountNotLinked extends AuthError{};let OAuthCallbackError=class OAuthCallbackError extends AuthError{};let OAuthProfileParseError=class OAuthProfileParseError extends AuthError{};let SessionTokenError=class SessionTokenError extends AuthError{};let SignInError=class SignInError extends AuthError{};let SignOutError=class SignOutError extends AuthError{};let UnknownAction=class UnknownAction extends AuthError{};let UnsupportedStrategy=class UnsupportedStrategy extends AuthError{};let UntrustedHost=class UntrustedHost extends AuthError{};let Verification=class Verification extends AuthError{};let eM=!1;function isValidHttpUrl(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let ej=!1,eD=!1,eL=["createVerificationToken","useVerificationToken","getUserByEmail"],e$=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"];function assertConfig(e,t){let{url:o}=e,i=[];if(!eM&&t.debug&&i.push("debug-enabled"),!t.trustHost)return new UntrustedHost(`Host must be trusted. URL was: ${e.url}`);if(!t.secret)return new errors_MissingSecret("Please define a `secret`.");let c=e.query?.callbackUrl;if(c&&!isValidHttpUrl(c,o.origin))return new InvalidCallbackUrl(`Invalid callback URL. Received: ${c}`);let{callbackUrl:f}=defaultCookies(t.useSecureCookies??"https:"===o.protocol),x=e.cookies?.[t.cookies?.callbackUrl?.name??f.name];if(x&&!isValidHttpUrl(x,o.origin))return new InvalidCallbackUrl(`Invalid callback URL. Received: ${x}`);for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e;let{authorization:o,token:i,userinfo:c}=t;if("string"==typeof o||o?.url?"string"==typeof i||i?.url?"string"==typeof c||c?.url||(e="userinfo"):e="token":e="authorization",e)return new InvalidEndpoints(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required.`)}"credentials"===t.type?ej=!0:"email"===t.type&&(eD=!0)}if(ej){let e=t.session?.strategy==="database",o=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&o)return new UnsupportedStrategy("Signin in with credentials only supported if JWT strategy is enabled");let i=t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize});if(i)return new MissingAuthorize("Must define an authorize() handler to use credentials authentication provider")}let{adapter:U,session:D}=t;if(eD||D?.strategy==="database"||!D?.strategy&&U){let e;if(eD){if(!U)return new MissingAdapter("Email login requires an adapter.");e=eL}else{if(!U)return new MissingAdapter("Database session requires an adapter.");e=e$}let t=e.filter(e=>!U[e]);if(t.length)return new MissingAdapterMethods(`Required adapter methods were missing: ${t.join(", ")}`)}return eM||(eM=!0),i}let getGlobal=()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;throw Error("unable to locate global object")},hkdf=async(e,t,o,i,c)=>{let{crypto:{subtle:f}}=getGlobal();return new Uint8Array(await f.deriveBits({name:"HKDF",hash:`SHA-${e.substr(3)}`,salt:o,info:i},await f.importKey("raw",t,"HKDF",!1,["deriveBits"]),c<<3))};function normalizeDigest(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}function normalizeUint8Array(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}function normalizeIkm(e){let t=normalizeUint8Array(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}function normalizeInfo(e){let t=normalizeUint8Array(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}function normalizeKeylen(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');let o=parseInt(t.substr(3),10)>>3||20;if(e>255*o)throw TypeError('"keylen" too large');return e}async function web_hkdf(e,t,o,i,c){return hkdf(normalizeDigest(e),normalizeIkm(t),normalizeUint8Array(o,"salt"),normalizeInfo(i),normalizeKeylen(c,e))}let eH=crypto,webcrypto_isCryptoKey=e=>e instanceof CryptoKey,digest_digest=async(e,t)=>{let o=`SHA-${e.slice(-3)}`;return new Uint8Array(await eH.subtle.digest(o,t))},eW=new TextEncoder,eJ=new TextDecoder;function buffer_utils_concat(...e){let t=e.reduce((e,{length:t})=>e+t,0),o=new Uint8Array(t),i=0;return e.forEach(e=>{o.set(e,i),i+=e.length}),o}function buffer_utils_p2s(e,t){return buffer_utils_concat(eW.encode(e),new Uint8Array([0]),t)}function writeUInt32BE(e,t,o){if(t<0||t>=4294967296)throw RangeError(`value must be >= 0 and <= ${4294967296-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],o)}function uint64be(e){let t=new Uint8Array(8);return writeUInt32BE(t,Math.floor(e/4294967296),0),writeUInt32BE(t,e%4294967296,4),t}function uint32be(e){let t=new Uint8Array(4);return writeUInt32BE(t,e),t}function lengthAndInput(e){return buffer_utils_concat(uint32be(e.length),e)}async function concatKdf(e,t,o){let i=Math.ceil((t>>3)/32),c=new Uint8Array(32*i);for(let t=0;t<i;t++){let i=new Uint8Array(4+e.length+o.length);i.set(uint32be(t+1)),i.set(e,4),i.set(o,4+e.length),c.set(await digest_digest("sha256",i),32*t)}return c.slice(0,t>>3)}let base64url_encodeBase64=e=>{let t=e;"string"==typeof t&&(t=eW.encode(t));let o=[];for(let e=0;e<t.length;e+=32768)o.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(o.join(""))},encode=e=>base64url_encodeBase64(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),base64url_decodeBase64=e=>{let t=atob(e),o=new Uint8Array(t.length);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);return o},decode=e=>{let t=e;t instanceof Uint8Array&&(t=eJ.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return base64url_decodeBase64(t)}catch(e){throw TypeError("The input to be decoded is not correctly encoded.")}};let errors_JOSEError=class errors_JOSEError extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}};let JWTClaimValidationFailed=class JWTClaimValidationFailed extends errors_JOSEError{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",o="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=o}};let JWTExpired=class JWTExpired extends errors_JOSEError{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",o="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=o}};let errors_JOSEAlgNotAllowed=class errors_JOSEAlgNotAllowed extends errors_JOSEError{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}};let errors_JOSENotSupported=class errors_JOSENotSupported extends errors_JOSEError{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}};let errors_JWEDecryptionFailed=class errors_JWEDecryptionFailed extends errors_JOSEError{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}};let errors_JWEInvalid=class errors_JWEInvalid extends errors_JOSEError{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}};let errors_JWTInvalid=class errors_JWTInvalid extends errors_JOSEError{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}};Symbol.asyncIterator;let eK=eH.getRandomValues.bind(eH);function bitLength(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new errors_JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}let lib_iv=e=>eK(new Uint8Array(bitLength(e)>>3)),check_iv_length=(e,t)=>{if(t.length<<3!==bitLength(e))throw new errors_JWEInvalid("Invalid Initialization Vector length")},check_cek_length=(e,t)=>{let o=e.byteLength<<3;if(o!==t)throw new errors_JWEInvalid(`Invalid Content Encryption Key length. Expected ${t} bits, got ${o} bits`)},timing_safe_equal=(e,t)=>{if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");if(e.length!==t.length)throw TypeError("Input buffers must have the same length");let o=e.length,i=0,c=-1;for(;++c<o;)i|=e[c]^t[c];return 0===i};function unusable(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function isAlgorithm(e,t){return e.name===t}function getHashLength(e){return parseInt(e.name.slice(4),10)}function checkUsage(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let o=t.pop();e+=`one of ${t.join(", ")}, or ${o}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}function checkEncCryptoKey(e,t,...o){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!isAlgorithm(e.algorithm,"AES-GCM"))throw unusable("AES-GCM");let o=parseInt(t.slice(1,4),10),i=e.algorithm.length;if(i!==o)throw unusable(o,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!isAlgorithm(e.algorithm,"AES-KW"))throw unusable("AES-KW");let o=parseInt(t.slice(1,4),10),i=e.algorithm.length;if(i!==o)throw unusable(o,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw unusable("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!isAlgorithm(e.algorithm,"PBKDF2"))throw unusable("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!isAlgorithm(e.algorithm,"RSA-OAEP"))throw unusable("RSA-OAEP");let o=parseInt(t.slice(9),10)||1,i=getHashLength(e.algorithm.hash);if(i!==o)throw unusable(`SHA-${o}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}checkUsage(e,o)}function message(e,t,...o){if(o.length>2){let t=o.pop();e+=`one of type ${o.join(", ")}, or ${t}.`}else 2===o.length?e+=`one of type ${o[0]} or ${o[1]}.`:e+=`of type ${o[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let invalid_key_input=(e,...t)=>message("Key must be ",e,...t);function withAlg(e,t,...o){return message(`Key for the ${e} algorithm must be `,t,...o)}let is_key_like=e=>webcrypto_isCryptoKey(e),eF=["CryptoKey"];async function cbcDecrypt(e,t,o,i,c,f){let x,U;if(!(t instanceof Uint8Array))throw TypeError(invalid_key_input(t,"Uint8Array"));let D=parseInt(e.slice(1,4),10),K=await eH.subtle.importKey("raw",t.subarray(D>>3),"AES-CBC",!1,["decrypt"]),B=await eH.subtle.importKey("raw",t.subarray(0,D>>3),{hash:`SHA-${D<<1}`,name:"HMAC"},!1,["sign"]),q=buffer_utils_concat(f,i,o,uint64be(f.length<<3)),ee=new Uint8Array((await eH.subtle.sign("HMAC",B,q)).slice(0,D>>3));try{x=timing_safe_equal(c,ee)}catch(e){}if(!x)throw new errors_JWEDecryptionFailed;try{U=new Uint8Array(await eH.subtle.decrypt({iv:i,name:"AES-CBC"},K,o))}catch(e){}if(!U)throw new errors_JWEDecryptionFailed;return U}async function gcmDecrypt(e,t,o,i,c,f){let x;t instanceof Uint8Array?x=await eH.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(checkEncCryptoKey(t,e,"decrypt"),x=t);try{return new Uint8Array(await eH.subtle.decrypt({additionalData:f,iv:i,name:"AES-GCM",tagLength:128},x,buffer_utils_concat(o,c)))}catch(e){throw new errors_JWEDecryptionFailed}}let decrypt=async(e,t,o,i,c,f)=>{if(!webcrypto_isCryptoKey(t)&&!(t instanceof Uint8Array))throw TypeError(invalid_key_input(t,...eF,"Uint8Array"));switch(check_iv_length(e,i),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&check_cek_length(t,parseInt(e.slice(-3),10)),cbcDecrypt(e,t,o,i,c,f);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&check_cek_length(t,parseInt(e.slice(1,4),10)),gcmDecrypt(e,t,o,i,c,f);default:throw new errors_JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}},inflate=async()=>{throw new errors_JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},deflate=async()=>{throw new errors_JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},is_disjoint=(...e)=>{let t;let o=e.filter(Boolean);if(0===o.length||1===o.length)return!0;for(let e of o){let o=Object.keys(e);if(!t||0===t.size){t=new Set(o);continue}for(let e of o){if(t.has(e))return!1;t.add(e)}}return!0};function isObjectLike(e){return"object"==typeof e&&null!==e}function is_object_isObject(e){if(!isObjectLike(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let eB=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function checkKeySize(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function getCryptoKey(e,t,o){if(webcrypto_isCryptoKey(e))return checkEncCryptoKey(e,t,o),e;if(e instanceof Uint8Array)return eH.subtle.importKey("raw",e,"AES-KW",!0,[o]);throw TypeError(invalid_key_input(e,...eF,"Uint8Array"))}let wrap=async(e,t,o)=>{let i=await getCryptoKey(t,e,"wrapKey");checkKeySize(i,e);let c=await eH.subtle.importKey("raw",o,...eB);return new Uint8Array(await eH.subtle.wrapKey("raw",c,i,"AES-KW"))},unwrap=async(e,t,o)=>{let i=await getCryptoKey(t,e,"unwrapKey");checkKeySize(i,e);let c=await eH.subtle.unwrapKey("raw",o,i,"AES-KW",...eB);return new Uint8Array(await eH.subtle.exportKey("raw",c))};async function deriveKey(e,t,o,i,c=new Uint8Array(0),f=new Uint8Array(0)){let x;if(!webcrypto_isCryptoKey(e))throw TypeError(invalid_key_input(e,...eF));if(checkEncCryptoKey(e,"ECDH"),!webcrypto_isCryptoKey(t))throw TypeError(invalid_key_input(t,...eF));checkEncCryptoKey(t,"ECDH","deriveBits");let U=buffer_utils_concat(lengthAndInput(eW.encode(o)),lengthAndInput(c),lengthAndInput(f),uint32be(i));x="X25519"===e.algorithm.name?256:"X448"===e.algorithm.name?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3;let D=new Uint8Array(await eH.subtle.deriveBits({name:e.algorithm.name,public:e},t,x));return concatKdf(D,i,U)}async function generateEpk(e){if(!webcrypto_isCryptoKey(e))throw TypeError(invalid_key_input(e,...eF));return eH.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function ecdhAllowed(e){if(!webcrypto_isCryptoKey(e))throw TypeError(invalid_key_input(e,...eF));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}function checkP2s(e){if(!(e instanceof Uint8Array)||e.length<8)throw new errors_JWEInvalid("PBES2 Salt Input must be 8 or more octets")}function pbes2kw_getCryptoKey(e,t){if(e instanceof Uint8Array)return eH.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(webcrypto_isCryptoKey(e))return checkEncCryptoKey(e,t,"deriveBits","deriveKey"),e;throw TypeError(invalid_key_input(e,...eF,"Uint8Array"))}async function pbes2kw_deriveKey(e,t,o,i){checkP2s(e);let c=buffer_utils_p2s(t,e),f=parseInt(t.slice(13,16),10),x={hash:`SHA-${t.slice(8,11)}`,iterations:o,name:"PBKDF2",salt:c},U=await pbes2kw_getCryptoKey(i,t);if(U.usages.includes("deriveBits"))return new Uint8Array(await eH.subtle.deriveBits(x,U,f));if(U.usages.includes("deriveKey"))return eH.subtle.deriveKey(x,U,{length:f,name:"AES-KW"},!1,["wrapKey","unwrapKey"]);throw TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}let encrypt=async(e,t,o,i=2048,c=eK(new Uint8Array(16)))=>{let f=await pbes2kw_deriveKey(c,e,i,t),x=await wrap(e.slice(-6),f,o);return{encryptedKey:x,p2c:i,p2s:encode(c)}},pbes2kw_decrypt=async(e,t,o,i,c)=>{let f=await pbes2kw_deriveKey(c,e,i,t);return unwrap(e.slice(-6),f,o)};function subtleRsaEs(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new errors_JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}let check_key_length=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:o}=t.algorithm;if("number"!=typeof o||o<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},rsaes_encrypt=async(e,t,o)=>{if(!webcrypto_isCryptoKey(t))throw TypeError(invalid_key_input(t,...eF));if(checkEncCryptoKey(t,e,"encrypt","wrapKey"),check_key_length(e,t),t.usages.includes("encrypt"))return new Uint8Array(await eH.subtle.encrypt(subtleRsaEs(e),t,o));if(t.usages.includes("wrapKey")){let i=await eH.subtle.importKey("raw",o,...eB);return new Uint8Array(await eH.subtle.wrapKey("raw",i,t,subtleRsaEs(e)))}throw TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},rsaes_decrypt=async(e,t,o)=>{if(!webcrypto_isCryptoKey(t))throw TypeError(invalid_key_input(t,...eF));if(checkEncCryptoKey(t,e,"decrypt","unwrapKey"),check_key_length(e,t),t.usages.includes("decrypt"))return new Uint8Array(await eH.subtle.decrypt(subtleRsaEs(e),t,o));if(t.usages.includes("unwrapKey")){let i=await eH.subtle.unwrapKey("raw",o,t,subtleRsaEs(e),...eB);return new Uint8Array(await eH.subtle.exportKey("raw",i))}throw TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function cek_bitLength(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new errors_JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}let lib_cek=e=>eK(new Uint8Array(cek_bitLength(e)>>3));function parseElement(e){let t=0,o=31&e[0];if(t++,31===o){for(o=0;e[t]>=128;)o=128*o+e[t]-128,t++;o=128*o+e[t]-128,t++}let i=0;if(e[t]<128)i=e[t],t++;else if(128===i){for(i=0;0!==e[t+i]||0!==e[t+i+1];){if(i>e.byteLength)throw TypeError("invalid indefinite form length");i++}let o=t+i+2;return{byteLength:o,contents:e.subarray(t,t+i),raw:e.subarray(0,o)}}else{let o=127&e[t];t++,i=0;for(let c=0;c<o;c++)i=256*i+e[t],t++}let c=t+i;return{byteLength:c,contents:e.subarray(t,c),raw:e.subarray(0,c)}}function subtleMapping(e){let t,o;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},o=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new errors_JOSENotSupported(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},o=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},o=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},o=["deriveBits"];break;default:throw new errors_JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},o=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},o=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},o=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new errors_JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},o=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},o=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},o=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},o=e.d?["deriveBits"]:[];break;default:throw new errors_JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},o=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},o=e.d?["deriveBits"]:[];break;default:throw new errors_JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new errors_JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:o}}let jwk_to_key_parse=async e=>{var t,o;if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:i,keyUsages:c}=subtleMapping(e),f=[i,null!==(t=e.ext)&&void 0!==t&&t,null!==(o=e.key_ops)&&void 0!==o?o:c];if("PBKDF2"===i.name)return eH.subtle.importKey("raw",decode(e.k),...f);let x={...e};return delete x.alg,delete x.use,eH.subtle.importKey("jwk",x,...f)};async function import_importJWK(e,t,o){var i;if(!is_object_isObject(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');if(null!=o||(o=!0!==e.ext),o)return jwk_to_key_parse({...e,alg:t,ext:null!==(i=e.ext)&&void 0!==i&&i});return decode(e.k);case"RSA":if(void 0!==e.oth)throw new errors_JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return jwk_to_key_parse({...e,alg:t});default:throw new errors_JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}let symmetricTypeCheck=(e,t)=>{if(!(t instanceof Uint8Array)){if(!is_key_like(t))throw TypeError(withAlg(e,t,...eF,"Uint8Array"));if("secret"!==t.type)throw TypeError(`${eF.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},asymmetricTypeCheck=(e,t,o)=>{if(!is_key_like(t))throw TypeError(withAlg(e,t,...eF));if("secret"===t.type)throw TypeError(`${eF.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===o&&"public"===t.type)throw TypeError(`${eF.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===o&&"public"===t.type)throw TypeError(`${eF.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===o&&"private"===t.type)throw TypeError(`${eF.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===o&&"private"===t.type)throw TypeError(`${eF.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},check_key_type=(e,t,o)=>{let i=e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e);i?symmetricTypeCheck(e,t):asymmetricTypeCheck(e,t,o)};async function cbcEncrypt(e,t,o,i,c){if(!(o instanceof Uint8Array))throw TypeError(invalid_key_input(o,"Uint8Array"));let f=parseInt(e.slice(1,4),10),x=await eH.subtle.importKey("raw",o.subarray(f>>3),"AES-CBC",!1,["encrypt"]),U=await eH.subtle.importKey("raw",o.subarray(0,f>>3),{hash:`SHA-${f<<1}`,name:"HMAC"},!1,["sign"]),D=new Uint8Array(await eH.subtle.encrypt({iv:i,name:"AES-CBC"},x,t)),K=buffer_utils_concat(c,i,D,uint64be(c.length<<3)),B=new Uint8Array((await eH.subtle.sign("HMAC",U,K)).slice(0,f>>3));return{ciphertext:D,tag:B}}async function gcmEncrypt(e,t,o,i,c){let f;o instanceof Uint8Array?f=await eH.subtle.importKey("raw",o,"AES-GCM",!1,["encrypt"]):(checkEncCryptoKey(o,e,"encrypt"),f=o);let x=new Uint8Array(await eH.subtle.encrypt({additionalData:c,iv:i,name:"AES-GCM",tagLength:128},f,t)),U=x.slice(-16),D=x.slice(0,-16);return{ciphertext:D,tag:U}}let encrypt_encrypt=async(e,t,o,i,c)=>{if(!webcrypto_isCryptoKey(o)&&!(o instanceof Uint8Array))throw TypeError(invalid_key_input(o,...eF,"Uint8Array"));switch(check_iv_length(e,i),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return o instanceof Uint8Array&&check_cek_length(o,parseInt(e.slice(-3),10)),cbcEncrypt(e,t,o,i,c);case"A128GCM":case"A192GCM":case"A256GCM":return o instanceof Uint8Array&&check_cek_length(o,parseInt(e.slice(1,4),10)),gcmEncrypt(e,t,o,i,c);default:throw new errors_JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};async function aesgcmkw_wrap(e,t,o,i){let c=e.slice(0,7);i||(i=lib_iv(c));let{ciphertext:f,tag:x}=await encrypt_encrypt(c,o,t,i,new Uint8Array(0));return{encryptedKey:f,iv:encode(i),tag:encode(x)}}async function aesgcmkw_unwrap(e,t,o,i,c){let f=e.slice(0,7);return decrypt(f,t,o,i,c,new Uint8Array(0))}async function decryptKeyManagement(e,t,o,i,c){switch(check_key_type(e,t,"decrypt"),e){case"dir":if(void 0!==o)throw new errors_JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==o)throw new errors_JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let c,f;if(!is_object_isObject(i.epk))throw new errors_JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!ecdhAllowed(t))throw new errors_JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let x=await import_importJWK(i.epk,e);if(void 0!==i.apu){if("string"!=typeof i.apu)throw new errors_JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{c=decode(i.apu)}catch(e){throw new errors_JWEInvalid("Failed to base64url decode the apu")}}if(void 0!==i.apv){if("string"!=typeof i.apv)throw new errors_JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{f=decode(i.apv)}catch(e){throw new errors_JWEInvalid("Failed to base64url decode the apv")}}let U=await deriveKey(x,t,"ECDH-ES"===e?i.enc:e,"ECDH-ES"===e?cek_bitLength(i.enc):parseInt(e.slice(-5,-2),10),c,f);if("ECDH-ES"===e)return U;if(void 0===o)throw new errors_JWEInvalid("JWE Encrypted Key missing");return unwrap(e.slice(-6),U,o)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===o)throw new errors_JWEInvalid("JWE Encrypted Key missing");return rsaes_decrypt(e,t,o);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let f;if(void 0===o)throw new errors_JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof i.p2c)throw new errors_JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');let x=(null==c?void 0:c.maxPBES2Count)||1e4;if(i.p2c>x)throw new errors_JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof i.p2s)throw new errors_JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{f=decode(i.p2s)}catch(e){throw new errors_JWEInvalid("Failed to base64url decode the p2s")}return pbes2kw_decrypt(e,t,o,i.p2c,f)}case"A128KW":case"A192KW":case"A256KW":if(void 0===o)throw new errors_JWEInvalid("JWE Encrypted Key missing");return unwrap(e,t,o);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let c,f;if(void 0===o)throw new errors_JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof i.iv)throw new errors_JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof i.tag)throw new errors_JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');try{c=decode(i.iv)}catch(e){throw new errors_JWEInvalid("Failed to base64url decode the iv")}try{f=decode(i.tag)}catch(e){throw new errors_JWEInvalid("Failed to base64url decode the tag")}return aesgcmkw_unwrap(e,t,o,c,f)}default:throw new errors_JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let eq=decryptKeyManagement;function validate_crit_validateCrit(e,t,o,i,c){let f;if(void 0!==c.crit&&void 0===i.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let x of(f=void 0!==o?new Map([...Object.entries(o),...t.entries()]):t,i.crit)){if(!f.has(x))throw new errors_JOSENotSupported(`Extension Header Parameter "${x}" is not recognized`);if(void 0===c[x])throw new e(`Extension Header Parameter "${x}" is missing`);if(f.get(x)&&void 0===i[x])throw new e(`Extension Header Parameter "${x}" MUST be integrity protected`)}return new Set(i.crit)}let eV=validate_crit_validateCrit,validate_algorithms=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function decrypt_flattenedDecrypt(e,t,o){var i;let c,f,x,U,D,K,B;if(!is_object_isObject(e))throw new errors_JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new errors_JWEInvalid("JOSE Header missing");if("string"!=typeof e.iv)throw new errors_JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new errors_JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new errors_JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new errors_JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new errors_JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new errors_JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!is_object_isObject(e.header))throw new errors_JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!is_object_isObject(e.unprotected))throw new errors_JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=decode(e.protected);c=JSON.parse(eJ.decode(t))}catch(e){throw new errors_JWEInvalid("JWE Protected Header is invalid")}if(!is_disjoint(c,e.header,e.unprotected))throw new errors_JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let q={...c,...e.header,...e.unprotected};if(eV(errors_JWEInvalid,new Map,null==o?void 0:o.crit,c,q),void 0!==q.zip){if(!c||!c.zip)throw new errors_JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==q.zip)throw new errors_JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:ee,enc:et}=q;if("string"!=typeof ee||!ee)throw new errors_JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof et||!et)throw new errors_JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");let er=o&&validate_algorithms("keyManagementAlgorithms",o.keyManagementAlgorithms),en=o&&validate_algorithms("contentEncryptionAlgorithms",o.contentEncryptionAlgorithms);if(er&&!er.has(ee))throw new errors_JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(en&&!en.has(et))throw new errors_JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');if(void 0!==e.encrypted_key)try{f=decode(e.encrypted_key)}catch(e){throw new errors_JWEInvalid("Failed to base64url decode the encrypted_key")}let eo=!1;"function"==typeof t&&(t=await t(c,e),eo=!0);try{x=await eq(ee,t,f,q,o)}catch(e){if(e instanceof TypeError||e instanceof errors_JWEInvalid||e instanceof errors_JOSENotSupported)throw e;x=lib_cek(et)}try{U=decode(e.iv)}catch(e){throw new errors_JWEInvalid("Failed to base64url decode the iv")}try{D=decode(e.tag)}catch(e){throw new errors_JWEInvalid("Failed to base64url decode the tag")}let ea=eW.encode(null!==(i=e.protected)&&void 0!==i?i:"");K=void 0!==e.aad?buffer_utils_concat(ea,eW.encode("."),eW.encode(e.aad)):ea;try{B=decode(e.ciphertext)}catch(e){throw new errors_JWEInvalid("Failed to base64url decode the ciphertext")}let ei=await decrypt(et,x,B,U,D,K);"DEF"===q.zip&&(ei=await ((null==o?void 0:o.inflateRaw)||inflate)(ei));let es={plaintext:ei};if(void 0!==e.protected&&(es.protectedHeader=c),void 0!==e.aad)try{es.additionalAuthenticatedData=decode(e.aad)}catch(e){throw new errors_JWEInvalid("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(es.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(es.unprotectedHeader=e.header),eo)?{...es,key:t}:es}async function compactDecrypt(e,t,o){if(e instanceof Uint8Array&&(e=eJ.decode(e)),"string"!=typeof e)throw new errors_JWEInvalid("Compact JWE must be a string or Uint8Array");let{0:i,1:c,2:f,3:x,4:U,length:D}=e.split(".");if(5!==D)throw new errors_JWEInvalid("Invalid Compact JWE");let K=await decrypt_flattenedDecrypt({ciphertext:x,iv:f||void 0,protected:i||void 0,tag:U||void 0,encrypted_key:c||void 0},t,o),B={plaintext:K.plaintext,protectedHeader:K.protectedHeader};return"function"==typeof t?{...B,key:K.key}:B}let keyToJWK=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:encode(e)};if(!webcrypto_isCryptoKey(e))throw TypeError(invalid_key_input(e,...eF,"Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:o,alg:i,use:c,...f}=await eH.subtle.exportKey("jwk",e);return f};async function exportJWK(e){return keyToJWK(e)}async function encrypt_key_management_encryptKeyManagement(e,t,o,i,c={}){let f,x,U;switch(check_key_type(e,o,"encrypt"),e){case"dir":U=o;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!ecdhAllowed(o))throw new errors_JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:D,apv:K}=c,{epk:B}=c;B||(B=(await generateEpk(o)).privateKey);let{x:q,y:ee,crv:et,kty:er}=await exportJWK(B),en=await deriveKey(o,B,"ECDH-ES"===e?t:e,"ECDH-ES"===e?cek_bitLength(t):parseInt(e.slice(-5,-2),10),D,K);if(x={epk:{x:q,crv:et,kty:er}},"EC"===er&&(x.epk.y=ee),D&&(x.apu=encode(D)),K&&(x.apv=encode(K)),"ECDH-ES"===e){U=en;break}U=i||lib_cek(t);let eo=e.slice(-6);f=await wrap(eo,en,U);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":U=i||lib_cek(t),f=await rsaes_encrypt(e,o,U);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{U=i||lib_cek(t);let{p2c:D,p2s:K}=c;({encryptedKey:f,...x}=await encrypt(e,o,U,D,K));break}case"A128KW":case"A192KW":case"A256KW":U=i||lib_cek(t),f=await wrap(e,o,U);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{U=i||lib_cek(t);let{iv:D}=c;({encryptedKey:f,...x}=await aesgcmkw_wrap(e,o,U,D));break}default:throw new errors_JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:U,encryptedKey:f,parameters:x}}let ez=encrypt_key_management_encryptKeyManagement,eG=Symbol();let encrypt_FlattenedEncrypt=class encrypt_FlattenedEncrypt{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let o,i,c,f,x,U,D;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new errors_JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!is_disjoint(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new errors_JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let K={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(eV(errors_JWEInvalid,new Map,null==t?void 0:t.crit,this._protectedHeader,K),void 0!==K.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new errors_JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==K.zip)throw new errors_JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:B,enc:q}=K;if("string"!=typeof B||!B)throw new errors_JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof q||!q)throw new errors_JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if("dir"===B){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===B&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let c;({cek:i,encryptedKey:o,parameters:c}=await ez(B,q,e,this._cek,this._keyManagementParameters)),c&&(t&&eG in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...c}:this.setUnprotectedHeader(c):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...c}:this.setProtectedHeader(c))}if(this._iv||(this._iv=lib_iv(q)),f=this._protectedHeader?eW.encode(encode(JSON.stringify(this._protectedHeader))):eW.encode(""),this._aad?(x=encode(this._aad),c=buffer_utils_concat(f,eW.encode("."),eW.encode(x))):c=f,"DEF"===K.zip){let e=await ((null==t?void 0:t.deflateRaw)||deflate)(this._plaintext);({ciphertext:U,tag:D}=await encrypt_encrypt(q,e,i,this._iv,c))}else({ciphertext:U,tag:D}=await encrypt_encrypt(q,this._plaintext,i,this._iv,c));let ee={ciphertext:encode(U),iv:encode(this._iv),tag:encode(D)};return o&&(ee.encrypted_key=encode(o)),x&&(ee.aad=x),this._protectedHeader&&(ee.protected=eJ.decode(f)),this._sharedUnprotectedHeader&&(ee.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(ee.header=this._unprotectedHeader),ee}};let epoch=e=>Math.floor(e.getTime()/1e3),eY=604800,eX=31557600,eQ=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,secs=e=>{let t=eQ.exec(e);if(!t)throw TypeError("Invalid time period format");let o=parseFloat(t[1]),i=t[2].toLowerCase();switch(i){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(o);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*o);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*o);case"day":case"days":case"d":return Math.round(86400*o);case"week":case"weeks":case"w":return Math.round(o*eY);default:return Math.round(o*eX)}},normalizeTyp=e=>e.toLowerCase().replace(/^application\//,""),checkAudiencePresence=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))),jwt_claims_set=(e,t,o={})=>{let i,c;let{typ:f}=o;if(f&&("string"!=typeof e.typ||normalizeTyp(e.typ)!==normalizeTyp(f)))throw new JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");try{i=JSON.parse(eJ.decode(t))}catch(e){}if(!is_object_isObject(i))throw new errors_JWTInvalid("JWT Claims Set must be a top-level JSON object");let{requiredClaims:x=[],issuer:U,subject:D,audience:K,maxTokenAge:B}=o;for(let e of(void 0!==B&&x.push("iat"),void 0!==K&&x.push("aud"),void 0!==D&&x.push("sub"),void 0!==U&&x.push("iss"),new Set(x.reverse())))if(!(e in i))throw new JWTClaimValidationFailed(`missing required "${e}" claim`,e,"missing");if(U&&!(Array.isArray(U)?U:[U]).includes(i.iss))throw new JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(D&&i.sub!==D)throw new JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(K&&!checkAudiencePresence(i.aud,"string"==typeof K?[K]:K))throw new JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");switch(typeof o.clockTolerance){case"string":c=secs(o.clockTolerance);break;case"number":c=o.clockTolerance;break;case"undefined":c=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:q}=o,ee=epoch(q||new Date);if((void 0!==i.iat||B)&&"number"!=typeof i.iat)throw new JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0!==i.nbf){if("number"!=typeof i.nbf)throw new JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(i.nbf>ee+c)throw new JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==i.exp){if("number"!=typeof i.exp)throw new JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(i.exp<=ee-c)throw new JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(B){let e=ee-i.iat,t="number"==typeof B?B:secs(B);if(e-c>t)throw new JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-c)throw new JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return i};async function jwtDecrypt(e,t,o){let i=await compactDecrypt(e,t,o),c=jwt_claims_set(i.protectedHeader,i.plaintext,o),{protectedHeader:f}=i;if(void 0!==f.iss&&f.iss!==c.iss)throw new JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==f.sub&&f.sub!==c.sub)throw new JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==f.aud&&JSON.stringify(f.aud)!==JSON.stringify(c.aud))throw new JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");let x={payload:c,protectedHeader:f};return"function"==typeof t?{...x,key:i.key}:x}let CompactEncrypt=class CompactEncrypt{constructor(e){this._flattened=new encrypt_FlattenedEncrypt(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let o=await this._flattened.encrypt(e,t);return[o.protected,o.encrypted_key,o.iv,o.ciphertext,o.tag].join(".")}};let produce_ProduceJWT=class produce_ProduceJWT{constructor(e){if(!is_object_isObject(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:epoch(new Date)+secs(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:epoch(new Date)+secs(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:epoch(new Date)}:this._payload={...this._payload,iat:e},this}};let EncryptJWT=class EncryptJWT extends produce_ProduceJWT{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let o=new CompactEncrypt(eW.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),o.setProtectedHeader(this._protectedHeader),this._iv&&o.setInitializationVector(this._iv),this._cek&&o.setContentEncryptionKey(this._cek),this._keyManagementParameters&&o.setKeyManagementParameters(this._keyManagementParameters),o.encrypt(e,t)}};function isJWKLike(e){return isObject(e)}let now=()=>Date.now()/1e3|0;async function jwt_encode(e){let{token:t={},secret:o,maxAge:i=2592e3}=e,c=await getDerivedEncryptionKey(o);return await new EncryptJWT(t).setProtectedHeader({alg:"dir",enc:"A256GCM"}).setIssuedAt().setExpirationTime(now()+i).setJti(crypto.randomUUID()).encrypt(c)}async function jwt_decode(e){let{token:t,secret:o}=e;if(!t)return null;let i=await getDerivedEncryptionKey(o),{payload:c}=await jwtDecrypt(t,i,{clockTolerance:15});return c}async function getDerivedEncryptionKey(e){return await web_hkdf("sha256",e,"","Auth.js Generated Encryption Key",32)}async function createCallbackUrl({options:e,paramValue:t,cookieValue:o}){let{url:i,callbacks:c}=e,f=i.origin;return t?f=await c.redirect({url:t,baseUrl:i.origin}):o&&(f=await c.redirect({url:o,baseUrl:i.origin})),{callbackUrl:f,callbackUrlCookie:f!==o?f:void 0}}var eZ=o(0);async function getBody(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");if(t?.includes("application/json"))return await e.json();if(t?.includes("application/x-www-form-urlencoded")){let t=new URLSearchParams(await e.text());return Object.fromEntries(t)}}let e0=["providers","session","csrf","signin","signout","callback","verify-request","error"];async function toInternalRequest(e){try{let t;let o=new URL(e.url.replace(/\/$/,""));o.searchParams.delete("nextauth");let i=o.pathname.replace(/\/$/,""),c=e0.find(e=>i.includes(e));if(!c)throw new UnknownAction(`Cannot detect action in pathname (${i}).`);if("GET"!==e.method&&"POST"!==e.method)throw new UnknownAction("Only GET and POST requests are supported.");let f=i.split("/").pop();return f&&!c.includes(f)&&["signin","callback"].includes(c)&&(t=f),{url:o,action:c,providerId:t,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await getBody(e):void 0,cookies:(0,eZ.Q)(e.headers.get("cookie")??"")??{},error:o.searchParams.get("error")??void 0,query:Object.fromEntries(o.searchParams)}}catch(e){return e}}function toRequest(e){return new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}function toResponse(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:o,value:i,options:c}=e,f=eZ.q(o,i,c);t.has("Set-Cookie")?t.append("Set-Cookie",f):t.set("Set-Cookie",f)});let o=e.body;"application/json"===t.get("content-type")?o=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(o=new URLSearchParams(e.body).toString());let i=e.redirect?302:e.status??200,c=new Response(o,{headers:t,status:i});return e.redirect&&c.headers.set("Location",e.redirect),c}async function createHash(e){let t=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(o)).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function randomString(e){let i2hex=e=>("0"+e.toString(16)).slice(-2),t=crypto.getRandomValues(new Uint8Array(e));return Array.from(t).reduce((e,t)=>e+i2hex(t),"")}async function createCSRFToken({options:e,cookieValue:t,isPost:o,bodyValue:i}){if(t){let[c,f]=t.split("|"),x=await createHash(`${c}${e.secret}`);if(f===x){let e=o&&c===i;return{csrfTokenVerified:e,csrfToken:c}}}let c=randomString(32),f=await createHash(`${c}${e.secret}`),x=`${c}|${f}`;return{cookie:x,csrfToken:c}}let e1={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>e,jwt:({token:e})=>e};function merge_isObject(e){return e&&"object"==typeof e&&!Array.isArray(e)}function merge(e,...t){if(!t.length)return e;let o=t.shift();if(merge_isObject(e)&&merge_isObject(o))for(let t in o)merge_isObject(o[t])?(e[t]||Object.assign(e,{[t]:{}}),merge(e[t],o[t])):Object.assign(e,{[t]:o[t]});return merge(e,...t)}function parseProviders(e){let{url:t,providerId:o,options:i}=e,c=e.providers.map(e=>{let o="function"==typeof e?e():e,{options:c,...f}=o,x=c?.id??f.id,U=merge(f,c,{signinUrl:`${t}/signin/${x}`,callbackUrl:`${t}/callback/${x}`});return"oauth"===o.type||"oidc"===o.type?(U.redirectProxyUrl??(U.redirectProxyUrl=i.redirectProxyUrl),normalizeOAuth(U)):U});return{providers:c,provider:c.find(({id:e})=>e===o)}}function normalizeOAuth(e){e.issuer&&(e.wellKnown??(e.wellKnown=`${e.issuer}/.well-known/openid-configuration`));let t=normalizeEndpoint(e.authorization,e.issuer);t&&!t.url?.searchParams.has("scope")&&t.url.searchParams.set("scope","openid profile email");let o=normalizeEndpoint(e.token,e.issuer),i=normalizeEndpoint(e.userinfo,e.issuer),c=e.checks??["pkce"];return e.redirectProxyUrl&&(c.includes("state")||c.push("state"),e.redirectProxyUrl=`${e.redirectProxyUrl}/callback/${e.id}`),{...e,authorization:t,token:o,checks:c,userinfo:i,profile:e.profile??defaultProfile,account:e.account??defaultAccount}}let defaultProfile=e=>{let t=e.sub??e.id;if(!t)throw new OAuthProfileParseError("Missing user id");return stripUndefined({id:t.toString(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture})},defaultAccount=e=>stripUndefined({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function stripUndefined(e){let t={};for(let[o,i]of Object.entries(e))void 0!==i&&(t[o]=i);return t}function normalizeEndpoint(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let o=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,i]of Object.entries(e.params))"claims"===t&&(i=JSON.stringify(i)),o.searchParams.set(t,String(i));return{url:o,request:e?.request,conform:e?.conform}}let e2="\x1b[31m",e4="\x1b[0m",e3={error(e){let t=`https://errors.authjs.dev#${e.name.toLowerCase()}`;if(console.error(`${e2}[auth][error][${e.name}]${e4}:${e.message?` ${e.message}.`:""} Read more at ${t}`),e.cause){let{err:t,...o}=e.cause;console.error(`${e2}[auth][cause]${e4}:`,t.stack),console.error(`${e2}[auth][details]${e4}:`,JSON.stringify(o,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){let t=`https://warnings.authjs.dev#${e}`;console.warn(`[33m[auth][warn][${e}]${e4}`,`Read more: ${t}`)},debug(e,t){console.log(`[90m[auth][debug]:${e4} ${e}`,JSON.stringify(t,null,2))}};function setLogger(e={},t){t||(e3.debug=()=>{}),e.error&&(e3.error=e.error),e.warn&&(e3.warn=e.warn),e.debug&&(e3.debug=e.debug)}function parseUrl(e){let t=new URL("http://localhost:3000/api/auth");e&&!e.toString().startsWith("http")&&(e=`https://${e}`);let o=new URL(e??t),i=("/"===o.pathname?t.pathname:o.pathname).replace(/\/$/,""),c=`${o.origin}${i}`;return{origin:o.origin,host:o.host,path:i,base:c,toString:()=>c}}async function init({authOptions:e,providerId:t,action:o,url:i,cookies:c,callbackUrl:f,csrfToken:x,csrfDisabled:U,isPost:D}){let K=parseUrl(i.origin+i.pathname.replace(`/${o}`,"").replace(`/${t}`,"")),B=new URL(K.toString()),{providers:q,provider:ee}=parseProviders({providers:e.providers,url:B,providerId:t,options:e}),et=!1;if((ee?.type==="oauth"||ee?.type==="oidc")&&ee.redirectProxyUrl)try{et=new URL(ee.redirectProxyUrl).origin===B.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${ee.redirectProxyUrl}`)}let er={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:B,action:o,provider:ee,cookies:{...defaultCookies(e.useSecureCookies??"https:"===B.protocol),...e.cookies},providers:q,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:jwt_encode,decode:jwt_decode,...e.jwt},events:eventsErrorHandler(e.events??{},e3),adapter:adapterErrorHandler(e.adapter,e3),callbacks:{...e1,...e.callbacks},logger:e3,callbackUrl:B.origin,isOnRedirectProxy:et},en=[];if(!U){let{csrfToken:e,cookie:t,csrfTokenVerified:o}=await createCSRFToken({options:er,cookieValue:c?.[er.cookies.csrfToken.name],isPost:D,bodyValue:x});er.csrfToken=e,er.csrfTokenVerified=o,t&&en.push({name:er.cookies.csrfToken.name,value:t,options:er.cookies.csrfToken.options})}let{callbackUrl:eo,callbackUrlCookie:ea}=await createCallbackUrl({options:er,cookieValue:c?.[er.cookies.callbackUrl.name],paramValue:f});return er.callbackUrl=eo,ea&&en.push({name:er.cookies.callbackUrl.name,value:ea,options:er.cookies.callbackUrl.options}),{options:er,cookies:en}}function eventsErrorHandler(e,t){return Object.keys(e).reduce((o,i)=>(o[i]=async(...o)=>{try{let t=e[i];return await t(...o)}catch(e){t.error(new EventError(e))}},o),{})}function adapterErrorHandler(e,t){if(e)return Object.keys(e).reduce((o,i)=>(o[i]=async(...o)=>{try{t.debug(`adapter_${i}`,{args:o});let c=e[i];return await c(...o)}catch(o){let e=new AdapterError(o);throw t.error(e),e}},o),{})}var e5,e8,e6,e9,e7,te,tt,tr,tn,to,ta,ti={},ts=[],tl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(e,t){for(var o in t)e[o]=t[o];return e}function a(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,o,i,c){var f={type:e,props:t,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==c?++tn:c};return null==c&&null!=tr.vnode&&tr.vnode(f),f}function preact_module_p(e){return e.children}function d(e,t){this.props=e,this.context=t}function _(e,t){if(null==t)return e.__?_(e.__,e.__.__k.indexOf(e)+1):null;for(var o;t<e.__k.length;t++)if(null!=(o=e.__k[t])&&null!=o.__e)return o.__e;return"function"==typeof e.type?_(e):null}function k(e){var t,o;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(o=e.__k[t])&&null!=o.__e){e.__e=e.__c.base=o.__e;break}return k(e)}}function b(e){(!e.__d&&(e.__d=!0)&&to.push(e)&&!g.__r++||ta!==tr.debounceRendering)&&((ta=tr.debounceRendering)||setTimeout)(g)}function g(){for(var e;g.__r=to.length;)e=to.sort(function(e,t){return e.__v.__b-t.__v.__b}),to=[],e.some(function(e){var t,o,i,c,f;e.__d&&(c=(i=e.__v).__e,(f=e.__P)&&(t=[],(o=s({},i)).__v=i.__v+1,j(f,i,o,e.__n,void 0!==f.ownerSVGElement,null!=i.__h?[c]:null,t,null==c?_(i):c,i.__h),z(t,i),i.__e!=c&&k(i)))})}function w(e,t,o,i,c,f,x,U,D,K){var B,q,ee,et,er,en,eo,ea=i&&i.__k||ts,ei=ea.length;for(o.__k=[],B=0;B<t.length;B++)if(null!=(et=o.__k[B]=null==(et=t[B])||"boolean"==typeof et?null:"string"==typeof et||"number"==typeof et||"bigint"==typeof et?v(null,et,null,null,et):Array.isArray(et)?v(preact_module_p,{children:et},null,null,null):et.__b>0?v(et.type,et.props,et.key,et.ref?et.ref:null,et.__v):et)){if(et.__=o,et.__b=o.__b+1,null===(ee=ea[B])||ee&&et.key==ee.key&&et.type===ee.type)ea[B]=void 0;else for(q=0;q<ei;q++){if((ee=ea[q])&&et.key==ee.key&&et.type===ee.type){ea[q]=void 0;break}ee=null}j(e,et,ee=ee||ti,c,f,x,U,D,K),er=et.__e,(q=et.ref)&&ee.ref!=q&&(eo||(eo=[]),ee.ref&&eo.push(ee.ref,null,et),eo.push(q,et.__c||er,et)),null!=er?(null==en&&(en=er),"function"==typeof et.type&&et.__k===ee.__k?et.__d=D=m(et,D,e):D=A(e,et,ee,ea,er,D),"function"==typeof o.type&&(o.__d=D)):D&&ee.__e==D&&D.parentNode!=e&&(D=_(ee))}for(o.__e=en,B=ei;B--;)null!=ea[B]&&N(ea[B],ea[B]);if(eo)for(B=0;B<eo.length;B++)M(eo[B],eo[++B],eo[++B])}function m(e,t,o){for(var i,c=e.__k,f=0;c&&f<c.length;f++)(i=c[f])&&(i.__=e,t="function"==typeof i.type?m(i,t,o):A(o,i,i,c,i.__e,t));return t}function A(e,t,o,i,c,f){var x,U,D;if(void 0!==t.__d)x=t.__d,t.__d=void 0;else if(null==o||c!=f||null==c.parentNode)e:if(null==f||f.parentNode!==e)e.appendChild(c),x=null;else{for(U=f,D=0;(U=U.nextSibling)&&D<i.length;D+=1)if(U==c)break e;e.insertBefore(c,f),x=f}return void 0!==x?x:c.nextSibling}function C(e,t,o,i,c){var f;for(f in o)"children"===f||"key"===f||f in t||H(e,f,null,o[f],i);for(f in t)c&&"function"!=typeof t[f]||"children"===f||"key"===f||"value"===f||"checked"===f||o[f]===t[f]||H(e,f,t[f],o[f],i)}function $(e,t,o){"-"===t[0]?e.setProperty(t,o):e[t]=null==o?"":"number"!=typeof o||tl.test(t)?o:o+"px"}function H(e,t,o,i,c){var f;e:if("style"===t){if("string"==typeof o)e.style.cssText=o;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)o&&t in o||$(e.style,t,"");if(o)for(t in o)i&&o[t]===i[t]||$(e.style,t,o[t])}}else if("o"===t[0]&&"n"===t[1])f=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase() in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+f]=o,o?i||e.addEventListener(t,f?T:I,f):e.removeEventListener(t,f?T:I,f);else if("dangerouslySetInnerHTML"!==t){if(c)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==o?"":o;break e}catch(e){}"function"==typeof o||(null==o||!1===o&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,o))}}function I(e){this.l[e.type+!1](tr.event?tr.event(e):e)}function T(e){this.l[e.type+!0](tr.event?tr.event(e):e)}function j(e,t,o,i,c,f,x,U,D){var K,B,q,ee,et,er,en,eo,ea,ei,es,el,ec,eu,ed,ep=t.type;if(void 0!==t.constructor)return null;null!=o.__h&&(D=o.__h,U=t.__e=o.__e,t.__h=null,f=[U]),(K=tr.__b)&&K(t);try{e:if("function"==typeof ep){if(eo=t.props,ea=(K=ep.contextType)&&i[K.__c],ei=K?ea?ea.props.value:K.__:i,o.__c?en=(B=t.__c=o.__c).__=B.__E:("prototype"in ep&&ep.prototype.render?t.__c=B=new ep(eo,ei):(t.__c=B=new d(eo,ei),B.constructor=ep,B.render=O),ea&&ea.sub(B),B.props=eo,B.state||(B.state={}),B.context=ei,B.__n=i,q=B.__d=!0,B.__h=[],B._sb=[]),null==B.__s&&(B.__s=B.state),null!=ep.getDerivedStateFromProps&&(B.__s==B.state&&(B.__s=s({},B.__s)),s(B.__s,ep.getDerivedStateFromProps(eo,B.__s))),ee=B.props,et=B.state,q)null==ep.getDerivedStateFromProps&&null!=B.componentWillMount&&B.componentWillMount(),null!=B.componentDidMount&&B.__h.push(B.componentDidMount);else{if(null==ep.getDerivedStateFromProps&&eo!==ee&&null!=B.componentWillReceiveProps&&B.componentWillReceiveProps(eo,ei),!B.__e&&null!=B.shouldComponentUpdate&&!1===B.shouldComponentUpdate(eo,B.__s,ei)||t.__v===o.__v){for(B.props=eo,B.state=B.__s,t.__v!==o.__v&&(B.__d=!1),B.__v=t,t.__e=o.__e,t.__k=o.__k,t.__k.forEach(function(e){e&&(e.__=t)}),es=0;es<B._sb.length;es++)B.__h.push(B._sb[es]);B._sb=[],B.__h.length&&x.push(B);break e}null!=B.componentWillUpdate&&B.componentWillUpdate(eo,B.__s,ei),null!=B.componentDidUpdate&&B.__h.push(function(){B.componentDidUpdate(ee,et,er)})}if(B.context=ei,B.props=eo,B.__v=t,B.__P=e,el=tr.__r,ec=0,"prototype"in ep&&ep.prototype.render){for(B.state=B.__s,B.__d=!1,el&&el(t),K=B.render(B.props,B.state,B.context),eu=0;eu<B._sb.length;eu++)B.__h.push(B._sb[eu]);B._sb=[]}else do B.__d=!1,el&&el(t),K=B.render(B.props,B.state,B.context),B.state=B.__s;while(B.__d&&++ec<25);B.state=B.__s,null!=B.getChildContext&&(i=s(s({},i),B.getChildContext())),q||null==B.getSnapshotBeforeUpdate||(er=B.getSnapshotBeforeUpdate(ee,et)),ed=null!=K&&K.type===preact_module_p&&null==K.key?K.props.children:K,w(e,Array.isArray(ed)?ed:[ed],t,o,i,c,f,x,U,D),B.base=t.__e,t.__h=null,B.__h.length&&x.push(B),en&&(B.__E=B.__=null),B.__e=!1}else null==f&&t.__v===o.__v?(t.__k=o.__k,t.__e=o.__e):t.__e=L(o.__e,t,o,i,c,f,x,D);(K=tr.diffed)&&K(t)}catch(e){t.__v=null,(D||null!=f)&&(t.__e=U,t.__h=!!D,f[f.indexOf(U)]=null),tr.__e(e,t,o)}}function z(e,t){tr.__c&&tr.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){tr.__e(e,t.__v)}})}function L(e,t,o,i,c,f,x,U){var D,K,B,q=o.props,ee=t.props,et=t.type,er=0;if("svg"===et&&(c=!0),null!=f){for(;er<f.length;er++)if((D=f[er])&&"setAttribute"in D==!!et&&(et?D.localName===et:3===D.nodeType)){e=D,f[er]=null;break}}if(null==e){if(null===et)return document.createTextNode(ee);e=c?document.createElementNS("http://www.w3.org/2000/svg",et):document.createElement(et,ee.is&&ee),f=null,U=!1}if(null===et)q===ee||U&&e.data===ee||(e.data=ee);else{if(f=f&&tt.call(e.childNodes),K=(q=o.props||ti).dangerouslySetInnerHTML,B=ee.dangerouslySetInnerHTML,!U){if(null!=f)for(q={},er=0;er<e.attributes.length;er++)q[e.attributes[er].name]=e.attributes[er].value;(B||K)&&(B&&(K&&B.__html==K.__html||B.__html===e.innerHTML)||(e.innerHTML=B&&B.__html||""))}if(C(e,ee,q,c,U),B)t.__k=[];else if(w(e,Array.isArray(er=t.props.children)?er:[er],t,o,i,c&&"foreignObject"!==et,f,x,f?f[0]:o.__k&&_(o,0),U),null!=f)for(er=f.length;er--;)null!=f[er]&&a(f[er]);U||("value"in ee&&void 0!==(er=ee.value)&&(er!==e.value||"progress"===et&&!er||"option"===et&&er!==q.value)&&H(e,"value",er,q.value,!1),"checked"in ee&&void 0!==(er=ee.checked)&&er!==e.checked&&H(e,"checked",er,q.checked,!1))}return e}function M(e,t,o){try{"function"==typeof e?e(t):e.current=t}catch(e){tr.__e(e,o)}}function N(e,t,o){var i,c;if(tr.unmount&&tr.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||M(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){tr.__e(e,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(c=0;c<i.length;c++)i[c]&&N(i[c],t,o||"function"!=typeof e.type);o||null==e.__e||a(e.__e),e.__=e.__e=e.__d=void 0}function O(e,t,o){return this.constructor(e,o)}tt=ts.slice,tr={__e:function(e,t,o,i){for(var c,f,x;t=t.__;)if((c=t.__c)&&!c.__)try{if((f=c.constructor)&&null!=f.getDerivedStateFromError&&(c.setState(f.getDerivedStateFromError(e)),x=c.__d),null!=c.componentDidCatch&&(c.componentDidCatch(e,i||{}),x=c.__d),x)return c.__E=c}catch(t){e=t}throw e}},tn=0,d.prototype.setState=function(e,t){var o;o=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),"function"==typeof e&&(e=e(s({},o),this.props)),e&&s(o,e),null!=e&&this.__v&&(t&&this._sb.push(t),b(this))},d.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),b(this))},d.prototype.render=preact_module_p,to=[],g.__r=0;var tc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,tu=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,td=/[\s\n\\/='"\0<>]/,tp=/^xlink:?./,th=/["&<]/;function l(e){if(!1===th.test(e+=""))return e;for(var t=0,o=0,i="",c="";o<e.length;o++){switch(e.charCodeAt(o)){case 34:c="&quot;";break;case 38:c="&amp;";break;case 60:c="&lt;";break;default:continue}o!==t&&(i+=e.slice(t,o)),i+=c,t=o+1}return o!==t&&(i+=e.slice(t,o)),i}var dist_s=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},dist_f=function(e,t,o){return String(e).length>(t||40)||!o&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},tf={},tg=/([A-Z])/g;function p(e){var t="";for(var o in e){var i=e[o];null!=i&&""!==i&&(t&&(t+=" "),t+="-"==o[0]?o:tf[o]||(tf[o]=o.replace(tg,"-$1").toLowerCase()),t="number"==typeof i&&!1===tc.test(o)?t+": "+i+"px;":t+": "+i+";")}return t||void 0}function dist_(e,t){return Array.isArray(t)?t.reduce(dist_,e):null!=t&&!1!==t&&e.push(t),e}function dist_d(){this.__d=!0}function dist_v(e,t){return{__v:e,context:t,props:e.props,setState:dist_d,forceUpdate:dist_d,__d:!0,__h:[]}}function dist_h(e,t){var o=e.contextType,i=o&&t[o.__c];return null!=o?i?i.props.value:o.__:t}var tm=[];function dist_y(e,t,o,i,c,f){if(null==e||"boolean"==typeof e)return"";if("object"!=typeof e)return l(e);var x=o.pretty,U=x&&"string"==typeof x?x:"	";if(Array.isArray(e)){for(var D="",K=0;K<e.length;K++)x&&K>0&&(D+="\n"),D+=dist_y(e[K],t,o,i,c,f);return D}var B,q=e.type,ee=e.props,et=!1;if("function"==typeof q){if(et=!0,!o.shallow||!i&&!1!==o.renderRootComponent){if(q===preact_module_p){var er=[];return dist_(er,e.props.children),dist_y(er,t,o,!1!==o.shallowHighOrder,c,f)}var en,eo=e.__c=dist_v(e,t);tr.__b&&tr.__b(e);var ea=tr.__r;if(q.prototype&&"function"==typeof q.prototype.render){var ei=dist_h(q,t);(eo=e.__c=new q(ee,ei)).__v=e,eo._dirty=eo.__d=!0,eo.props=ee,null==eo.state&&(eo.state={}),null==eo._nextState&&null==eo.__s&&(eo._nextState=eo.__s=eo.state),eo.context=ei,q.getDerivedStateFromProps?eo.state=Object.assign({},eo.state,q.getDerivedStateFromProps(eo.props,eo.state)):eo.componentWillMount&&(eo.componentWillMount(),eo.state=eo._nextState!==eo.state?eo._nextState:eo.__s!==eo.state?eo.__s:eo.state),ea&&ea(e),en=eo.render(eo.props,eo.state,eo.context)}else for(var es=dist_h(q,t),el=0;eo.__d&&el++<25;)eo.__d=!1,ea&&ea(e),en=q.call(e.__c,ee,es);return eo.getChildContext&&(t=Object.assign({},t,eo.getChildContext())),tr.diffed&&tr.diffed(e),dist_y(en,t,o,!1!==o.shallowHighOrder,c,f)}q=(B=q).displayName||B!==Function&&B.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var o=-1,i=tm.length;i--;)if(tm[i]===e){o=i;break}o<0&&(o=tm.push(e)-1),t="UnnamedComponent"+o}return t}(B)}var ec,eu,ed="<"+q;if(ee){var ep=Object.keys(ee);o&&!0===o.sortAttributes&&ep.sort();for(var eh=0;eh<ep.length;eh++){var ef=ep[eh],eg=ee[ef];if("children"!==ef){if(!td.test(ef)&&(o&&o.allAttributes||"key"!==ef&&"ref"!==ef&&"__self"!==ef&&"__source"!==ef)){if("defaultValue"===ef)ef="value";else if("defaultChecked"===ef)ef="checked";else if("defaultSelected"===ef)ef="selected";else if("className"===ef){if(void 0!==ee.class)continue;ef="class"}else c&&tp.test(ef)&&(ef=ef.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===ef){if(ee.for)continue;ef="for"}"style"===ef&&eg&&"object"==typeof eg&&(eg=p(eg)),"a"===ef[0]&&"r"===ef[1]&&"boolean"==typeof eg&&(eg=String(eg));var em=o.attributeHook&&o.attributeHook(ef,eg,t,o,et);if(em||""===em)ed+=em;else if("dangerouslySetInnerHTML"===ef)eu=eg&&eg.__html;else if("textarea"===q&&"value"===ef)ec=eg;else if((eg||0===eg||""===eg)&&"function"!=typeof eg){if(!(!0!==eg&&""!==eg||(eg=ef,o&&o.xml))){ed=ed+" "+ef;continue}if("value"===ef){if("select"===q){f=eg;continue}"option"===q&&f==eg&&void 0===ee.selected&&(ed+=" selected")}ed=ed+" "+ef+'="'+l(eg)+'"'}}}else ec=eg}}if(x){var ey=ed.replace(/\n\s*/," ");ey===ed||~ey.indexOf("\n")?x&&~ed.indexOf("\n")&&(ed+="\n"):ed=ey}if(ed+=">",td.test(q))throw Error(q+" is not a valid HTML tag name in "+ed);var e_,ev=tu.test(q)||o.voidElements&&o.voidElements.test(q),ew=[];if(eu)x&&dist_f(eu)&&(eu="\n"+U+dist_s(eu,U)),ed+=eu;else if(null!=ec&&dist_(e_=[],ec).length){for(var eb=x&&~ed.indexOf("\n"),eS=!1,eE=0;eE<e_.length;eE++){var ek=e_[eE];if(null!=ek&&!1!==ek){var ex=dist_y(ek,t,o,!0,"svg"===q||"foreignObject"!==q&&c,f);if(x&&!eb&&dist_f(ex)&&(eb=!0),ex){if(x){var eC=ex.length>0&&"<"!=ex[0];eS&&eC?ew[ew.length-1]+=ex:ew.push(ex),eS=eC}else ew.push(ex)}}}if(x&&eb)for(var eA=ew.length;eA--;)ew[eA]="\n"+U+dist_s(ew[eA],U)}if(ew.length||eu)ed+=ew.join("");else if(o&&o.xml)return ed.substring(0,ed.length-1)+" />";return!ev||e_||eu?(x&&~ed.indexOf("\n")&&(ed+="\n"),ed=ed+"</"+q+">"):ed=ed.replace(/>$/," />"),ed}var ty={shallow:!0};dist_k.render=dist_k;var t_=[];function dist_k(e,t,o){t=t||{};var i,c=tr.__s;return tr.__s=!0,i=o&&(o.pretty||o.voidElements||o.sortAttributes||o.shallow||o.allAttributes||o.xml||o.attributeHook)?dist_y(e,t,o):dist_j(e,t,!1,void 0),tr.__c&&tr.__c(e,t_),tr.__s=c,t_.length=0,i}function dist_S(e,t){return"className"===e?"class":"htmlFor"===e?"for":"defaultValue"===e?"value":"defaultChecked"===e?"checked":"defaultSelected"===e?"selected":t&&tp.test(e)?e.toLowerCase().replace(/^xlink:?/,"xlink:"):e}function dist_w(e,t){return"style"===e&&null!=t&&"object"==typeof t?p(t):"a"===e[0]&&"r"===e[1]&&"boolean"==typeof t?String(t):t}var tv=Array.isArray,tw=Object.assign;function dist_j(e,t,o,i){if(null==e||!0===e||!1===e||""===e)return"";if("object"!=typeof e)return l(e);if(tv(e)){for(var c="",f=0;f<e.length;f++)c+=dist_j(e[f],t,o,i);return c}tr.__b&&tr.__b(e);var x=e.type,U=e.props;if("function"==typeof x){if(x===preact_module_p)return dist_j(e.props.children,t,o,i);et=x.prototype&&"function"==typeof x.prototype.render?(D=t,B=dist_h(K=e.type,D),q=new K(e.props,B),e.__c=q,q.__v=e,q.__d=!0,q.props=e.props,null==q.state&&(q.state={}),null==q.__s&&(q.__s=q.state),q.context=B,K.getDerivedStateFromProps?q.state=tw({},q.state,K.getDerivedStateFromProps(q.props,q.state)):q.componentWillMount&&(q.componentWillMount(),q.state=q.__s!==q.state?q.__s:q.state),(ee=tr.__r)&&ee(e),q.render(q.props,q.state,q.context)):function(e,t){var o,i=dist_v(e,t),c=dist_h(e.type,t);e.__c=i;for(var f=tr.__r,x=0;i.__d&&x++<25;)i.__d=!1,f&&f(e),o=e.type.call(i,e.props,c);return o}(e,t);var D,K,B,q,ee,et,er=e.__c;er.getChildContext&&(t=tw({},t,er.getChildContext()));var en=dist_j(et,t,o,i);return tr.diffed&&tr.diffed(e),en}var eo,ea,ei="<";if(ei+=x,U)for(var es in eo=U.children,U){var el=U[es];if(!("key"===es||"ref"===es||"__self"===es||"__source"===es||"children"===es||"className"===es&&"class"in U||"htmlFor"===es&&"for"in U||td.test(es))){if(el=dist_w(es=dist_S(es,o),el),"dangerouslySetInnerHTML"===es)ea=el&&el.__html;else if("textarea"===x&&"value"===es)eo=el;else if((el||0===el||""===el)&&"function"!=typeof el){if(!0===el||""===el){el=es,ei=ei+" "+es;continue}if("value"===es){if("select"===x){i=el;continue}"option"!==x||i!=el||"selected"in U||(ei+=" selected")}ei=ei+" "+es+'="'+l(el)+'"'}}}var ec=ei;if(ei+=">",td.test(x))throw Error(x+" is not a valid HTML tag name in "+ei);var eu="",ed=!1;if(ea)eu+=ea,ed=!0;else if("string"==typeof eo)eu+=l(eo),ed=!0;else if(tv(eo))for(var ep=0;ep<eo.length;ep++){var eh=eo[ep];if(null!=eh&&!1!==eh){var ef=dist_j(eh,t,"svg"===x||"foreignObject"!==x&&o,i);ef&&(eu+=ef,ed=!0)}}else if(null!=eo&&!1!==eo&&!0!==eo){var eg=dist_j(eo,t,"svg"===x||"foreignObject"!==x&&o,i);eg&&(eu+=eg,ed=!0)}if(tr.diffed&&tr.diffed(e),ed)ei+=eu;else if(tu.test(x))return ec+" />";return ei+"</"+x+">"}dist_k.shallowRender=function(e,t){return dist_k(e,t,ty)};var tS=0;function jsxRuntime_module_o(e,t,o,i,c){var f,x,U={};for(x in t)"ref"==x?f=t[x]:U[x]=t[x];var D={type:e,props:U,key:o,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--tS,__source:c,__self:i};if("function"==typeof e&&(f=e.defaultProps))for(x in f)void 0===U[x]&&(U[x]=f[x]);return tr.vnode&&tr.vnode(D),D}function ErrorPage(e){let{url:t,error:o="default",theme:i}=e,c=`${t}/signin`,f={default:{status:200,heading:"Error",message:jsxRuntime_module_o("p",{children:jsxRuntime_module_o("a",{className:"site",href:t?.origin,children:t?.host})})},configuration:{status:500,heading:"Server error",message:jsxRuntime_module_o("div",{children:[jsxRuntime_module_o("p",{children:"There is a problem with the server configuration."}),jsxRuntime_module_o("p",{children:"Check the server logs for more information."})]})},accessdenied:{status:403,heading:"Access Denied",message:jsxRuntime_module_o("div",{children:[jsxRuntime_module_o("p",{children:"You do not have permission to sign in."}),jsxRuntime_module_o("p",{children:jsxRuntime_module_o("a",{className:"button",href:c,children:"Sign in"})})]})},verification:{status:403,heading:"Unable to sign in",message:jsxRuntime_module_o("div",{children:[jsxRuntime_module_o("p",{children:"The sign in link is no longer valid."}),jsxRuntime_module_o("p",{children:"It may have been used already or it may have expired."})]}),signin:jsxRuntime_module_o("p",{children:jsxRuntime_module_o("a",{className:"button",href:c,children:"Sign in"})})}},{status:x,heading:U,message:D,signin:K}=f[o.toLowerCase()]??f.default;return{status:x,html:jsxRuntime_module_o("div",{className:"error",children:[i?.brandColor&&jsxRuntime_module_o("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${i?.brandColor}
        }
      `}}),jsxRuntime_module_o("div",{className:"card",children:[i?.logo&&jsxRuntime_module_o("img",{src:i?.logo,alt:"Logo",className:"logo"}),jsxRuntime_module_o("h1",{children:U}),jsxRuntime_module_o("div",{className:"message",children:D}),K]})]})}}let tE={default:"Unable to sign in.",signin:"Try signing in with a different account.",oauthsignin:"Try signing in with a different account.",oauthcallbackerror:"Try signing in with a different account.",oauthcreateaccount:"Try signing in with a different account.",emailcreateaccount:"Try signing in with a different account.",callback:"Try signing in with a different account.",oauthaccountnotlinked:"To confirm your identity, sign in with the same account you used originally.",emailsignin:"The e-mail could not be sent.",credentialssignin:"Sign in failed. Check the details you provided are correct.",sessionrequired:"Please sign in to access this page."};function SigninPage(e){let{csrfToken:t,providers:o=[],callbackUrl:i,theme:c,email:f,error:x}=e;"undefined"!=typeof document&&c.brandColor&&document.documentElement.style.setProperty("--brand-color",c.brandColor),"undefined"!=typeof document&&c.buttonText&&document.documentElement.style.setProperty("--button-text-color",c.buttonText);let U=x&&(tE[x.toLowerCase()]??tE.default),D="https://authjs.dev/img/providers";return jsxRuntime_module_o("div",{className:"signin",children:[c.brandColor&&jsxRuntime_module_o("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${c.brandColor}}`}}),c.buttonText&&jsxRuntime_module_o("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${c.buttonText}
        }
      `}}),jsxRuntime_module_o("div",{className:"card",children:[U&&jsxRuntime_module_o("div",{className:"error",children:jsxRuntime_module_o("p",{children:U})}),o.map((e,c)=>jsxRuntime_module_o("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?jsxRuntime_module_o("form",{action:e.signinUrl,method:"POST",children:[jsxRuntime_module_o("input",{type:"hidden",name:"csrfToken",value:t}),i&&jsxRuntime_module_o("input",{type:"hidden",name:"callbackUrl",value:i}),jsxRuntime_module_o("button",{type:"submit",className:"button",style:{"--provider-bg":e.style?.bg??"","--provider-dark-bg":e.style?.bgDark??"","--provider-color":e.style?.text??"","--provider-dark-color":e.style?.textDark??"",gap:8},children:[e.style?.logo&&jsxRuntime_module_o("img",{loading:"lazy",height:24,width:24,id:"provider-logo",src:`${e.style.logo.startsWith("/")?D:""}${e.style.logo}`}),e.style?.logoDark&&jsxRuntime_module_o("img",{loading:"lazy",height:24,width:24,id:"provider-logo-dark",src:`${e.style.logo.startsWith("/")?D:""}${e.style.logoDark}`}),jsxRuntime_module_o("span",{children:["Sign in with ",e.name]})]})]}):null,("email"===e.type||"credentials"===e.type)&&c>0&&"email"!==o[c-1].type&&"credentials"!==o[c-1].type&&jsxRuntime_module_o("hr",{}),"email"===e.type&&jsxRuntime_module_o("form",{action:e.signinUrl,method:"POST",children:[jsxRuntime_module_o("input",{type:"hidden",name:"csrfToken",value:t}),jsxRuntime_module_o("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),jsxRuntime_module_o("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:f,placeholder:"email@example.com",required:!0}),jsxRuntime_module_o("button",{type:"submit",children:["Sign in with ",e.name]})]}),"credentials"===e.type&&jsxRuntime_module_o("form",{action:e.callbackUrl,method:"POST",children:[jsxRuntime_module_o("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>jsxRuntime_module_o("div",{children:[jsxRuntime_module_o("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),jsxRuntime_module_o("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),jsxRuntime_module_o("button",{id:"submitButton",type:"submit",children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type)&&c+1<o.length&&jsxRuntime_module_o("hr",{})]},e.id))]})]})}function SignoutPage(e){let{url:t,csrfToken:o,theme:i}=e;return jsxRuntime_module_o("div",{className:"signout",children:[i.brandColor&&jsxRuntime_module_o("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${i.brandColor}
        }
      `}}),i.buttonText&&jsxRuntime_module_o("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),jsxRuntime_module_o("div",{className:"card",children:[i.logo&&jsxRuntime_module_o("img",{src:i.logo,alt:"Logo",className:"logo"}),jsxRuntime_module_o("h1",{children:"Signout"}),jsxRuntime_module_o("p",{children:"Are you sure you want to sign out?"}),jsxRuntime_module_o("form",{action:`${t}/signout`,method:"POST",children:[jsxRuntime_module_o("input",{type:"hidden",name:"csrfToken",value:o}),jsxRuntime_module_o("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}let tk=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

h1 {
  font-weight: 400;
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

p {
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

input[type]:focus {
    box-shadow: none;
  }

p {
  margin: 0 0 1.5rem 0;
  padding: 0 1rem;
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button span {
  flex-grow: 1;
}

button,
a.button {
  margin: 0 0 0.75rem 0;
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background-card));
  font-size: 1.1rem;
  min-height: 62px;
  border-color: rgba(0, 0, 0, 0.1);
  border-radius: var(--border-radius);
  transition: all 0.1s ease-in-out;
  font-weight: 500;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

@media (max-width: 450px) {

button,
a.button {
    font-size: 0.9rem
}
  }

button:hover, a.button:hover {
    cursor: pointer;
  }

button:active, a.button:active {
    cursor: pointer;
  }

button #provider-logo, a.button #provider-logo {
    width: 25px;
    display: block;
  }

button #provider-logo-dark, a.button #provider-logo-dark {
    display: none;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

@media (prefers-color-scheme: dark) {
  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary));
    background-color: var(--provider-dark-bg, var(--color-background));
  }
  #provider-logo {
    display: none !important;
  }
  #provider-logo-dark {
    width: 25px;
    display: block !important;
  }
}

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
}

.page > div {
    text-align: center;
  }

.error a.button {
    display: inline-block;
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin > div,
  .signin form {

    max-width: 300px;
}

.logo {
  display: inline-block;
  max-width: 150px;
  margin-top: 20px;
  margin-bottom: 25px;
  max-height: 70px;
}

@media screen and (min-width: 450px) {

.card {
    width: 350px
}
  }

@media screen and (max-width: 450px) {

.card {
    width: 200px
}
  }

.card {
  margin: 20px 0 20px 0;
  background-color: var(--color-background-card);
  border-radius: 30px;
  padding: 20px 50px;
}

.card .header {
    color: var(--color-primary);
  }

.section-header {
  color: var(--color-text);
}
`;function VerifyRequestPage(e){let{url:t,theme:o}=e;return jsxRuntime_module_o("div",{className:"verify-request",children:[o.brandColor&&jsxRuntime_module_o("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${o.brandColor}
        }
      `}}),jsxRuntime_module_o("div",{className:"card",children:[o.logo&&jsxRuntime_module_o("img",{src:o.logo,alt:"Logo",className:"logo"}),jsxRuntime_module_o("h1",{children:"Check your email"}),jsxRuntime_module_o("p",{children:"A sign in link has been sent to your email address."}),jsxRuntime_module_o("p",{children:jsxRuntime_module_o("a",{className:"site",href:t.origin,children:t.host})})]})]})}function send({html:e,title:t,status:o,cookies:i,theme:c}){return{cookies:i,status:o,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${tk}</style><title>${t}</title></head><body class="__next-auth-theme-${c?.colorScheme??"auto"}"><div class="page">${dist_k(e)}</div></body></html>`}}function renderPage(e){let{url:t,theme:o,query:i,cookies:c}=e;return{signin:t=>send({cookies:c,theme:o,html:SigninPage({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||!1),callbackUrl:e.callbackUrl,theme:o,...i,...t}),title:"Sign In"}),signout:i=>send({cookies:c,theme:o,html:SignoutPage({csrfToken:e.csrfToken,url:t,theme:o,...i}),title:"Sign Out"}),verifyRequest:e=>send({cookies:c,theme:o,html:VerifyRequestPage({url:t,theme:o,...e}),title:"Verify Request"}),error:e=>send({cookies:c,theme:o,...ErrorPage({url:t,theme:o,...e}),title:"Error"})}}function fromDate(e,t=Date.now()){return new Date(t+1e3*e)}async function handleLogin(e,t,o,i){if(!o?.providerAccountId||!o.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc"].includes(o.type))throw Error("Provider not supported");let{adapter:c,jwt:f,events:x,session:{strategy:U,generateSessionToken:D}}=i;if(!c)return{user:t,account:o};let K=o,{createUser:B,updateUser:q,getUser:ee,getUserByAccount:et,getUserByEmail:er,linkAccount:en,createSession:eo,getSessionAndUser:ea,deleteSession:ei}=c,es=null,el=null,ec=!1,eu="jwt"===U;if(e){if(eu)try{(es=await f.decode({...f,token:e}))&&"sub"in es&&es.sub&&(el=await ee(es.sub))}catch{}else{let t=await ea(e);t&&(es=t.session,el=t.user)}}if("email"===K.type){let o=await er(t.email);if(o)el?.id!==o.id&&!eu&&e&&await ei(e),el=await q({id:o.id,emailVerified:new Date}),await x.updateUser?.({user:el});else{let{id:e,...o}={...t,emailVerified:new Date};el=await B(o),await x.createUser?.({user:el}),ec=!0}return{session:es=eu?{}:await eo({sessionToken:D(),userId:el.id,expires:fromDate(i.session.maxAge)}),user:el,isNewUser:ec}}let ed=await et({providerAccountId:K.providerAccountId,provider:K.provider});if(ed){if(el){if(ed.id===el.id)return{session:es,user:el,isNewUser:ec};throw new OAuthAccountNotLinked("The account is already associated with another user",{provider:K.provider})}return{session:es=eu?{}:await eo({sessionToken:D(),userId:ed.id,expires:fromDate(i.session.maxAge)}),user:ed,isNewUser:ec}}{let{provider:e}=i,{type:o,provider:c,providerAccountId:f,userId:U,...q}=K;if(K=Object.assign(e.account(q)??{},{providerAccountId:f,provider:c,type:o,userId:U}),el)return await en({...K,userId:el.id}),await x.linkAccount?.({user:el,account:K,profile:t}),{session:es,user:el,isNewUser:ec};let ee=t.email?await er(t.email):null;if(ee){let e=i.provider;if(e?.allowDangerousEmailAccountLinking)el=ee;else throw new OAuthAccountNotLinked("Another account already exists with the same e-mail address",{provider:K.provider})}else{let{id:e,...o}={...t,emailVerified:null};el=await B(o)}return await x.createUser?.({user:el}),await en({...K,userId:el.id}),await x.linkAccount?.({user:el,account:K,profile:t}),{session:es=eu?{}:await eo({sessionToken:D(),userId:el.id,expires:fromDate(i.session.maxAge)}),user:el,isNewUser:!0}}}function looseInstanceOf(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(x="oauth4webapi/v2.11.1");let tx=Symbol(),tC=Symbol(),tA=Symbol(),tR=(Symbol(),Symbol()),tP=new TextEncoder,tT=new TextDecoder;function buf(e){return"string"==typeof e?tP.encode(e):tT.decode(e)}function encodeBase64Url(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let o=0;o<e.byteLength;o+=32768)t.push(String.fromCharCode.apply(null,e.subarray(o,o+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function decodeBase64Url(e){try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),o=new Uint8Array(t.length);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);return o}catch(e){throw new tO("The input to be decoded is not correctly encoded.",{cause:e})}}function b64u(e){return"string"==typeof e?decodeBase64Url(e):encodeBase64Url(e)}let LRU=class LRU{constructor(e){this.cache=new Map,this._cache=new Map,this.maxSize=e}get(e){let t=this.cache.get(e);return t||((t=this._cache.get(e))?(this.update(e,t),t):void 0)}has(e){return this.cache.has(e)||this._cache.has(e)}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this.update(e,t),this}delete(e){return this.cache.has(e)?this.cache.delete(e):!!this._cache.has(e)&&this._cache.delete(e)}update(e,t){this.cache.set(e,t),this.cache.size>=this.maxSize&&(this._cache=this.cache,this.cache=new Map)}};let UnsupportedOperationError=class UnsupportedOperationError extends Error{constructor(e){super(e??"operation not supported"),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}};let OperationProcessingError=class OperationProcessingError extends Error{constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}};let tO=OperationProcessingError,tI=new LRU(100);function build_isCryptoKey(e){return e instanceof CryptoKey}function isPrivateKey(e){return build_isCryptoKey(e)&&"private"===e.type}function isPublicKey(e){return build_isCryptoKey(e)&&"public"===e.type}function processDpopNonce(e){try{let t=e.headers.get("dpop-nonce");t&&tI.set(new URL(e.url).origin,t)}catch{}return e}function build_normalizeTyp(e){return e.toLowerCase().replace(/^application\//,"")}function isJsonObject(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function prepareHeaders(e){looseInstanceOf(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e);if(x&&!t.has("user-agent")&&t.set("user-agent",x),t.has("authorization"))throw TypeError('"options.headers" must not include the "authorization" header name');if(t.has("dpop"))throw TypeError('"options.headers" must not include the "dpop" header name');return t}function signal(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw TypeError('"options.signal" must return or be an instance of AbortSignal');return e}async function discoveryRequest(e,t){if(!(e instanceof URL))throw TypeError('"issuerIdentifier" must be an instance of URL');if("https:"!==e.protocol&&"http:"!==e.protocol)throw TypeError('"issuer.protocol" must be "https:" or "http:"');let o=new URL(e.href);switch(t?.algorithm){case void 0:case"oidc":o.pathname=`${o.pathname}/.well-known/openid-configuration`.replace("//","/");break;case"oauth2":"/"===o.pathname?o.pathname=".well-known/oauth-authorization-server":o.pathname=`.well-known/oauth-authorization-server/${o.pathname}`.replace("//","/");break;default:throw TypeError('"options.algorithm" must be "oidc" (default), or "oauth2"')}let i=prepareHeaders(t?.headers);return i.set("accept","application/json"),(t?.[tA]||fetch)(o.href,{headers:Object.fromEntries(i.entries()),method:"GET",redirect:"manual",signal:t?.signal?signal(t.signal):null}).then(processDpopNonce)}function validateString(e){return"string"==typeof e&&0!==e.length}async function processDiscoveryResponse(e,t){let o;if(!(e instanceof URL))throw TypeError('"expectedIssuer" must be an instance of URL');if(!looseInstanceOf(t,Response))throw TypeError('"response" must be an instance of Response');if(200!==t.status)throw new tO('"response" is not a conform Authorization Server Metadata response');assertReadableResponse(t);try{o=await t.json()}catch(e){throw new tO('failed to parse "response" body as JSON',{cause:e})}if(!isJsonObject(o))throw new tO('"response" body must be a top level object');if(!validateString(o.issuer))throw new tO('"response" body "issuer" property must be a non-empty string');if(new URL(o.issuer).href!==e.href)throw new tO('"response" body "issuer" does not match "expectedIssuer"');return o}function randomBytes(){return b64u(crypto.getRandomValues(new Uint8Array(32)))}function generateRandomCodeVerifier(){return randomBytes()}function generateRandomState(){return randomBytes()}function generateRandomNonce(){return randomBytes()}async function calculatePKCECodeChallenge(e){if(!validateString(e))throw TypeError('"codeVerifier" must be a non-empty string');return b64u(await crypto.subtle.digest("SHA-256",buf(e)))}function getKeyAndKid(e){if(e instanceof CryptoKey)return{key:e};if(!(e?.key instanceof CryptoKey))return{};if(void 0!==e.kid&&!validateString(e.kid))throw TypeError('"kid" must be a non-empty string');return{key:e.key,kid:e.kid}}function formUrlEncode(e){return encodeURIComponent(e).replace(/%20/g,"+")}function clientSecretBasic(e,t){let o=formUrlEncode(e),i=formUrlEncode(t),c=btoa(`${o}:${i}`);return`Basic ${c}`}function psAlg(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new UnsupportedOperationError("unsupported RsaHashedKeyAlgorithm hash name")}}function rsAlg(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new UnsupportedOperationError("unsupported RsaHashedKeyAlgorithm hash name")}}function esAlg(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new UnsupportedOperationError("unsupported EcKeyAlgorithm namedCurve")}}function keyToJws(e){switch(e.algorithm.name){case"RSA-PSS":return psAlg(e);case"RSASSA-PKCS1-v1_5":return rsAlg(e);case"ECDSA":return esAlg(e);case"Ed25519":case"Ed448":return"EdDSA";default:throw new UnsupportedOperationError("unsupported CryptoKey algorithm name")}}function getClockSkew(e){let t=e?.[tx];return"number"==typeof t&&Number.isFinite(t)?t:0}function getClockTolerance(e){let t=e?.[tC];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function epochTime(){return Math.floor(Date.now()/1e3)}function clientAssertion(e,t){let o=epochTime()+getClockSkew(t);return{jti:randomBytes(),aud:[e.issuer,e.token_endpoint],exp:o+60,iat:o,nbf:o,iss:t.client_id,sub:t.client_id}}async function privateKeyJwt(e,t,o,i){return jwt({alg:keyToJws(o),kid:i},clientAssertion(e,t),o)}function assertAs(e){if("object"!=typeof e||null===e)throw TypeError('"as" must be an object');if(!validateString(e.issuer))throw TypeError('"as.issuer" property must be a non-empty string');return!0}function assertClient(e){if("object"!=typeof e||null===e)throw TypeError('"client" must be an object');if(!validateString(e.client_id))throw TypeError('"client.client_id" property must be a non-empty string');return!0}function assertClientSecret(e){if(!validateString(e))throw TypeError('"client.client_secret" property must be a non-empty string');return e}function assertNoClientPrivateKey(e,t){if(void 0!==t)throw TypeError(`"options.clientPrivateKey" property must not be provided when ${e} client authentication method is used.`)}function assertNoClientSecret(e,t){if(void 0!==t)throw TypeError(`"client.client_secret" property must not be provided when ${e} client authentication method is used.`)}async function clientAuthentication(e,t,o,i,c){switch(o.delete("client_secret"),o.delete("client_assertion_type"),o.delete("client_assertion"),t.token_endpoint_auth_method){case void 0:case"client_secret_basic":assertNoClientPrivateKey("client_secret_basic",c),i.set("authorization",clientSecretBasic(t.client_id,assertClientSecret(t.client_secret)));break;case"client_secret_post":assertNoClientPrivateKey("client_secret_post",c),o.set("client_id",t.client_id),o.set("client_secret",assertClientSecret(t.client_secret));break;case"private_key_jwt":{if(assertNoClientSecret("private_key_jwt",t.client_secret),void 0===c)throw TypeError('"options.clientPrivateKey" must be provided when "client.token_endpoint_auth_method" is "private_key_jwt"');let{key:i,kid:f}=getKeyAndKid(c);if(!isPrivateKey(i))throw TypeError('"options.clientPrivateKey.key" must be a private CryptoKey');o.set("client_id",t.client_id),o.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),o.set("client_assertion",await privateKeyJwt(e,t,i,f));break}case"tls_client_auth":case"self_signed_tls_client_auth":case"none":assertNoClientSecret(t.token_endpoint_auth_method,t.client_secret),assertNoClientPrivateKey(t.token_endpoint_auth_method,c),o.set("client_id",t.client_id);break;default:throw new UnsupportedOperationError("unsupported client token_endpoint_auth_method")}}async function jwt(e,t,o){if(!o.usages.includes("sign"))throw TypeError('CryptoKey instances used for signing assertions must include "sign" in their "usages"');let i=`${b64u(buf(JSON.stringify(e)))}.${b64u(buf(JSON.stringify(t)))}`,c=b64u(await crypto.subtle.sign(keyToSubtle(o),o,buf(i)));return`${i}.${c}`}async function dpopProofJwt(e,t,o,i,c,f){let{privateKey:x,publicKey:U,nonce:D=tI.get(o.origin)}=t;if(!isPrivateKey(x))throw TypeError('"DPoP.privateKey" must be a private CryptoKey');if(!isPublicKey(U))throw TypeError('"DPoP.publicKey" must be a public CryptoKey');if(void 0!==D&&!validateString(D))throw TypeError('"DPoP.nonce" must be a non-empty string or undefined');if(!U.extractable)throw TypeError('"DPoP.publicKey.extractable" must be true');let K=epochTime()+c,B=await jwt({alg:keyToJws(x),typ:"dpop+jwt",jwk:await publicJwk(U)},{iat:K,jti:randomBytes(),htm:i,nonce:D,htu:`${o.origin}${o.pathname}`,ath:f?b64u(await crypto.subtle.digest("SHA-256",buf(f))):void 0},x);e.set("dpop",B)}async function getSetPublicJwkCache(e){let{kty:t,e:o,n:i,x:c,y:f,crv:x}=await crypto.subtle.exportKey("jwk",e),D={kty:t,e:o,n:i,x:c,y:f,crv:x};return U.set(e,D),D}async function publicJwk(e){return U||(U=new WeakMap),U.get(e)||getSetPublicJwkCache(e)}function validateEndpoint(e,t,o){if("string"!=typeof e){if(o?.[tR])throw TypeError(`"as.mtls_endpoint_aliases.${t}" must be a string`);throw TypeError(`"as.${t}" must be a string`)}return new URL(e)}function resolveEndpoint(e,t,o){return o?.[tR]&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?validateEndpoint(e.mtls_endpoint_aliases[t],t,o):validateEndpoint(e[t],t)}function isOAuth2Error(e){return!("object"!=typeof e||Array.isArray(e))&&null!==e&&void 0!==e.error}function unquote(e){return e.length>=2&&'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}let tN=/((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/,tU=/(?:^|, ?)([0-9a-zA-Z!#$%&'*+\-.^_`|~]+)(?=$|[ ,])/g;function wwwAuth(e,t){let o=t.split(tN).slice(1);if(!o.length)return{scheme:e.toLowerCase(),parameters:{}};o[o.length-1]=o[o.length-1].replace(/,$/,"");let i={};for(let e=1;e<o.length;e+=2){let t=e;if('"'===o[t][0])for(;'"'!==o[t].slice(-1)&&++e<o.length;)o[t]+=o[e];let c=o[t-1].replace(/^(?:, ?)|=$/g,"").toLowerCase();i[c]=unquote(o[t])}return{scheme:e.toLowerCase(),parameters:i}}function parseWwwAuthenticateChallenges(e){if(!looseInstanceOf(e,Response))throw TypeError('"response" must be an instance of Response');let t=e.headers.get("www-authenticate");if(null===t)return;let o=[];for(let{1:e,index:i}of t.matchAll(tU))o.push([e,i]);if(!o.length)return;let i=o.map(([e,o],i,c)=>{let f=c[i+1];return wwwAuth(e,f?t.slice(o,f[1]):t.slice(o))});return i}async function protectedResourceRequest(e,t,o,i,c,f){if(!validateString(e))throw TypeError('"accessToken" must be a non-empty string');if(!(o instanceof URL))throw TypeError('"url" must be an instance of URL');return i=prepareHeaders(i),f?.DPoP===void 0?i.set("authorization",`Bearer ${e}`):(await dpopProofJwt(i,f.DPoP,o,"GET",getClockSkew({[tx]:f?.[tx]}),e),i.set("authorization",`DPoP ${e}`)),(f?.[tA]||fetch)(o.href,{body:c,headers:Object.fromEntries(i.entries()),method:t,redirect:"manual",signal:f?.signal?signal(f.signal):null}).then(processDpopNonce)}async function userInfoRequest(e,t,o,i){assertAs(e),assertClient(t);let c=resolveEndpoint(e,"userinfo_endpoint",i),f=prepareHeaders(i?.headers);return t.userinfo_signed_response_alg?f.set("accept","application/jwt"):(f.set("accept","application/json"),f.append("accept","application/jwt")),protectedResourceRequest(o,"GET",c,f,null,{...i,[tx]:getClockSkew(t)})}async function authenticatedRequest(e,t,o,i,c,f,x){return await clientAuthentication(e,t,c,f,x?.clientPrivateKey),f.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(x?.[tA]||fetch)(i.href,{body:c,headers:Object.fromEntries(f.entries()),method:o,redirect:"manual",signal:x?.signal?signal(x.signal):null}).then(processDpopNonce)}async function tokenEndpointRequest(e,t,o,i,c){let f=resolveEndpoint(e,"token_endpoint",c);i.set("grant_type",o);let x=prepareHeaders(c?.headers);return x.set("accept","application/json"),c?.DPoP!==void 0&&await dpopProofJwt(x,c.DPoP,f,"POST",getClockSkew(t)),authenticatedRequest(e,t,"POST",f,i,x,c)}Symbol();let tM=new WeakMap;function getValidatedIdTokenClaims(e){if(!e.id_token)return;let t=tM.get(e);if(!t)throw TypeError('"ref" was already garbage collected or did not resolve from the proper sources');return t}async function processGenericAccessTokenResponse(e,t,o,i=!1,c=!1){let f;if(assertAs(e),assertClient(t),!looseInstanceOf(o,Response))throw TypeError('"response" must be an instance of Response');if(200!==o.status){let e;if(e=await handleOAuthBodyError(o))return e;throw new tO('"response" is not a conform Token Endpoint response')}assertReadableResponse(o);try{f=await o.json()}catch(e){throw new tO('failed to parse "response" body as JSON',{cause:e})}if(!isJsonObject(f))throw new tO('"response" body must be a top level object');if(!validateString(f.access_token))throw new tO('"response" body "access_token" property must be a non-empty string');if(!validateString(f.token_type))throw new tO('"response" body "token_type" property must be a non-empty string');if(f.token_type=f.token_type.toLowerCase(),"dpop"!==f.token_type&&"bearer"!==f.token_type)throw new UnsupportedOperationError("unsupported `token_type` value");if(void 0!==f.expires_in&&("number"!=typeof f.expires_in||f.expires_in<=0))throw new tO('"response" body "expires_in" property must be a positive number');if(!c&&void 0!==f.refresh_token&&!validateString(f.refresh_token))throw new tO('"response" body "refresh_token" property must be a non-empty string');if(void 0!==f.scope&&"string"!=typeof f.scope)throw new tO('"response" body "scope" property must be a string');if(!i){if(void 0!==f.id_token&&!validateString(f.id_token))throw new tO('"response" body "id_token" property must be a non-empty string');if(f.id_token){let{claims:o}=await validateJwt(f.id_token,checkSigningAlgorithm.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported),tH,getClockSkew(t),getClockTolerance(t)).then(validatePresence.bind(void 0,["aud","exp","iat","iss","sub"])).then(validateIssuer.bind(void 0,e.issuer)).then(validateAudience.bind(void 0,t.client_id));if(Array.isArray(o.aud)&&1!==o.aud.length&&o.azp!==t.client_id)throw new tO('unexpected ID Token "azp" (authorized party) claim value');if(void 0!==o.auth_time&&(!Number.isFinite(o.auth_time)||1!==Math.sign(o.auth_time)))throw new tO('ID Token "auth_time" (authentication time) must be a positive number');tM.set(f,o)}}return f}function validateAudience(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw new tO('unexpected JWT "aud" (audience) claim value')}else if(t.claims.aud!==e)throw new tO('unexpected JWT "aud" (audience) claim value');return t}function validateIssuer(e,t){if(t.claims.iss!==e)throw new tO('unexpected JWT "iss" (issuer) claim value');return t}let tj=new WeakSet;function brand(e){return tj.add(e),e}async function authorizationCodeGrantRequest(e,t,o,i,c,f){if(assertAs(e),assertClient(t),!tj.has(o))throw TypeError('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()');if(!validateString(i))throw TypeError('"redirectUri" must be a non-empty string');if(!validateString(c))throw TypeError('"codeVerifier" must be a non-empty string');let x=getURLSearchParameter(o,"code");if(!x)throw new tO('no authorization code in "callbackParameters"');let U=new URLSearchParams(f?.additionalParameters);return U.set("redirect_uri",i),U.set("code_verifier",c),U.set("code",x),tokenEndpointRequest(e,t,"authorization_code",U,f)}let tD={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation"};function validatePresence(e,t){for(let o of e)if(void 0===t.claims[o])throw new tO(`JWT "${o}" (${tD[o]}) claim missing`);return t}let tL=Symbol(),t$=Symbol();async function processAuthorizationCodeOpenIDResponse(e,t,o,i,c){let f=await processGenericAccessTokenResponse(e,t,o);if(isOAuth2Error(f))return f;if(!validateString(f.id_token))throw new tO('"response" body "id_token" property must be a non-empty string');c??(c=t.default_max_age??t$);let x=getValidatedIdTokenClaims(f);if((t.require_auth_time||c!==t$)&&void 0===x.auth_time)throw new tO('ID Token "auth_time" (authentication time) claim missing');if(c!==t$){if("number"!=typeof c||c<0)throw TypeError('"maxAge" must be a non-negative number');let e=epochTime()+getClockSkew(t),o=getClockTolerance(t);if(x.auth_time+c<e-o)throw new tO("too much time has elapsed since the last End-User authentication")}switch(i){case void 0:case tL:if(void 0!==x.nonce)throw new tO('unexpected ID Token "nonce" claim value');break;default:if(!validateString(i))throw TypeError('"expectedNonce" must be a non-empty string');if(void 0===x.nonce)throw new tO('ID Token "nonce" claim missing');if(x.nonce!==i)throw new tO('unexpected ID Token "nonce" claim value')}return f}async function processAuthorizationCodeOAuth2Response(e,t,o){let i=await processGenericAccessTokenResponse(e,t,o,!0);if(isOAuth2Error(i))return i;if(void 0!==i.id_token){if("string"==typeof i.id_token&&i.id_token.length)throw new tO("Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing");delete i.id_token}return i}function assertReadableResponse(e){if(e.bodyUsed)throw TypeError('"response" body has been used already')}async function handleOAuthBodyError(e){if(e.status>399&&e.status<500){assertReadableResponse(e);try{let t=await e.json();if(isJsonObject(t)&&"string"==typeof t.error&&t.error.length)return void 0!==t.error_description&&"string"!=typeof t.error_description&&delete t.error_description,void 0!==t.error_uri&&"string"!=typeof t.error_uri&&delete t.error_uri,void 0!==t.algs&&"string"!=typeof t.algs&&delete t.algs,void 0!==t.scope&&"string"!=typeof t.scope&&delete t.scope,t}catch{}}}function checkRsaKeyAlgorithm(e){if("number"!=typeof e.modulusLength||e.modulusLength<2048)throw new tO(`${e.name} modulusLength must be at least 2048 bits`)}function ecdsaHashName(e){switch(e){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new UnsupportedOperationError}}function keyToSubtle(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:ecdsaHashName(e.algorithm.namedCurve)};case"RSA-PSS":switch(checkRsaKeyAlgorithm(e.algorithm),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new UnsupportedOperationError}case"RSASSA-PKCS1-v1_5":return checkRsaKeyAlgorithm(e.algorithm),e.algorithm.name;case"Ed448":case"Ed25519":return e.algorithm.name}throw new UnsupportedOperationError}let tH=Symbol();async function validateJwt(e,t,o,i,c){let f,x,U;let{0:D,1:K,2:B,length:q}=e.split(".");if(5===q)throw new UnsupportedOperationError("JWE structure JWTs are not supported");if(3!==q)throw new tO("Invalid JWT");try{f=JSON.parse(buf(b64u(D)))}catch(e){throw new tO("failed to parse JWT Header body as base64url encoded JSON",{cause:e})}if(!isJsonObject(f))throw new tO("JWT Header must be a top level object");if(t(f),void 0!==f.crit)throw new tO('unexpected JWT "crit" header parameter');let ee=b64u(B);if(o!==tH){x=await o(f);let e=`${D}.${K}`,t=await crypto.subtle.verify(keyToSubtle(x),x,ee,buf(e));if(!t)throw new tO("JWT signature verification failed")}try{U=JSON.parse(buf(b64u(K)))}catch(e){throw new tO("failed to parse JWT Payload body as base64url encoded JSON",{cause:e})}if(!isJsonObject(U))throw new tO("JWT Payload must be a top level object");let et=epochTime()+i;if(void 0!==U.exp){if("number"!=typeof U.exp)throw new tO('unexpected JWT "exp" (expiration time) claim type');if(U.exp<=et-c)throw new tO('unexpected JWT "exp" (expiration time) claim value, timestamp is <= now()')}if(void 0!==U.iat&&"number"!=typeof U.iat)throw new tO('unexpected JWT "iat" (issued at) claim type');if(void 0!==U.iss&&"string"!=typeof U.iss)throw new tO('unexpected JWT "iss" (issuer) claim type');if(void 0!==U.nbf){if("number"!=typeof U.nbf)throw new tO('unexpected JWT "nbf" (not before) claim type');if(U.nbf>et+c)throw new tO('unexpected JWT "nbf" (not before) claim value, timestamp is > now()')}if(void 0!==U.aud&&"string"!=typeof U.aud&&!Array.isArray(U.aud))throw new tO('unexpected JWT "aud" (audience) claim type');return{header:f,claims:U,signature:ee,key:x}}function checkSigningAlgorithm(e,t,o){if(void 0!==e){if(o.alg!==e)throw new tO('unexpected JWT "alg" header parameter');return}if(Array.isArray(t)){if(!t.includes(o.alg))throw new tO('unexpected JWT "alg" header parameter');return}if("RS256"!==o.alg)throw new tO('unexpected JWT "alg" header parameter')}function getURLSearchParameter(e,t){let{0:o,length:i}=e.getAll(t);if(i>1)throw new tO(`"${t}" parameter must be provided only once`);return o}let tW=Symbol(),tJ=Symbol();function validateAuthResponse(e,t,o,i){if(assertAs(e),assertClient(t),o instanceof URL&&(o=o.searchParams),!(o instanceof URLSearchParams))throw TypeError('"parameters" must be an instance of URLSearchParams, or URL');if(getURLSearchParameter(o,"response"))throw new tO('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');let c=getURLSearchParameter(o,"iss"),f=getURLSearchParameter(o,"state");if(!c&&e.authorization_response_iss_parameter_supported)throw new tO('response parameter "iss" (issuer) missing');if(c&&c!==e.issuer)throw new tO('unexpected "iss" (issuer) response parameter value');switch(i){case void 0:case tJ:if(void 0!==f)throw new tO('unexpected "state" response parameter encountered');break;case tW:break;default:if(!validateString(i))throw new tO('"expectedState" must be a non-empty string');if(void 0===f)throw new tO('response parameter "state" missing');if(f!==i)throw new tO('unexpected "state" response parameter value')}let x=getURLSearchParameter(o,"error");if(x)return{error:x,error_description:getURLSearchParameter(o,"error_description"),error_uri:getURLSearchParameter(o,"error_uri")};let U=getURLSearchParameter(o,"id_token"),D=getURLSearchParameter(o,"token");if(void 0!==U||void 0!==D)throw new UnsupportedOperationError("implicit and hybrid flows are not supported");return brand(new URLSearchParams(o))}function algToSubtle(e,t){switch(e){case"PS256":case"PS384":case"PS512":return{name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`};case"RS256":case"RS384":case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`};case"ES256":case"ES384":return{name:"ECDSA",namedCurve:`P-${e.slice(-3)}`};case"ES512":return{name:"ECDSA",namedCurve:"P-521"};case"EdDSA":switch(t){case"Ed25519":case"Ed448":return t;default:throw new UnsupportedOperationError}default:throw new UnsupportedOperationError}}async function signCookie(e,t,o,i,c){let{cookies:f,logger:x}=i;x.debug(`CREATE_${e.toUpperCase()}`,{value:t,maxAge:o});let U=new Date;U.setTime(U.getTime()+1e3*o);let D={value:t};return"state"===e&&c&&(D.data=c),{name:f[e].name,value:await jwt_encode({...i.jwt,maxAge:o,token:D}),options:{...f[e].options,expires:U}}}let tK={async create(e){let t=generateRandomCodeVerifier(),o=await calculatePKCECodeChallenge(t),i=await signCookie("pkceCodeVerifier",t,900,e);return{cookie:i,value:o}},async use(e,t,o){let{provider:i}=o;if(!i?.checks?.includes("pkce"))return;let c=e?.[o.cookies.pkceCodeVerifier.name];if(!c)throw new InvalidCheck("PKCE code_verifier cookie was missing.");let f=await jwt_decode({...o.jwt,token:c});if(!f?.value)throw new InvalidCheck("PKCE code_verifier value could not be parsed.");return t.push({name:o.cookies.pkceCodeVerifier.name,value:"",options:{...o.cookies.pkceCodeVerifier.options,maxAge:0}}),f.value}};function decodeState(e){try{let t=new TextDecoder;return JSON.parse(t.decode(decode(e)))}catch{}}let tF={async create(e,t){let{provider:o}=e;if(!o.checks.includes("state")){if(t)throw new InvalidCheck("State data was provided but the provider is not configured to use state.");return}let i=encode(JSON.stringify({...t,random:generateRandomState()})),c=await signCookie("state",i,900,e,t);return{cookie:c,value:i}},async use(e,t,o,i){let{provider:c}=o;if(!c.checks.includes("state"))return;let f=e?.[o.cookies.state.name];if(!f)throw new InvalidCheck("State cookie was missing.");let x=await jwt_decode({...o.jwt,token:f});if(!x?.value)throw new InvalidCheck("State (cookie) value could not be parsed.");let U=decodeState(x.value);if(!U)throw new InvalidCheck("State (encoded) value could not be parsed.");if(U.random!==i)throw new InvalidCheck(`Random state values did not match. Expected: ${U.random}. Got: ${i}`);return t.push({name:o.cookies.state.name,value:"",options:{...o.cookies.state.options,maxAge:0}}),x.value}},tB={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=generateRandomNonce(),o=await signCookie("nonce",t,900,e);return{cookie:o,value:t}},async use(e,t,o){let{provider:i}=o;if(!i?.checks?.includes("nonce"))return;let c=e?.[o.cookies.nonce.name];if(!c)throw new InvalidCheck("Nonce cookie was missing.");let f=await jwt_decode({...o.jwt,token:c});if(!f?.value)throw new InvalidCheck("Nonce value could not be parsed.");return t.push({name:o.cookies.nonce.name,value:"",options:{...o.cookies.nonce.options,maxAge:0}}),f.value}};async function handleOAuth(e,t,o,i){let c,f,x;let{logger:U,provider:D}=o,{token:K,userinfo:B}=D;if(K?.url&&"authjs.dev"!==K.url.host||B?.url&&"authjs.dev"!==B.url.host)c={issuer:D.issuer??"https://authjs.dev",token_endpoint:K?.url.toString(),userinfo_endpoint:B?.url.toString()};else{let e=new URL(D.issuer),t=await discoveryRequest(e),o=await processDiscoveryResponse(e,t);if(!o.token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!o.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.");c=o}let q={client_id:D.clientId,client_secret:D.clientSecret,...D.client},ee=[],et=await tF.use(t,ee,o,i),er=validateAuthResponse(c,q,new URLSearchParams(e),D.checks.includes("state")?et:tW);if(isOAuth2Error(er)){let e={providerId:D.id,...er};throw U.debug("OAuthCallbackError",e),new OAuthCallbackError("OAuth Provider returned an error",e)}let en=await tK.use(t,ee,o),eo=D.callbackUrl;!o.isOnRedirectProxy&&D.redirectProxyUrl&&(eo=D.redirectProxyUrl);let ea=await authorizationCodeGrantRequest(c,q,er,eo,en??"auth");if(D.token?.conform&&(ea=await D.token.conform(ea.clone())??ea),f=parseWwwAuthenticateChallenges(ea)){for(let e of f)console.log("challenge",e);throw Error("TODO: Handle www-authenticate challenges as needed")}let ei={};if("oidc"===D.type){let e=await tB.use(t,ee,o),i=await processAuthorizationCodeOpenIDResponse(c,q,ea,e??tL);if(isOAuth2Error(i))throw console.log("error",i),Error("TODO: Handle OIDC response body error");ei=getValidatedIdTokenClaims(i),x=i}else{if(isOAuth2Error(x=await processAuthorizationCodeOAuth2Response(c,q,ea)))throw console.log("error",x),Error("TODO: Handle OAuth 2.0 response body error");if(B?.request){let e=await B.request({tokens:x,provider:D});e instanceof Object&&(ei=e)}else if(B?.url){let e=await userInfoRequest(c,q,x.access_token);ei=await e.json()}else throw TypeError("No userinfo endpoint configured")}x.expires_in&&(x.expires_at=Math.floor(Date.now()/1e3)+Number(x.expires_in));let es=await getUserAndAccount(ei,D,x,U);return{...es,profile:ei,cookies:ee}}async function getUserAndAccount(e,t,o,i){try{let i=await t.profile(e,o);if(i.email=i.email?.toLowerCase(),!i.id)throw TypeError(`User id is missing in ${t.name} OAuth profile response`);return{user:i,account:{provider:t.id,type:t.type,providerAccountId:i.id.toString(),...o}}}catch(o){i.debug("getProfile error details",e),i.error(new OAuthProfileParseError(o,{provider:t.id}))}}function handleState(e,t,o){let i,c;if(t.redirectProxyUrl&&!e?.state)throw new InvalidCheck("Missing state in query, but required for redirect proxy");let f=decodeState(e?.state);if(i=f?.random,o){if(!f?.origin)return{randomState:i};c=`${f.origin}?${new URLSearchParams(e)}`}return{randomState:i,proxyRedirect:c}}async function handleAuthorized(e,{url:t,logger:o,callbacks:{signIn:i}}){try{let c=await i(e);if(!c)return t.pathname+="/error",o.debug("User not authorized",e),t.searchParams.set("error","AccessDenied"),{status:403,redirect:t.toString()}}catch(i){t.pathname+="/error";let e=new AuthorizedCallbackError(i);return o.error(e),t.searchParams.set("error","Configuration"),{status:500,redirect:t.toString()}}}async function callback_callback(e){let{options:t,query:o,body:i,method:c,headers:f,sessionStore:x}=e,{provider:U,adapter:D,url:K,callbackUrl:B,pages:q,jwt:ee,events:et,callbacks:er,session:{strategy:en,maxAge:eo},logger:ea}=t,ei=[],es="jwt"===en;try{if("oauth"===U.type||"oidc"===U.type){let i;let{proxyRedirect:c,randomState:f}=handleState(o,U,t.isOnRedirectProxy);if(c)return ea.debug("proxy redirect",{proxyRedirect:c,randomState:f}),{redirect:c};let en=await handleOAuth(o,e.cookies,t,f);en.cookies.length&&ei.push(...en.cookies),ea.debug("authorization result",en);let{user:el,account:ec,profile:eu}=en;if(!el||!ec||!eu)return{redirect:`${K}/signin`,cookies:ei};if(D){let{getUserByAccount:e}=D,t=await e({providerAccountId:ec.providerAccountId,provider:U.id});t&&(i=t)}let ed=await handleAuthorized({user:i,account:ec,profile:eu},t);if(ed)return{...ed,cookies:ei};let{user:ep,session:eh,isNewUser:ef}=await handleLogin(x.value,el,ec,t);if(es){let e={name:ep.name,email:ep.email,picture:ep.image,sub:ep.id?.toString()},t=await er.jwt({token:e,user:ep,account:ec,profile:eu,isNewUser:ef,trigger:ef?"signUp":"signIn"});if(null===t)ei.push(...x.clean());else{let e=await ee.encode({...ee,token:t}),o=new Date;o.setTime(o.getTime()+1e3*eo);let i=x.chunk(e,{expires:o});ei.push(...i)}}else ei.push({name:t.cookies.sessionToken.name,value:eh.sessionToken,options:{...t.cookies.sessionToken.options,expires:eh.expires}});if(await et.signIn?.({user:ep,account:ec,profile:eu,isNewUser:ef}),ef&&q.newUser)return{redirect:`${q.newUser}${q.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:B})}`,cookies:ei};return{redirect:B,cookies:ei}}if("email"===U.type){let e=o?.token,i=o?.email;if(!e||!i){let t=TypeError("Missing token or email. The sign-in URL was manually opened without token/identifier or the link was not sent correctly in the email.",{cause:{hasToken:!!e,hasEmail:!!i}});throw t.name="Configuration",t}let c=U.secret??t.secret,f=await D.useVerificationToken({identifier:i,token:await createHash(`${e}${c}`)}),K=!!f,en=f?f.expires.valueOf()<Date.now():void 0,ea=!K||en;if(ea)throw new Verification({hasInvite:K,expired:en});let el=await D.getUserByEmail(i)??{id:i,email:i,emailVerified:null},ec={providerAccountId:el.email,userId:el.id,type:"email",provider:U.id},eu=await handleAuthorized({user:el,account:ec},t);if(eu)return{...eu,cookies:ei};let{user:ed,session:ep,isNewUser:eh}=await handleLogin(x.value,el,ec,t);if(es){let e={name:ed.name,email:ed.email,picture:ed.image,sub:ed.id?.toString()},t=await er.jwt({token:e,user:ed,account:ec,isNewUser:eh,trigger:eh?"signUp":"signIn"});if(null===t)ei.push(...x.clean());else{let e=await ee.encode({...ee,token:t}),o=new Date;o.setTime(o.getTime()+1e3*eo);let i=x.chunk(e,{expires:o});ei.push(...i)}}else ei.push({name:t.cookies.sessionToken.name,value:ep.sessionToken,options:{...t.cookies.sessionToken.options,expires:ep.expires}});if(await et.signIn?.({user:ed,account:ec,isNewUser:eh}),eh&&q.newUser)return{redirect:`${q.newUser}${q.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:B})}`,cookies:ei};return{redirect:B,cookies:ei}}if("credentials"===U.type&&"POST"===c){let e=i??{};Object.entries(o??{}).forEach(([e,t])=>K.searchParams.set(e,t));let D=await U.authorize(e,new Request(K,{headers:f,method:c,body:JSON.stringify(i)}));if(!D)return{status:401,redirect:`${K}/error?${new URLSearchParams({error:"CredentialsSignin",provider:U.id})}`,cookies:ei};let q={providerAccountId:D.id,type:"credentials",provider:U.id},en=await handleAuthorized({user:D,account:q,credentials:e},t);if(en)return{...en,cookies:ei};let ea={name:D.name,email:D.email,picture:D.image,sub:D.id?.toString()},es=await er.jwt({token:ea,user:D,account:q,isNewUser:!1,trigger:"signIn"});if(null===es)ei.push(...x.clean());else{let e=await ee.encode({...ee,token:es}),t=new Date;t.setTime(t.getTime()+1e3*eo);let o=x.chunk(e,{expires:t});ei.push(...o)}return await et.signIn?.({user:D,account:q}),{redirect:B,cookies:ei}}return{status:500,body:`Error: Callback for provider type ${U.type} not supported`,cookies:ei}}catch(t){if(t instanceof OAuthCallbackError)return ea.error(t),K.searchParams.set("error",OAuthCallbackError.name),K.pathname+="/signin",{redirect:K.toString(),cookies:ei};let e=new CallbackRouteError(t,{provider:U.id});return ea.debug("callback route error details",{method:c,query:o,body:i}),ea.error(e),K.searchParams.set("error",CallbackRouteError.name),K.pathname+="/error",{redirect:K.toString(),cookies:ei}}}function providers(e){return{headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:o,type:i,signinUrl:c,callbackUrl:f})=>(e[t]={id:t,name:o,type:i,signinUrl:c,callbackUrl:f},e),{})}}async function session_session(e){let{options:t,sessionStore:o,newSession:i,isUpdate:c}=e,{adapter:f,jwt:x,events:U,callbacks:D,logger:K,session:{strategy:B,maxAge:q}}=t,ee={body:null,headers:{"Content-Type":"application/json"},cookies:[]},et=o.value;if(!et)return ee;if("jwt"===B){try{let e=await x.decode({...x,token:et});if(!e)throw Error("Invalid JWT");let t=await D.jwt({token:e,...c&&{trigger:"update"},session:i}),f=fromDate(q);if(null!==t){let e={user:{name:t.name,email:t.email,image:t.picture},expires:f.toISOString()},i=await D.session({session:e,token:t});ee.body=i;let c=await x.encode({...x,token:t}),K=o.chunk(c,{expires:f});ee.cookies?.push(...K),await U.session?.({session:i,token:t})}else ee.cookies?.push(...o.clean())}catch(e){K.error(new JWTSessionError(e)),ee.cookies?.push(...o.clean())}return ee}try{let{getSessionAndUser:e,deleteSession:x,updateSession:K}=f,B=await e(et);if(B&&B.session.expires.valueOf()<Date.now()&&(await x(et),B=null),B){let{user:e,session:o}=B,f=t.session.updateAge,x=o.expires.valueOf()-1e3*q+1e3*f,er=fromDate(q);x<=Date.now()&&await K({sessionToken:et,expires:er});let en=await D.session({session:{user:{name:e.name,email:e.email,image:e.image},expires:o.expires.toISOString()},user:e,newSession:i,...c?{trigger:"update"}:{}});ee.body=en,ee.cookies?.push({name:t.cookies.sessionToken.name,value:et,options:{...t.cookies.sessionToken.options,expires:er}}),await U.session?.({session:en})}else et&&ee.cookies?.push(...o.clean())}catch(e){K.error(new SessionTokenError(e))}return ee}async function signin_email(e,t,o){let{url:i,adapter:c,provider:f,callbackUrl:x,theme:U}=t,D=await f.generateVerificationToken?.()??randomString(32),K=new Date(Date.now()+(f.maxAge??86400)*1e3),B=new URLSearchParams({callbackUrl:x,token:D,email:e}),q=`${i}/callback/${f.id}?${B}`,ee=f.secret??t.secret;return await Promise.all([f.sendVerificationRequest({identifier:e,token:D,expires:K,url:q,provider:f,theme:U,request:toRequest(o)}),c.createVerificationToken?.({identifier:e,token:await createHash(`${D}${ee}`),expires:K})]),`${i}/verify-request?${new URLSearchParams({provider:f.id,type:f.type})}`}async function getAuthorizationUrl(e,t){let o,i;let{logger:c,provider:f}=t,x=f.authorization?.url;if(!x||"authjs.dev"===x.host){let e=new URL(f.issuer),t=await discoveryRequest(e),o=await processDiscoveryResponse(e,t);if(!o.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");x=new URL(o.authorization_endpoint)}let U=x.searchParams,D=f.callbackUrl;!t.isOnRedirectProxy&&f.redirectProxyUrl&&(D=f.redirectProxyUrl,i={origin:f.callbackUrl},c.debug("using redirect proxy",{redirect_uri:D,data:i}));let K=Object.assign({response_type:"code",client_id:f.clientId,redirect_uri:D,...f.authorization?.params},Object.fromEntries(f.authorization?.url.searchParams??[]),e);for(let e in K)U.set(e,K[e]);let B=[],q=await tF.create(t,i);if(q&&(U.set("state",q.value),B.push(q.cookie)),f.checks?.includes("pkce")){if(o&&!o.code_challenge_methods_supported?.includes("S256"))"oidc"===f.type&&(f.checks=["nonce"]);else{let{value:e,cookie:o}=await tK.create(t);U.set("code_challenge",e),U.set("code_challenge_method","S256"),B.push(o)}}let ee=await tB.create(t);return ee&&(U.set("nonce",ee.value),B.push(ee.cookie)),"oidc"!==f.type||x.searchParams.has("scope")||x.searchParams.set("scope","openid profile email"),c.debug("authorization url is ready",{url:x,cookies:B,provider:f}),{redirect:x.toString(),cookies:B}}async function signin_signin(e,t){let{query:o,body:i}=e,{url:c,logger:f,provider:x}=t;try{if("oauth"===x.type||"oidc"===x.type)return await getAuthorizationUrl(o,t);if("email"===x.type){let o=x.normalizeIdentifier??defaultNormalizer,c=o(i?.email),f=await t.adapter.getUserByEmail(c)??{id:c,email:c,emailVerified:null},U={providerAccountId:c,userId:f.id,type:"email",provider:x.id},D=await handleAuthorized({user:f,account:U,email:{verificationRequest:!0}},t);if(D)return D;let K=await signin_email(c,t,e);return{redirect:K}}return{redirect:`${c}/signin`}}catch(o){let e=new SignInError(o,{provider:x.id});f.error(e);let t="email"===x.type?"EmailSignin":"OAuthSignin";return c.searchParams.set("error",t),c.pathname+="/signin",{redirect:c.toString()}}}function defaultNormalizer(e){if(!e)throw Error("Missing email from request body.");let[t,o]=e.toLowerCase().trim().split("@");return o=o.split(",")[0],`${t}@${o}`}async function signout_signout(e,t){let{jwt:o,events:i,callbackUrl:c,logger:f,session:x}=t,U=e.value;if(!U)return{redirect:c};try{if("jwt"===x.strategy){let e=await o.decode({...o,token:U});await i.signOut?.({token:e})}else{let e=await t.adapter?.deleteSession(U);await i.signOut?.({session:e})}}catch(e){f.error(new SignOutError(e))}return{redirect:c,cookies:e.clean()}}async function AuthInternal(e,t){let{action:o,providerId:i,error:c,method:f}=e,x=t.skipCSRFCheck===tq,{options:U,cookies:D}=await init({authOptions:t,action:o,providerId:i,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===f,csrfDisabled:x}),K=new cookie_SessionStore(U.cookies.sessionToken,e,U.logger);if("GET"===f){let t=renderPage({...U,query:e.query,cookies:D}),{pages:i}=U;switch(o){case"providers":return await providers(U.providers);case"session":{let e=await session_session({sessionStore:K,options:U});return e.cookies&&D.push(...e.cookies),{...e,cookies:D}}case"csrf":if(x)return U.logger.warn("csrf-disabled"),D.push({name:U.cookies.csrfToken.name,value:"",options:{...U.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:D};return{headers:{"Content-Type":"application/json"},body:{csrfToken:U.csrfToken},cookies:D};case"signin":if(i.signIn){let e=`${i.signIn}${i.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:U.callbackUrl})}`;return c&&(e=`${e}&${new URLSearchParams({error:c})}`),{redirect:e,cookies:D}}return t.signin();case"signout":if(i.signOut)return{redirect:i.signOut,cookies:D};return t.signout();case"callback":if(U.provider){let t=await callback_callback({body:e.body,query:e.query,headers:e.headers,cookies:e.cookies,method:f,options:U,sessionStore:K});return t.cookies&&D.push(...t.cookies),{...t,cookies:D}}break;case"verify-request":if(i.verifyRequest)return{redirect:i.verifyRequest,cookies:D};return t.verifyRequest();case"error":if(["Signin","OAuthCreateAccount","EmailCreateAccount","Callback","OAuthAccountNotLinked","SessionRequired"].includes(c))return{redirect:`${U.url}/signin?error=${c}`,cookies:D};if(i.error)return{redirect:`${i.error}${i.error.includes("?")?"&":"?"}error=${c}`,cookies:D};return t.error({error:c})}}else switch(o){case"signin":if((x||U.csrfTokenVerified)&&U.provider){let t=await signin_signin(e,U);return t.cookies&&D.push(...t.cookies),{...t,cookies:D}}return{redirect:`${U.url}/signin?csrf=true`,cookies:D};case"signout":if(x||U.csrfTokenVerified){let e=await signout_signout(K,U);return e.cookies&&D.push(...e.cookies),{...e,cookies:D}}return{redirect:`${U.url}/signout?csrf=true`,cookies:D};case"callback":if(U.provider){if("credentials"===U.provider.type&&!x&&!U.csrfTokenVerified)return{redirect:`${U.url}/signin?csrf=true`,cookies:D};let t=await callback_callback({body:e.body,query:e.query,headers:e.headers,cookies:e.cookies,method:f,options:U,sessionStore:K});return t.cookies&&D.push(...t.cookies),{...t,cookies:D}}break;case"session":if(U.csrfTokenVerified){let t=await session_session({options:U,sessionStore:K,newSession:e.body?.data,isUpdate:!0});return t.cookies&&D.push(...t.cookies),{...t,cookies:D}}return{status:400,cookies:D}}throw new UnknownAction(`Cannot handle action: ${o}`)}let tq=Symbol("skip-csrf-check"),tV=Symbol("return-type-raw");async function Auth(e,t){setLogger(t.logger,t.debug);let o=await toInternalRequest(e);if(o instanceof Error)return e3.error(o),new Response(`Error: This action with HTTP ${e.method} is not supported.`,{status:400});let i=assertConfig(o,t);if(Array.isArray(i))i.forEach(e3.warn);else if(i instanceof Error){if(e3.error(i),!["signin","signout","error","verify-request"].includes(o.action)||"GET"!==o.method)return new Response(JSON.stringify({message:"There was a problem with the server configuration. Check the server logs for more information.",code:i.name}),{status:500,headers:{"Content-Type":"application/json"}});let{pages:e,theme:c}=t,f=e?.error&&o.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||f){f&&e3.error(new ErrorPageLoop(`The error page ${e?.error} should not require authentication`));let t=renderPage({theme:c}),o=t.error({error:"Configuration"});return toResponse(o)}return Response.redirect(`${e.error}?error=Configuration`)}let c=await AuthInternal(o,t);if(t.raw===tV)return c;let f=await toResponse(c),x=f.headers.get("Location");return e.headers.has("X-Auth-Return-Redirect")&&x?(f.headers.delete("Location"),f.headers.set("Content-Type","application/json"),new Response(JSON.stringify({url:x}),{headers:f.headers})):f}function setEnvDefaults(e){e.secret??(e.secret=process.env.NEXTAUTH_SECRET??process.env.AUTH_SECRET),e.trustHost??(e.trustHost=!!(process.env.AUTH_URL??process.env.NEXTAUTH_URL??process.env.AUTH_TRUST_HOST??process.env.VERCEL)),e.redirectProxyUrl??(e.redirectProxyUrl=process.env.AUTH_REDIRECT_PROXY_URL),e.providers=e.providers.map(e=>{let t="function"==typeof e?e():e;if("oauth"===t.type||"oidc"===t.type){let e=t.id.toUpperCase();t.clientId??(t.clientId=process.env[`AUTH_${e}_ID`]),t.clientSecret??(t.clientSecret=process.env[`AUTH_${e}_SECRET`]),"oidc"===t.type&&(t.issuer??(t.issuer=process.env[`AUTH_${e}_ISSUER`]))}return t})}function detectOrigin(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(t)return new URL(t);let o=e.get("x-forwarded-host")??e.get("host"),i="http"===e.get("x-forwarded-proto")?"http":"https";return new URL(`${i}://${o}`)}function reqWithEnvUrl(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let o=e.nextUrl.href.replace(e.nextUrl.origin,""),i=new URL(t).origin,c=new URL(o,i),f=new Request(c,e);return f.nextUrl=c,f}var tz=o(724);async function getSession(e,t){let o=detectOrigin(e),i=new Request(`${o}/session`,{headers:{cookie:e.get("cookie")??""}});return Auth(i,{...t,callbacks:{...t.callbacks,async session(...e){let o=await t.callbacks?.session?.(...e)??e[0].session,i=e[0].user??e[0].token;return{user:i,...o}}}})}function isReqWrapper(e){return"function"==typeof e}function initAuth(e){return(...t)=>{if(!t.length)return getSession((0,tz.headers)(),e).then(e=>e.json());if(t[0]instanceof Request){let o=t[0],i=t[1];return handleAuth([o,i],e)}if(isReqWrapper(t[0])){let o=t[0];return async(...t)=>handleAuth(t,e,o)}let o="req"in t[0]?t[0].req:t[0],i="res"in t[0]?t[0].res:t[1];return getSession(new Headers(o.headers),e).then(async e=>{let t=await e.json();return cloneSetCookie(e,i),t})}}async function handleAuth(e,t,o){let i=reqWithEnvUrl(e[0]),c=await getSession(i.headers,t),f=await c.json(),x=!0;t.callbacks?.authorized&&(x=await t.callbacks.authorized({request:i,auth:f}));let U=NextResponse.next?.();if(x instanceof Response){U=x;let e=x.headers.get("Location"),{pathname:o}=i.nextUrl;e&&isSameAuthAction(o,new URL(e).pathname,t)&&(x=!0)}else if(o)i.auth=f,U=await o(i,e[1])??NextResponse.next();else if(!x){let e=t.pages?.signIn??`${i.nextUrl.basePath}}/signin`;i.nextUrl.pathname!==e&&(i.nextUrl.pathname=e,i.nextUrl.searchParams.set("callbackUrl",i.nextUrl.href),U=NextResponse.redirect(i.nextUrl))}let D=new Response(U?.body,U);return cloneSetCookie(c,D),D}function cloneSetCookie(e,t){let o=e.headers.getSetCookie?.()??e.headers.get("set-cookie");o?.length&&(Array.isArray(o)?o.forEach(e=>t.headers.append("set-cookie",e)):t.headers.set("set-cookie",o))}function isSameAuthAction(e,t,o){let i=t.replace(`${e}/`,""),c=Object.values(o.pages??{});return(tG.has(i)||c.includes(t))&&t===e}let tG=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var tY=o(938);async function signIn(e,t,o,i){let c;let f=new Headers((0,tz.headers)()),{redirect:x=!0,redirectTo:U=f.get("Referer")??"/",...D}=t??{},K=`${detectOrigin(f)}/signin`;if(!e){let e=`${K}?${new URLSearchParams({callbackUrl:U})}`;return x&&(0,tY.redirect)(e),e}let B=`${K}/${e}?${new URLSearchParams(o)}`;for(let t of i.providers){let{id:o}="function"==typeof t?t?.():t;if(o===e){c=o;break}}if(!c){let e=`${K}?${new URLSearchParams({callbackUrl:U})}`;return x&&(0,tY.redirect)(e),e}"credentials"===c&&(B=B.replace("signin","callback")),f.set("Content-Type","application/x-www-form-urlencoded");let q=new URLSearchParams({...D,callbackUrl:U}),ee=new Request(B,{method:"POST",headers:f,body:q}),et=await Auth(ee,{...i,raw:tV,skipCSRFCheck:tq});for(let e of et?.cookies??[])(0,tz.cookies)().set(e.name,e.value,e.options);let er=new URL(et.redirect).searchParams.get("error");if(er)throw Error(er);return x?(0,tY.redirect)(et.redirect):et.redirect}async function signOut(e,t){let o=new Headers((0,tz.headers)());o.set("Content-Type","application/x-www-form-urlencoded");let i=`${detectOrigin(o)}/signout`,c=e?.redirectTo??o.get("Referer")??"/",f=new URLSearchParams({callbackUrl:c}),x=new Request(i,{method:"POST",headers:o,body:f}),U=await Auth(x,{...t,raw:tV,skipCSRFCheck:tq});for(let e of U?.cookies??[])(0,tz.cookies)().set(e.name,e.value,e.options);return e?.redirect??!0?(0,tY.redirect)(U.redirect):U}async function update(e,t){let o=new Headers((0,tz.headers)());o.set("Content-Type","application/json");let i=`${detectOrigin(o)}session`,c=JSON.stringify({data:e}),f=new Request(i,{method:"POST",headers:o,body:c}),x=await Auth(f,{...t,raw:tV,skipCSRFCheck:tq});for(let e of x?.cookies??[])(0,tz.cookies)().set(e.name,e.value,e.options);return x.body}function NextAuth(e){setEnvDefaults(e);let httpHandler=t=>Auth(reqWithEnvUrl(t),e);return{handlers:{GET:httpHandler,POST:httpHandler},auth:initAuth(e),signIn:(t,o,i)=>signIn(t,o,i,e),signOut:t=>signOut(t,e),update:t=>update(t,e)}}function GitHub(e){return{id:"github",name:"GitHub",type:"oauth",authorization:{url:"https://github.com/login/oauth/authorize",params:{scope:"read:user user:email"}},token:"https://github.com/login/oauth/access_token",userinfo:{url:"https://api.github.com/user",async request({tokens:e,provider:t}){let o=await fetch(t.userinfo?.url,{headers:{Authorization:`Bearer ${e.access_token}`,"User-Agent":"authjs"}}).then(async e=>await e.json());if(!o.email){let t=await fetch("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${e.access_token}`,"User-Agent":"authjs"}});if(t.ok){let e=await t.json();o.email=(e.find(e=>e.primary)??e[0]).email}}return o}},profile:e=>({id:e.id.toString(),name:e.name??e.login,email:e.email,image:e.avatar_url}),style:{logo:"/github.svg",logoDark:"/github-dark.svg",bg:"#fff",bgDark:"#24292f",text:"#000",textDark:"#fff"},options:e}}let{handlers:{GET:tX,POST:tQ},auth:tZ}=NextAuth({providers:[GitHub({clientId:process.env.OAUTH_CLIENT_KEY,clientSecret:process.env.OAUTH_CLIENT_SECRET})],pages:{signIn:"/sign-in"}}),t0="edge",t1=new eN.AppRouteRouteModule({definition:{kind:eU.x.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:"app/api/auth/[...nextauth]/route"},resolvedPagePath:"/Users/macbook/Documents/porto/hanowene/itop_web/app/api/auth/[...nextauth]/route.ts",nextConfigOutput:"",userland:K}),{requestAsyncStorage:t2,staticGenerationAsyncStorage:t4,serverHooks:t3,headerHooks:t5,staticGenerationBailout:t8}=t1,t6="/api/auth/[...nextauth]/route",t9=B,t7=EdgeRouteModuleWrapper.wrap(t1)},0:(e,t)=>{"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.Q=parse,t.q=serialize;var o=Object.prototype.toString,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function parse(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var o={},i=(t||{}).decode||decode,c=0;c<e.length;){var f=e.indexOf("=",c);if(-1===f)break;var x=e.indexOf(";",c);if(-1===x)x=e.length;else if(x<f){c=e.lastIndexOf(";",f-1)+1;continue}var U=e.slice(c,f).trim();if(void 0===o[U]){var D=e.slice(f+1,x).trim();34===D.charCodeAt(0)&&(D=D.slice(1,-1)),o[U]=tryDecode(D,i)}c=x+1}return o}function serialize(e,t,o){var c=o||{},f=c.encode||encode;if("function"!=typeof f)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var x=f(t);if(x&&!i.test(x))throw TypeError("argument val is invalid");var U=e+"="+x;if(null!=c.maxAge){var D=c.maxAge-0;if(isNaN(D)||!isFinite(D))throw TypeError("option maxAge is invalid");U+="; Max-Age="+Math.floor(D)}if(c.domain){if(!i.test(c.domain))throw TypeError("option domain is invalid");U+="; Domain="+c.domain}if(c.path){if(!i.test(c.path))throw TypeError("option path is invalid");U+="; Path="+c.path}if(c.expires){var K=c.expires;if(!isDate(K)||isNaN(K.valueOf()))throw TypeError("option expires is invalid");U+="; Expires="+K.toUTCString()}if(c.httpOnly&&(U+="; HttpOnly"),c.secure&&(U+="; Secure"),c.priority)switch("string"==typeof c.priority?c.priority.toLowerCase():c.priority){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(c.sameSite)switch("string"==typeof c.sameSite?c.sameSite.toLowerCase():c.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return U}function decode(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function encode(e){return encodeURIComponent(e)}function isDate(e){return"[object Date]"===o.call(e)||e instanceof Date}function tryDecode(e,t){try{return t(e)}catch(t){return e}}},525:e=>{"use strict";var t=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,f={};function stringifyCookie(e){var t;let o=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean);return`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}; ${o.join("; ")}`}function parseCookie(e){let t=new Map;for(let o of e.split(/; */)){if(!o)continue;let e=o.indexOf("=");if(-1===e){t.set(o,"true");continue}let[i,c]=[o.slice(0,e),o.slice(e+1)];try{t.set(i,decodeURIComponent(null!=c?c:"true"))}catch{}}return t}function parseSetCookie(e){if(!e)return;let[[t,o],...i]=parseCookie(e),{domain:c,expires:f,httponly:x,maxage:U,path:D,samesite:K,secure:B,priority:q}=Object.fromEntries(i.map(([e,t])=>[e.toLowerCase(),t])),ee={name:t,value:decodeURIComponent(o),domain:c,...f&&{expires:new Date(f)},...x&&{httpOnly:!0},..."string"==typeof U&&{maxAge:Number(U)},path:D,...K&&{sameSite:parseSameSite(K)},...B&&{secure:!0},...q&&{priority:parsePriority(q)}};return compact(ee)}function compact(e){let t={};for(let o in e)e[o]&&(t[o]=e[o]);return t}((e,o)=>{for(var i in o)t(e,i,{get:o[i],enumerable:!0})})(f,{RequestCookies:()=>D,ResponseCookies:()=>K,parseCookie:()=>parseCookie,parseSetCookie:()=>parseSetCookie,stringifyCookie:()=>stringifyCookie}),e.exports=((e,f,x,U)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let x of i(f))c.call(e,x)||void 0===x||t(e,x,{get:()=>f[x],enumerable:!(U=o(f,x))||U.enumerable});return e})(t({},"__esModule",{value:!0}),f);var x=["strict","lax","none"];function parseSameSite(e){return e=e.toLowerCase(),x.includes(e)?e:void 0}var U=["low","medium","high"];function parsePriority(e){return e=e.toLowerCase(),U.includes(e)?e:void 0}function splitCookiesString(e){if(!e)return[];var t,o,i,c,f,x=[],U=0;function skipWhitespace(){for(;U<e.length&&/\s/.test(e.charAt(U));)U+=1;return U<e.length}function notSpecialChar(){return"="!==(o=e.charAt(U))&&";"!==o&&","!==o}for(;U<e.length;){for(t=U,f=!1;skipWhitespace();)if(","===(o=e.charAt(U))){for(i=U,U+=1,skipWhitespace(),c=U;U<e.length&&notSpecialChar();)U+=1;U<e.length&&"="===e.charAt(U)?(f=!0,U=c,x.push(e.substring(t,i)),t=U):U=i+1}else U+=1;(!f||U>=e.length)&&x.push(e.substring(t,e.length))}return x}var D=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t){let e=parseCookie(t);for(let[t,o]of e)this._parsed.set(t,{name:t,value:o})}}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let o=Array.from(this._parsed);if(!e.length)return o.map(([e,t])=>t);let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return o.filter(([e])=>e===i).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,o]=1===e.length?[e[0].name,e[0].value]:e,i=this._parsed;return i.set(t,{name:t,value:o}),this._headers.set("cookie",Array.from(i).map(([e,t])=>stringifyCookie(t)).join("; ")),this}delete(e){let t=this._parsed,o=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>stringifyCookie(t)).join("; ")),o}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},K=class{constructor(e){var t,o,i;this._parsed=new Map,this._headers=e;let c=null!=(i=null!=(o=null==(t=e.getSetCookie)?void 0:t.call(e))?o:e.get("set-cookie"))?i:[],f=Array.isArray(c)?c:splitCookiesString(c);for(let e of f){let t=parseSetCookie(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let o=Array.from(this._parsed.values());if(!e.length)return o;let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return o.filter(e=>e.name===i)}has(e){return this._parsed.has(e)}set(...e){let[t,o,i]=1===e.length?[e[0].name,e[0].value,e[0]]:e,c=this._parsed;return c.set(t,normalizeCookie({name:t,value:o,...i})),replace(c,this._headers),this}delete(...e){let[t,o,i]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:o,domain:i,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(stringifyCookie).join("; ")}};function replace(e,t){for(let[,o]of(t.delete("set-cookie"),e)){let e=stringifyCookie(o);t.append("set-cookie",e)}}function normalizeCookie(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}},578:(e,t,o)=>{"use strict";(()=>{var t={339:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let i=o(44),c=o(38),f=o(741),x="context",U=new i.NoopContextManager;let ContextAPI=class ContextAPI{constructor(){}static getInstance(){return this._instance||(this._instance=new ContextAPI),this._instance}setGlobalContextManager(e){return(0,c.registerGlobal)(x,e,f.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,o,...i){return this._getContextManager().with(e,t,o,...i)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,c.getGlobal)(x)||U}disable(){this._getContextManager().disable(),(0,c.unregisterGlobal)(x,f.DiagAPI.instance())}};t.ContextAPI=ContextAPI},741:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let i=o(144),c=o(871),f=o(133),x=o(38);let DiagAPI=class DiagAPI{constructor(){function _logProxy(e){return function(...t){let o=(0,x.getGlobal)("diag");if(o)return o[e](...t)}}let e=this;e.setLogger=(t,o={logLevel:f.DiagLogLevel.INFO})=>{var i,U,D;if(t===e){let t=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return e.error(null!==(i=t.stack)&&void 0!==i?i:t.message),!1}"number"==typeof o&&(o={logLevel:o});let K=(0,x.getGlobal)("diag"),B=(0,c.createLogLevelDiagLogger)(null!==(U=o.logLevel)&&void 0!==U?U:f.DiagLogLevel.INFO,t);if(K&&!o.suppressOverrideMessage){let e=null!==(D=Error().stack)&&void 0!==D?D:"<failed to generate stacktrace>";K.warn(`Current logger will be overwritten from ${e}`),B.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,x.registerGlobal)("diag",B,e,!0)},e.disable=()=>{(0,x.unregisterGlobal)("diag",e)},e.createComponentLogger=e=>new i.DiagComponentLogger(e),e.verbose=_logProxy("verbose"),e.debug=_logProxy("debug"),e.info=_logProxy("info"),e.warn=_logProxy("warn"),e.error=_logProxy("error")}static instance(){return this._instance||(this._instance=new DiagAPI),this._instance}};t.DiagAPI=DiagAPI},128:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let i=o(333),c=o(38),f=o(741),x="metrics";let MetricsAPI=class MetricsAPI{constructor(){}static getInstance(){return this._instance||(this._instance=new MetricsAPI),this._instance}setGlobalMeterProvider(e){return(0,c.registerGlobal)(x,e,f.DiagAPI.instance())}getMeterProvider(){return(0,c.getGlobal)(x)||i.NOOP_METER_PROVIDER}getMeter(e,t,o){return this.getMeterProvider().getMeter(e,t,o)}disable(){(0,c.unregisterGlobal)(x,f.DiagAPI.instance())}};t.MetricsAPI=MetricsAPI},930:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let i=o(38),c=o(600),f=o(625),x=o(377),U=o(701),D=o(741),K="propagation",B=new c.NoopTextMapPropagator;let PropagationAPI=class PropagationAPI{constructor(){this.createBaggage=U.createBaggage,this.getBaggage=x.getBaggage,this.getActiveBaggage=x.getActiveBaggage,this.setBaggage=x.setBaggage,this.deleteBaggage=x.deleteBaggage}static getInstance(){return this._instance||(this._instance=new PropagationAPI),this._instance}setGlobalPropagator(e){return(0,i.registerGlobal)(K,e,D.DiagAPI.instance())}inject(e,t,o=f.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,o)}extract(e,t,o=f.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,o)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,i.unregisterGlobal)(K,D.DiagAPI.instance())}_getGlobalPropagator(){return(0,i.getGlobal)(K)||B}};t.PropagationAPI=PropagationAPI},967:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let i=o(38),c=o(414),f=o(994),x=o(542),U=o(741),D="trace";let TraceAPI=class TraceAPI{constructor(){this._proxyTracerProvider=new c.ProxyTracerProvider,this.wrapSpanContext=f.wrapSpanContext,this.isSpanContextValid=f.isSpanContextValid,this.deleteSpan=x.deleteSpan,this.getSpan=x.getSpan,this.getActiveSpan=x.getActiveSpan,this.getSpanContext=x.getSpanContext,this.setSpan=x.setSpan,this.setSpanContext=x.setSpanContext}static getInstance(){return this._instance||(this._instance=new TraceAPI),this._instance}setGlobalTracerProvider(e){let t=(0,i.registerGlobal)(D,this._proxyTracerProvider,U.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,i.getGlobal)(D)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,i.unregisterGlobal)(D,U.DiagAPI.instance()),this._proxyTracerProvider=new c.ProxyTracerProvider}};t.TraceAPI=TraceAPI},377:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let i=o(339),c=o(421),f=(0,c.createContextKey)("OpenTelemetry Baggage Key");function getBaggage(e){return e.getValue(f)||void 0}function getActiveBaggage(){return getBaggage(i.ContextAPI.getInstance().active())}function setBaggage(e,t){return e.setValue(f,t)}function deleteBaggage(e){return e.deleteValue(f)}t.getBaggage=getBaggage,t.getActiveBaggage=getActiveBaggage,t.setBaggage=setBaggage,t.deleteBaggage=deleteBaggage},496:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;let BaggageImpl=class BaggageImpl{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let o=new BaggageImpl(this._entries);return o._entries.set(e,t),o}removeEntry(e){let t=new BaggageImpl(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new BaggageImpl(this._entries);for(let o of e)t._entries.delete(o);return t}clear(){return new BaggageImpl}};t.BaggageImpl=BaggageImpl},817:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},701:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let i=o(741),c=o(496),f=o(817),x=i.DiagAPI.instance();function createBaggage(e={}){return new c.BaggageImpl(new Map(Object.entries(e)))}function baggageEntryMetadataFromString(e){return"string"!=typeof e&&(x.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:f.baggageEntryMetadataSymbol,toString:()=>e}}t.createBaggage=createBaggage,t.baggageEntryMetadataFromString=baggageEntryMetadataFromString},388:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let i=o(339);t.context=i.ContextAPI.getInstance()},44:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let i=o(421);let NoopContextManager=class NoopContextManager{active(){return i.ROOT_CONTEXT}with(e,t,o,...i){return t.call(o,...i)}bind(e,t){return t}enable(){return this}disable(){return this}};t.NoopContextManager=NoopContextManager},421:(e,t)=>{function createContextKey(e){return Symbol.for(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=createContextKey;let BaseContext=class BaseContext{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,o)=>{let i=new BaseContext(t._currentContext);return i._currentContext.set(e,o),i},t.deleteValue=e=>{let o=new BaseContext(t._currentContext);return o._currentContext.delete(e),o}}};t.ROOT_CONTEXT=new BaseContext},920:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let i=o(741);t.diag=i.DiagAPI.instance()},144:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let i=o(38);let DiagComponentLogger=class DiagComponentLogger{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return logProxy("debug",this._namespace,e)}error(...e){return logProxy("error",this._namespace,e)}info(...e){return logProxy("info",this._namespace,e)}warn(...e){return logProxy("warn",this._namespace,e)}verbose(...e){return logProxy("verbose",this._namespace,e)}};function logProxy(e,t,o){let c=(0,i.getGlobal)("diag");if(c)return o.unshift(t),c[e](...o)}t.DiagComponentLogger=DiagComponentLogger},689:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let o=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];let DiagConsoleLogger=class DiagConsoleLogger{constructor(){function _consoleFunc(e){return function(...t){if(console){let o=console[e];if("function"!=typeof o&&(o=console.log),"function"==typeof o)return o.apply(console,t)}}}for(let e=0;e<o.length;e++)this[o[e].n]=_consoleFunc(o[e].c)}};t.DiagConsoleLogger=DiagConsoleLogger},871:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let i=o(133);function createLogLevelDiagLogger(e,t){function _filterFunc(o,i){let c=t[o];return"function"==typeof c&&e>=i?c.bind(t):function(){}}return e<i.DiagLogLevel.NONE?e=i.DiagLogLevel.NONE:e>i.DiagLogLevel.ALL&&(e=i.DiagLogLevel.ALL),t=t||{},{error:_filterFunc("error",i.DiagLogLevel.ERROR),warn:_filterFunc("warn",i.DiagLogLevel.WARN),info:_filterFunc("info",i.DiagLogLevel.INFO),debug:_filterFunc("debug",i.DiagLogLevel.DEBUG),verbose:_filterFunc("verbose",i.DiagLogLevel.VERBOSE)}}t.createLogLevelDiagLogger=createLogLevelDiagLogger},133:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},38:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let i=o(966),c=o(520),f=o(565),x=c.VERSION.split(".")[0],U=Symbol.for(`opentelemetry.js.api.${x}`),D=i._globalThis;function registerGlobal(e,t,o,i=!1){var f;let x=D[U]=null!==(f=D[U])&&void 0!==f?f:{version:c.VERSION};if(!i&&x[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return o.error(t.stack||t.message),!1}if(x.version!==c.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${x.version} for ${e} does not match previously registered API v${c.VERSION}`);return o.error(t.stack||t.message),!1}return x[e]=t,o.debug(`@opentelemetry/api: Registered a global for ${e} v${c.VERSION}.`),!0}function getGlobal(e){var t,o;let i=null===(t=D[U])||void 0===t?void 0:t.version;if(i&&(0,f.isCompatible)(i))return null===(o=D[U])||void 0===o?void 0:o[e]}function unregisterGlobal(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${c.VERSION}.`);let o=D[U];o&&delete o[e]}t.registerGlobal=registerGlobal,t.getGlobal=getGlobal,t.unregisterGlobal=unregisterGlobal},565:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let i=o(520),c=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function _makeCompatibilityCheck(e){let t=new Set([e]),o=new Set,i=e.match(c);if(!i)return()=>!1;let f={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(null!=f.prerelease)return function(t){return t===e};function _reject(e){return o.add(e),!1}return function(e){if(t.has(e))return!0;if(o.has(e))return!1;let i=e.match(c);if(!i)return _reject(e);let x={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};return null!=x.prerelease||f.major!==x.major?_reject(e):0===f.major?f.minor===x.minor&&f.patch<=x.patch?(t.add(e),!0):_reject(e):f.minor<=x.minor?(t.add(e),!0):_reject(e)}}t._makeCompatibilityCheck=_makeCompatibilityCheck,t.isCompatible=_makeCompatibilityCheck(i.VERSION)},934:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let i=o(128);t.metrics=i.MetricsAPI.getInstance()},28:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},962:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;let NoopMeter=class NoopMeter{constructor(){}createHistogram(e,o){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,o){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,o){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,o){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,o){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,o){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}};t.NoopMeter=NoopMeter;let NoopMetric=class NoopMetric{};t.NoopMetric=NoopMetric;let NoopCounterMetric=class NoopCounterMetric extends NoopMetric{add(e,t){}};t.NoopCounterMetric=NoopCounterMetric;let NoopUpDownCounterMetric=class NoopUpDownCounterMetric extends NoopMetric{add(e,t){}};t.NoopUpDownCounterMetric=NoopUpDownCounterMetric;let NoopHistogramMetric=class NoopHistogramMetric extends NoopMetric{record(e,t){}};t.NoopHistogramMetric=NoopHistogramMetric;let NoopObservableMetric=class NoopObservableMetric{addCallback(e){}removeCallback(e){}};t.NoopObservableMetric=NoopObservableMetric;let NoopObservableCounterMetric=class NoopObservableCounterMetric extends NoopObservableMetric{};t.NoopObservableCounterMetric=NoopObservableCounterMetric;let NoopObservableGaugeMetric=class NoopObservableGaugeMetric extends NoopObservableMetric{};t.NoopObservableGaugeMetric=NoopObservableGaugeMetric;let NoopObservableUpDownCounterMetric=class NoopObservableUpDownCounterMetric extends NoopObservableMetric{};function createNoopMeter(){return t.NOOP_METER}t.NoopObservableUpDownCounterMetric=NoopObservableUpDownCounterMetric,t.NOOP_METER=new NoopMeter,t.NOOP_COUNTER_METRIC=new NoopCounterMetric,t.NOOP_HISTOGRAM_METRIC=new NoopHistogramMetric,t.NOOP_UP_DOWN_COUNTER_METRIC=new NoopUpDownCounterMetric,t.NOOP_OBSERVABLE_COUNTER_METRIC=new NoopObservableCounterMetric,t.NOOP_OBSERVABLE_GAUGE_METRIC=new NoopObservableGaugeMetric,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new NoopObservableUpDownCounterMetric,t.createNoopMeter=createNoopMeter},333:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let i=o(962);let NoopMeterProvider=class NoopMeterProvider{getMeter(e,t,o){return i.NOOP_METER}};t.NoopMeterProvider=NoopMeterProvider,t.NOOP_METER_PROVIDER=new NoopMeterProvider},966:function(e,t,o){var i=this&&this.__createBinding||(Object.create?function(e,t,o,i){void 0===i&&(i=o),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,i){void 0===i&&(i=o),e[i]=t[o]}),c=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||i(t,e,o)};Object.defineProperty(t,"__esModule",{value:!0}),c(o(652),t)},385:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:o.g},652:function(e,t,o){var i=this&&this.__createBinding||(Object.create?function(e,t,o,i){void 0===i&&(i=o),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,i){void 0===i&&(i=o),e[i]=t[o]}),c=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||i(t,e,o)};Object.defineProperty(t,"__esModule",{value:!0}),c(o(385),t)},251:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let i=o(930);t.propagation=i.PropagationAPI.getInstance()},600:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;let NoopTextMapPropagator=class NoopTextMapPropagator{inject(e,t){}extract(e,t){return e}fields(){return[]}};t.NoopTextMapPropagator=NoopTextMapPropagator},625:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,o){null!=e&&(e[t]=o)}}},978:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let i=o(967);t.trace=i.TraceAPI.getInstance()},76:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let i=o(304);let NonRecordingSpan=class NonRecordingSpan{constructor(e=i.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}};t.NonRecordingSpan=NonRecordingSpan},527:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let i=o(339),c=o(542),f=o(76),x=o(994),U=i.ContextAPI.getInstance();let NoopTracer=class NoopTracer{startSpan(e,t,o=U.active()){let i=!!(null==t?void 0:t.root);if(i)return new f.NonRecordingSpan;let D=o&&(0,c.getSpanContext)(o);return isSpanContext(D)&&(0,x.isSpanContextValid)(D)?new f.NonRecordingSpan(D):new f.NonRecordingSpan}startActiveSpan(e,t,o,i){let f,x,D;if(arguments.length<2)return;2==arguments.length?D=t:3==arguments.length?(f=t,D=o):(f=t,x=o,D=i);let K=null!=x?x:U.active(),B=this.startSpan(e,f,K),q=(0,c.setSpan)(K,B);return U.with(q,D,void 0,B)}};function isSpanContext(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}t.NoopTracer=NoopTracer},228:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let i=o(527);let NoopTracerProvider=class NoopTracerProvider{getTracer(e,t,o){return new i.NoopTracer}};t.NoopTracerProvider=NoopTracerProvider},387:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let i=o(527),c=new i.NoopTracer;let ProxyTracer=class ProxyTracer{constructor(e,t,o,i){this._provider=e,this.name=t,this.version=o,this.options=i}startSpan(e,t,o){return this._getTracer().startSpan(e,t,o)}startActiveSpan(e,t,o,i){let c=this._getTracer();return Reflect.apply(c.startActiveSpan,c,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):c}};t.ProxyTracer=ProxyTracer},414:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let i=o(387),c=o(228),f=new c.NoopTracerProvider;let ProxyTracerProvider=class ProxyTracerProvider{getTracer(e,t,o){var c;return null!==(c=this.getDelegateTracer(e,t,o))&&void 0!==c?c:new i.ProxyTracer(this,e,t,o)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:f}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,o){var i;return null===(i=this._delegate)||void 0===i?void 0:i.getTracer(e,t,o)}};t.ProxyTracerProvider=ProxyTracerProvider},505:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},542:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let i=o(421),c=o(76),f=o(339),x=(0,i.createContextKey)("OpenTelemetry Context Key SPAN");function getSpan(e){return e.getValue(x)||void 0}function getActiveSpan(){return getSpan(f.ContextAPI.getInstance().active())}function setSpan(e,t){return e.setValue(x,t)}function deleteSpan(e){return e.deleteValue(x)}function setSpanContext(e,t){return setSpan(e,new c.NonRecordingSpan(t))}function getSpanContext(e){var t;return null===(t=getSpan(e))||void 0===t?void 0:t.spanContext()}t.getSpan=getSpan,t.getActiveSpan=getActiveSpan,t.setSpan=setSpan,t.deleteSpan=deleteSpan,t.setSpanContext=setSpanContext,t.getSpanContext=getSpanContext},430:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let i=o(450);let TraceStateImpl=class TraceStateImpl{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,t),o}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let o=t.trim(),c=o.indexOf("=");if(-1!==c){let f=o.slice(0,c),x=o.slice(c+1,t.length);(0,i.validateKey)(f)&&(0,i.validateValue)(x)&&e.set(f,x)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new TraceStateImpl;return e._internalState=new Map(this._internalState),e}};t.TraceStateImpl=TraceStateImpl},450:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let o="[_0-9a-z-*/]",i=`[a-z]${o}{0,255}`,c=`[a-z0-9]${o}{0,240}@[a-z]${o}{0,13}`,f=RegExp(`^(?:${i}|${c})$`),x=/^[ -~]{0,255}[!-~]$/,U=/,|=/;function validateKey(e){return f.test(e)}function validateValue(e){return x.test(e)&&!U.test(e)}t.validateKey=validateKey,t.validateValue=validateValue},757:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let i=o(430);function createTraceState(e){return new i.TraceStateImpl(e)}t.createTraceState=createTraceState},304:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let i=o(762);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:i.TraceFlags.NONE}},902:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},994:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let i=o(304),c=o(76),f=/^([0-9a-f]{32})$/i,x=/^[0-9a-f]{16}$/i;function isValidTraceId(e){return f.test(e)&&e!==i.INVALID_TRACEID}function isValidSpanId(e){return x.test(e)&&e!==i.INVALID_SPANID}function isSpanContextValid(e){return isValidTraceId(e.traceId)&&isValidSpanId(e.spanId)}function wrapSpanContext(e){return new c.NonRecordingSpan(e)}t.isValidTraceId=isValidTraceId,t.isValidSpanId=isValidSpanId,t.isSpanContextValid=isSpanContextValid,t.wrapSpanContext=wrapSpanContext},832:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},762:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},520:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.4.1"}},i={};function __nccwpck_require__(e){var o=i[e];if(void 0!==o)return o.exports;var c=i[e]={exports:{}},f=!0;try{t[e].call(c.exports,c,c.exports,__nccwpck_require__),f=!1}finally{f&&delete i[e]}return c.exports}__nccwpck_require__.ab="//";var c={};(()=>{Object.defineProperty(c,"__esModule",{value:!0}),c.trace=c.propagation=c.metrics=c.diag=c.context=c.INVALID_SPAN_CONTEXT=c.INVALID_TRACEID=c.INVALID_SPANID=c.isValidSpanId=c.isValidTraceId=c.isSpanContextValid=c.createTraceState=c.TraceFlags=c.SpanStatusCode=c.SpanKind=c.SamplingDecision=c.ProxyTracerProvider=c.ProxyTracer=c.defaultTextMapSetter=c.defaultTextMapGetter=c.ValueType=c.createNoopMeter=c.DiagLogLevel=c.DiagConsoleLogger=c.ROOT_CONTEXT=c.createContextKey=c.baggageEntryMetadataFromString=void 0;var e=__nccwpck_require__(701);Object.defineProperty(c,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=__nccwpck_require__(421);Object.defineProperty(c,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(c,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var o=__nccwpck_require__(689);Object.defineProperty(c,"DiagConsoleLogger",{enumerable:!0,get:function(){return o.DiagConsoleLogger}});var i=__nccwpck_require__(133);Object.defineProperty(c,"DiagLogLevel",{enumerable:!0,get:function(){return i.DiagLogLevel}});var f=__nccwpck_require__(962);Object.defineProperty(c,"createNoopMeter",{enumerable:!0,get:function(){return f.createNoopMeter}});var x=__nccwpck_require__(28);Object.defineProperty(c,"ValueType",{enumerable:!0,get:function(){return x.ValueType}});var U=__nccwpck_require__(625);Object.defineProperty(c,"defaultTextMapGetter",{enumerable:!0,get:function(){return U.defaultTextMapGetter}}),Object.defineProperty(c,"defaultTextMapSetter",{enumerable:!0,get:function(){return U.defaultTextMapSetter}});var D=__nccwpck_require__(387);Object.defineProperty(c,"ProxyTracer",{enumerable:!0,get:function(){return D.ProxyTracer}});var K=__nccwpck_require__(414);Object.defineProperty(c,"ProxyTracerProvider",{enumerable:!0,get:function(){return K.ProxyTracerProvider}});var B=__nccwpck_require__(505);Object.defineProperty(c,"SamplingDecision",{enumerable:!0,get:function(){return B.SamplingDecision}});var q=__nccwpck_require__(902);Object.defineProperty(c,"SpanKind",{enumerable:!0,get:function(){return q.SpanKind}});var ee=__nccwpck_require__(832);Object.defineProperty(c,"SpanStatusCode",{enumerable:!0,get:function(){return ee.SpanStatusCode}});var et=__nccwpck_require__(762);Object.defineProperty(c,"TraceFlags",{enumerable:!0,get:function(){return et.TraceFlags}});var er=__nccwpck_require__(757);Object.defineProperty(c,"createTraceState",{enumerable:!0,get:function(){return er.createTraceState}});var en=__nccwpck_require__(994);Object.defineProperty(c,"isSpanContextValid",{enumerable:!0,get:function(){return en.isSpanContextValid}}),Object.defineProperty(c,"isValidTraceId",{enumerable:!0,get:function(){return en.isValidTraceId}}),Object.defineProperty(c,"isValidSpanId",{enumerable:!0,get:function(){return en.isValidSpanId}});var eo=__nccwpck_require__(304);Object.defineProperty(c,"INVALID_SPANID",{enumerable:!0,get:function(){return eo.INVALID_SPANID}}),Object.defineProperty(c,"INVALID_TRACEID",{enumerable:!0,get:function(){return eo.INVALID_TRACEID}}),Object.defineProperty(c,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return eo.INVALID_SPAN_CONTEXT}});let ea=__nccwpck_require__(388);Object.defineProperty(c,"context",{enumerable:!0,get:function(){return ea.context}});let ei=__nccwpck_require__(920);Object.defineProperty(c,"diag",{enumerable:!0,get:function(){return ei.diag}});let es=__nccwpck_require__(934);Object.defineProperty(c,"metrics",{enumerable:!0,get:function(){return es.metrics}});let el=__nccwpck_require__(251);Object.defineProperty(c,"propagation",{enumerable:!0,get:function(){return el.propagation}});let ec=__nccwpck_require__(978);Object.defineProperty(c,"trace",{enumerable:!0,get:function(){return ec.trace}}),c.default={context:ea.context,diag:ei.diag,metrics:es.metrics,propagation:el.propagation,trace:ec.trace}})(),e.exports=c})()},843:e=>{"use strict";(()=>{"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var t={};(()=>{/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=parse,t.serialize=serialize;var e=decodeURIComponent,o=encodeURIComponent,i=/; */,c=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function parse(t,o){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var c={},f=t.split(i),x=(o||{}).decode||e,U=0;U<f.length;U++){var D=f[U],K=D.indexOf("=");if(!(K<0)){var B=D.substr(0,K).trim(),q=D.substr(++K,D.length).trim();'"'==q[0]&&(q=q.slice(1,-1)),void 0==c[B]&&(c[B]=tryDecode(q,x))}}return c}function serialize(e,t,i){var f=i||{},x=f.encode||o;if("function"!=typeof x)throw TypeError("option encode is invalid");if(!c.test(e))throw TypeError("argument name is invalid");var U=x(t);if(U&&!c.test(U))throw TypeError("argument val is invalid");var D=e+"="+U;if(null!=f.maxAge){var K=f.maxAge-0;if(isNaN(K)||!isFinite(K))throw TypeError("option maxAge is invalid");D+="; Max-Age="+Math.floor(K)}if(f.domain){if(!c.test(f.domain))throw TypeError("option domain is invalid");D+="; Domain="+f.domain}if(f.path){if(!c.test(f.path))throw TypeError("option path is invalid");D+="; Path="+f.path}if(f.expires){if("function"!=typeof f.expires.toUTCString)throw TypeError("option expires is invalid");D+="; Expires="+f.expires.toUTCString()}if(f.httpOnly&&(D+="; HttpOnly"),f.secure&&(D+="; Secure"),f.sameSite)switch("string"==typeof f.sameSite?f.sameSite.toLowerCase():f.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return D}function tryDecode(e,t){try{return t(e)}catch(t){return e}}})(),e.exports=t})()},895:e=>{"use strict";(()=>{var t={806:(e,t,o)=>{let i=o(190),c=Symbol("max"),f=Symbol("length"),x=Symbol("lengthCalculator"),U=Symbol("allowStale"),D=Symbol("maxAge"),K=Symbol("dispose"),B=Symbol("noDisposeOnSet"),q=Symbol("lruList"),ee=Symbol("cache"),et=Symbol("updateAgeOnGet"),naiveLength=()=>1;let LRUCache=class LRUCache{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[c]=e.max||1/0;let t=e.length||naiveLength;if(this[x]="function"!=typeof t?naiveLength:t,this[U]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[D]=e.maxAge||0,this[K]=e.dispose,this[B]=e.noDisposeOnSet||!1,this[et]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[c]=e||1/0,trim(this)}get max(){return this[c]}set allowStale(e){this[U]=!!e}get allowStale(){return this[U]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[D]=e,trim(this)}get maxAge(){return this[D]}set lengthCalculator(e){"function"!=typeof e&&(e=naiveLength),e!==this[x]&&(this[x]=e,this[f]=0,this[q].forEach(e=>{e.length=this[x](e.value,e.key),this[f]+=e.length})),trim(this)}get lengthCalculator(){return this[x]}get length(){return this[f]}get itemCount(){return this[q].length}rforEach(e,t){t=t||this;for(let o=this[q].tail;null!==o;){let i=o.prev;forEachStep(this,e,o,t),o=i}}forEach(e,t){t=t||this;for(let o=this[q].head;null!==o;){let i=o.next;forEachStep(this,e,o,t),o=i}}keys(){return this[q].toArray().map(e=>e.key)}values(){return this[q].toArray().map(e=>e.value)}reset(){this[K]&&this[q]&&this[q].length&&this[q].forEach(e=>this[K](e.key,e.value)),this[ee]=new Map,this[q]=new i,this[f]=0}dump(){return this[q].map(e=>!isStale(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[q]}set(e,t,o){if((o=o||this[D])&&"number"!=typeof o)throw TypeError("maxAge must be a number");let i=o?Date.now():0,U=this[x](t,e);if(this[ee].has(e)){if(U>this[c])return del(this,this[ee].get(e)),!1;let x=this[ee].get(e),D=x.value;return this[K]&&!this[B]&&this[K](e,D.value),D.now=i,D.maxAge=o,D.value=t,this[f]+=U-D.length,D.length=U,this.get(e),trim(this),!0}let et=new Entry(e,t,U,i,o);return et.length>this[c]?(this[K]&&this[K](e,t),!1):(this[f]+=et.length,this[q].unshift(et),this[ee].set(e,this[q].head),trim(this),!0)}has(e){if(!this[ee].has(e))return!1;let t=this[ee].get(e).value;return!isStale(this,t)}get(e){return get(this,e,!0)}peek(e){return get(this,e,!1)}pop(){let e=this[q].tail;return e?(del(this,e),e.value):null}del(e){del(this,this[ee].get(e))}load(e){this.reset();let t=Date.now();for(let o=e.length-1;o>=0;o--){let i=e[o],c=i.e||0;if(0===c)this.set(i.k,i.v);else{let e=c-t;e>0&&this.set(i.k,i.v,e)}}}prune(){this[ee].forEach((e,t)=>get(this,t,!1))}};let get=(e,t,o)=>{let i=e[ee].get(t);if(i){let t=i.value;if(isStale(e,t)){if(del(e,i),!e[U])return}else o&&(e[et]&&(i.value.now=Date.now()),e[q].unshiftNode(i));return t.value}},isStale=(e,t)=>{if(!t||!t.maxAge&&!e[D])return!1;let o=Date.now()-t.now;return t.maxAge?o>t.maxAge:e[D]&&o>e[D]},trim=e=>{if(e[f]>e[c])for(let t=e[q].tail;e[f]>e[c]&&null!==t;){let o=t.prev;del(e,t),t=o}},del=(e,t)=>{if(t){let o=t.value;e[K]&&e[K](o.key,o.value),e[f]-=o.length,e[ee].delete(o.key),e[q].removeNode(t)}};let Entry=class Entry{constructor(e,t,o,i,c){this.key=e,this.value=t,this.length=o,this.now=i,this.maxAge=c||0}};let forEachStep=(e,t,o,i)=>{let c=o.value;isStale(e,c)&&(del(e,o),e[U]||(c=void 0)),c&&t.call(i,c.value,c.key,e)};e.exports=LRUCache},76:e=>{e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},190:(e,t,o)=>{function Yallist(e){var t=this;if(t instanceof Yallist||(t=new Yallist),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var o=0,i=arguments.length;o<i;o++)t.push(arguments[o]);return t}function insert(e,t,o){var i=t===e.head?new Node(o,null,t,e):new Node(o,t,t.next,e);return null===i.next&&(e.tail=i),null===i.prev&&(e.head=i),e.length++,i}function push(e,t){e.tail=new Node(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function unshift(e,t){e.head=new Node(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Node(e,t,o,i){if(!(this instanceof Node))return new Node(e,t,o,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,o?(o.prev=this,this.next=o):this.next=null}e.exports=Yallist,Yallist.Node=Node,Yallist.create=Yallist,Yallist.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,o=e.prev;return t&&(t.prev=o),o&&(o.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=o),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Yallist.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Yallist.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Yallist.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)push(this,arguments[e]);return this.length},Yallist.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)unshift(this,arguments[e]);return this.length},Yallist.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Yallist.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Yallist.prototype.forEach=function(e,t){t=t||this;for(var o=this.head,i=0;null!==o;i++)e.call(t,o.value,i,this),o=o.next},Yallist.prototype.forEachReverse=function(e,t){t=t||this;for(var o=this.tail,i=this.length-1;null!==o;i--)e.call(t,o.value,i,this),o=o.prev},Yallist.prototype.get=function(e){for(var t=0,o=this.head;null!==o&&t<e;t++)o=o.next;if(t===e&&null!==o)return o.value},Yallist.prototype.getReverse=function(e){for(var t=0,o=this.tail;null!==o&&t<e;t++)o=o.prev;if(t===e&&null!==o)return o.value},Yallist.prototype.map=function(e,t){t=t||this;for(var o=new Yallist,i=this.head;null!==i;)o.push(e.call(t,i.value,this)),i=i.next;return o},Yallist.prototype.mapReverse=function(e,t){t=t||this;for(var o=new Yallist,i=this.tail;null!==i;)o.push(e.call(t,i.value,this)),i=i.prev;return o},Yallist.prototype.reduce=function(e,t){var o,i=this.head;if(arguments.length>1)o=t;else if(this.head)i=this.head.next,o=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var c=0;null!==i;c++)o=e(o,i.value,c),i=i.next;return o},Yallist.prototype.reduceReverse=function(e,t){var o,i=this.tail;if(arguments.length>1)o=t;else if(this.tail)i=this.tail.prev,o=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var c=this.length-1;null!==i;c--)o=e(o,i.value,c),i=i.prev;return o},Yallist.prototype.toArray=function(){for(var e=Array(this.length),t=0,o=this.head;null!==o;t++)e[t]=o.value,o=o.next;return e},Yallist.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,o=this.tail;null!==o;t++)e[t]=o.value,o=o.prev;return e},Yallist.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var o=new Yallist;if(t<e||t<0)return o;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,c=this.head;null!==c&&i<e;i++)c=c.next;for(;null!==c&&i<t;i++,c=c.next)o.push(c.value);return o},Yallist.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var o=new Yallist;if(t<e||t<0)return o;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,c=this.tail;null!==c&&i>t;i--)c=c.prev;for(;null!==c&&i>e;i--,c=c.prev)o.push(c.value);return o},Yallist.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(var c=[],o=0;i&&o<t;o++)c.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var o=2;o<arguments.length;o++)i=insert(this,i,arguments[o]);return c},Yallist.prototype.reverse=function(){for(var e=this.head,t=this.tail,o=e;null!==o;o=o.prev){var i=o.prev;o.prev=o.next,o.next=i}return this.head=t,this.tail=e,this};try{o(76)(Yallist)}catch(e){}}},o={};function __nccwpck_require__(e){var i=o[e];if(void 0!==i)return i.exports;var c=o[e]={exports:{}},f=!0;try{t[e](c,c.exports,__nccwpck_require__),f=!1}finally{f&&delete o[e]}return c.exports}__nccwpck_require__.ab="//";var i=__nccwpck_require__(806);e.exports=i})()},807:(e,t,o)=>{"use strict";!function(){var t={452:function(e){e.exports=o(624)}},i={};function __nccwpck_require__(e){var o=i[e];if(void 0!==o)return o.exports;var c=i[e]={exports:{}},f=!0;try{t[e](c,c.exports,__nccwpck_require__),f=!1}finally{f&&delete i[e]}return c.exports}__nccwpck_require__.ab="//";var c={};!function(){var e,t=(e=__nccwpck_require__(452))&&"object"==typeof e&&"default"in e?e.default:e,o=/https?|ftp|gopher|file/;function r(e){"string"==typeof e&&(e=d(e));var i,c,f,x,U,D,K,B,q,ee=(c=(i=e).auth,f=i.hostname,x=i.protocol||"",U=i.pathname||"",D=i.hash||"",K=i.query||"",B=!1,c=c?encodeURIComponent(c).replace(/%3A/i,":")+"@":"",i.host?B=c+i.host:f&&(B=c+(~f.indexOf(":")?"["+f+"]":f),i.port&&(B+=":"+i.port)),K&&"object"==typeof K&&(K=t.encode(K)),q=i.search||K&&"?"+K||"",x&&":"!==x.substr(-1)&&(x+=":"),i.slashes||(!x||o.test(x))&&!1!==B?(B="//"+(B||""),U&&"/"!==U[0]&&(U="/"+U)):B||(B=""),D&&"#"!==D[0]&&(D="#"+D),q&&"?"!==q[0]&&(q="?"+q),{protocol:x,host:B,pathname:U=U.replace(/[?#]/g,encodeURIComponent),search:q=q.replace("#","%23"),hash:D});return""+ee.protocol+ee.host+ee.pathname+ee.search+ee.hash}var i="http://",f=i+"w.w",x=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,U=/https?|ftp|gopher|file/;function h(e,t){var o="string"==typeof e?d(e):e;e="object"==typeof e?r(e):e;var c=d(t),D="";o.protocol&&!o.slashes&&(D=o.protocol,e=e.replace(o.protocol,""),D+="/"===t[0]||"/"===e[0]?"/":""),D&&c.protocol&&(D="",c.slashes||(D=c.protocol,t=t.replace(c.protocol,"")));var K=e.match(x);K&&!c.protocol&&(e=e.substr((D=K[1]+(K[2]||"")).length),/^\/\/[^/]/.test(t)&&(D=D.slice(0,-1)));var B=new URL(e,f+"/"),q=new URL(t,B).toString().replace(f,""),ee=c.protocol||o.protocol;return ee+=o.slashes||c.slashes?"//":"",!D&&ee?q=q.replace(i,ee):D&&(q=q.replace(i,"")),U.test(q)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==q.slice(-1)||(q=q.slice(0,-1)),D&&(q=D+("/"===q[0]?q.substr(1):q)),q}function l(){}l.prototype.parse=d,l.prototype.format=r,l.prototype.resolve=h,l.prototype.resolveObject=h;var D=/^https?|ftp|gopher|file/,K=/^(.*?)([#?].*)/,B=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,q=/^([a-z0-9.+-]*:)?\/\/\/*/i,ee=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function d(e,o,i){if(void 0===o&&(o=!1),void 0===i&&(i=!1),e&&"object"==typeof e&&e instanceof l)return e;var c=(e=e.trim()).match(K);e=c?c[1].replace(/\\/g,"/")+c[2]:e.replace(/\\/g,"/"),ee.test(e)&&"/"!==e.slice(-1)&&(e+="/");var x=!/(^javascript)/.test(e)&&e.match(B),U=q.test(e),et="";x&&(D.test(x[1])||(et=x[1].toLowerCase(),e=""+x[2]+x[3]),x[2]||(U=!1,D.test(x[1])?(et=x[1],e=""+x[3]):e="//"+x[3]),3!==x[2].length&&1!==x[2].length||(et=x[1],e="/"+x[3]));var er,en=(c?c[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),eo=en&&en[1],ea=new l,ei="",es="";try{er=new URL(e)}catch(t){ei=t,et||i||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(es="/",e=e.substr(1));try{er=new URL(e,f)}catch(e){return ea.protocol=et,ea.href=et,ea}}ea.slashes=U&&!es,ea.host="w.w"===er.host?"":er.host,ea.hostname="w.w"===er.hostname?"":er.hostname.replace(/(\[|\])/g,""),ea.protocol=ei?et||null:er.protocol,ea.search=er.search.replace(/\\/g,"%5C"),ea.hash=er.hash.replace(/\\/g,"%5C");var el=e.split("#");!ea.search&&~el[0].indexOf("?")&&(ea.search="?"),ea.hash||""!==el[1]||(ea.hash="#"),ea.query=o?t.decode(er.search.substr(1)):ea.search.substr(1),ea.pathname=es+(x?er.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):er.pathname),"about:"===ea.protocol&&"blank"===ea.pathname&&(ea.protocol="",ea.pathname=""),ei&&"/"!==e[0]&&(ea.pathname=ea.pathname.substr(1)),et&&!D.test(et)&&"/"!==e.slice(-1)&&"/"===ea.pathname&&(ea.pathname=""),ea.path=ea.pathname+ea.search,ea.auth=[er.username,er.password].map(decodeURIComponent).filter(Boolean).join(":"),ea.port=er.port,eo&&!ea.host.endsWith(eo)&&(ea.host+=eo,ea.port=eo.slice(1)),ea.href=es?""+ea.pathname+ea.search+ea.hash:r(ea);var ec=/^(file)/.test(ea.href)?["host","hostname"]:[];return Object.keys(ea).forEach(function(e){~ec.indexOf(e)||(ea[e]=ea[e]||null)}),ea}c.parse=d,c.format=r,c.resolve=h,c.resolveObject=function(e,t){return d(h(e,t))},c.Url=l}(),e.exports=c}()},87:e=>{"use strict";!function(){var t={114:function(e){function assertPath(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function normalizeStringPosix(e,t){for(var o,i="",c=0,f=-1,x=0,U=0;U<=e.length;++U){if(U<e.length)o=e.charCodeAt(U);else if(47===o)break;else o=47;if(47===o){if(f===U-1||1===x);else if(f!==U-1&&2===x){if(i.length<2||2!==c||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){var D=i.lastIndexOf("/");if(D!==i.length-1){-1===D?(i="",c=0):c=(i=i.slice(0,D)).length-1-i.lastIndexOf("/"),f=U,x=0;continue}}else if(2===i.length||1===i.length){i="",c=0,f=U,x=0;continue}}t&&(i.length>0?i+="/..":i="..",c=2)}else i.length>0?i+="/"+e.slice(f+1,U):i=e.slice(f+1,U),c=U-f-1;f=U,x=0}else 46===o&&-1!==x?++x:x=-1}return i}function _format(e,t){var o=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return o?o===t.root?o+i:o+e+i:i}var t={resolve:function(){for(var e,t,o="",i=!1,c=arguments.length-1;c>=-1&&!i;c--)c>=0?t=arguments[c]:(void 0===e&&(e=""),t=e),assertPath(t),0!==t.length&&(o=t+"/"+o,i=47===t.charCodeAt(0));return(o=normalizeStringPosix(o,!i),i)?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(e){if(assertPath(e),0===e.length)return".";var t=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return(0!==(e=normalizeStringPosix(e,!t)).length||t||(e="."),e.length>0&&o&&(e+="/"),t)?"/"+e:e},isAbsolute:function(e){return assertPath(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,o=0;o<arguments.length;++o){var i=arguments[o];assertPath(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":t.normalize(e)},relative:function(e,o){if(assertPath(e),assertPath(o),e===o||(e=t.resolve(e))===(o=t.resolve(o)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var c=e.length,f=c-i,x=1;x<o.length&&47===o.charCodeAt(x);++x);for(var U=o.length-x,D=f<U?f:U,K=-1,B=0;B<=D;++B){if(B===D){if(U>D){if(47===o.charCodeAt(x+B))return o.slice(x+B+1);if(0===B)return o.slice(x+B)}else f>D&&(47===e.charCodeAt(i+B)?K=B:0===B&&(K=0));break}var q=e.charCodeAt(i+B);if(q!==o.charCodeAt(x+B))break;47===q&&(K=B)}var ee="";for(B=i+K+1;B<=c;++B)(B===c||47===e.charCodeAt(B))&&(0===ee.length?ee+="..":ee+="/..");return ee.length>0?ee+o.slice(x+K):(x+=K,47===o.charCodeAt(x)&&++x,o.slice(x))},_makeLong:function(e){return e},dirname:function(e){if(assertPath(e),0===e.length)return".";for(var t=e.charCodeAt(0),o=47===t,i=-1,c=!0,f=e.length-1;f>=1;--f)if(47===(t=e.charCodeAt(f))){if(!c){i=f;break}}else c=!1;return -1===i?o?"/":".":o&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');assertPath(e);var o,i=0,c=-1,f=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var x=t.length-1,U=-1;for(o=e.length-1;o>=0;--o){var D=e.charCodeAt(o);if(47===D){if(!f){i=o+1;break}}else -1===U&&(f=!1,U=o+1),x>=0&&(D===t.charCodeAt(x)?-1==--x&&(c=o):(x=-1,c=U))}return i===c?c=U:-1===c&&(c=e.length),e.slice(i,c)}for(o=e.length-1;o>=0;--o)if(47===e.charCodeAt(o)){if(!f){i=o+1;break}}else -1===c&&(f=!1,c=o+1);return -1===c?"":e.slice(i,c)},extname:function(e){assertPath(e);for(var t=-1,o=0,i=-1,c=!0,f=0,x=e.length-1;x>=0;--x){var U=e.charCodeAt(x);if(47===U){if(!c){o=x+1;break}continue}-1===i&&(c=!1,i=x+1),46===U?-1===t?t=x:1!==f&&(f=1):-1!==t&&(f=-1)}return -1===t||-1===i||0===f||1===f&&t===i-1&&t===o+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return _format("/",e)},parse:function(e){assertPath(e);var t,o={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return o;var i=e.charCodeAt(0),c=47===i;c?(o.root="/",t=1):t=0;for(var f=-1,x=0,U=-1,D=!0,K=e.length-1,B=0;K>=t;--K){if(47===(i=e.charCodeAt(K))){if(!D){x=K+1;break}continue}-1===U&&(D=!1,U=K+1),46===i?-1===f?f=K:1!==B&&(B=1):-1!==f&&(B=-1)}return -1===f||-1===U||0===B||1===B&&f===U-1&&f===x+1?-1!==U&&(0===x&&c?o.base=o.name=e.slice(1,U):o.base=o.name=e.slice(x,U)):(0===x&&c?(o.name=e.slice(1,f),o.base=e.slice(1,U)):(o.name=e.slice(x,f),o.base=e.slice(x,U)),o.ext=e.slice(f,U)),x>0?o.dir=e.slice(0,x-1):c&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};t.posix=t,e.exports=t}},o={};function __nccwpck_require__(e){var i=o[e];if(void 0!==i)return i.exports;var c=o[e]={exports:{}},f=!0;try{t[e](c,c.exports,__nccwpck_require__),f=!1}finally{f&&delete o[e]}return c.exports}__nccwpck_require__.ab="//";var i=__nccwpck_require__(114);e.exports=i}()},624:e=>{"use strict";!function(){var t={815:function(e){function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,o,i,c){o=o||"&",i=i||"=";var f={};if("string"!=typeof e||0===e.length)return f;var x=/\+/g;e=e.split(o);var U=1e3;c&&"number"==typeof c.maxKeys&&(U=c.maxKeys);var D=e.length;U>0&&D>U&&(D=U);for(var K=0;K<D;++K){var B,q,ee,et,er=e[K].replace(x,"%20"),en=er.indexOf(i);en>=0?(B=er.substr(0,en),q=er.substr(en+1)):(B=er,q=""),ee=decodeURIComponent(B),et=decodeURIComponent(q),hasOwnProperty(f,ee)?t(f[ee])?f[ee].push(et):f[ee]=[f[ee],et]:f[ee]=et}return f};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var stringifyPrimitive=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,c,f){return(i=i||"&",c=c||"=",null===e&&(e=void 0),"object"==typeof e)?map(o(e),function(o){var f=encodeURIComponent(stringifyPrimitive(o))+c;return t(e[o])?map(e[o],function(e){return f+encodeURIComponent(stringifyPrimitive(e))}).join(i):f+encodeURIComponent(stringifyPrimitive(e[o]))}).join(i):f?encodeURIComponent(stringifyPrimitive(f))+c+encodeURIComponent(stringifyPrimitive(e)):""};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var o=[],i=0;i<e.length;i++)o.push(t(e[i],i));return o}var o=Object.keys||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push(o);return t}}},o={};function __nccwpck_require__(e){var i=o[e];if(void 0!==i)return i.exports;var c=o[e]={exports:{}},f=!0;try{t[e](c,c.exports,__nccwpck_require__),f=!1}finally{f&&delete o[e]}return c.exports}__nccwpck_require__.ab="//";var i={};i.decode=i.parse=__nccwpck_require__(815),i.encode=i.stringify=__nccwpck_require__(577),e.exports=i}()},65:(e,t,o)=>{"use strict";/**
 * @license React
 * react-dom-server-rendering-stub.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=o(17),c={usingClientEntryPoint:!1,Events:null,Dispatcher:{current:null}};function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function k(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}var f=c.Dispatcher,x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function n(){return x.current.useHostTransitionStatus()}function r(e,t,o){return x.current.useFormState(e,t,o)}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c,t.createPortal=function(){throw Error(h(448))},t.experimental_useFormState=function(e,t,o){return r(e,t,o)},t.experimental_useFormStatus=function(){return n()},t.flushSync=function(){throw Error(h(449))},t.preconnect=function(e,t){var o=f.current;o&&"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,o.preconnect(e,t))},t.prefetchDNS=function(e){var t=f.current;t&&"string"==typeof e&&t.prefetchDNS(e)},t.preinit=function(e,t){var o=f.current;if(o&&"string"==typeof e&&t&&"string"==typeof t.as){var i=t.as,c=k(i,t.crossOrigin),x="string"==typeof t.integrity?t.integrity:void 0,U="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===i?o.preinitStyle(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:c,integrity:x,fetchPriority:U}):"script"===i&&o.preinitScript(e,{crossOrigin:c,integrity:x,fetchPriority:U,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){var o=f.current;if(o&&"string"==typeof e){if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var i=k(t.as,t.crossOrigin);o.preinitModuleScript(e,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&o.preinitModuleScript(e)}},t.preload=function(e,t){var o=f.current;if(o&&"string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var i=t.as,c=k(i,t.crossOrigin);o.preload(e,i,{crossOrigin:c,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0})}},t.preloadModule=function(e,t){var o=f.current;if(o&&"string"==typeof e){if(t){var i=k(t.as,t.crossOrigin);o.preloadModule(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else o.preloadModule(e)}},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=r,t.useFormStatus=n,t.version="18.3.0-canary-8c8ee9ee6-20231026"},106:(e,t,o)=>{"use strict";e.exports=o(65)},104:(e,t,o)=>{"use strict";/**
 * @license React
 * react-server-dom-webpack-server.edge.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=o(939),c=o(106),f=null,x=0;function p(e,t){if(0!==t.byteLength){if(512<t.byteLength)0<x&&(e.enqueue(new Uint8Array(f.buffer,0,x)),f=new Uint8Array(512),x=0),e.enqueue(t);else{var o=f.length-x;o<t.byteLength&&(0===o?e.enqueue(f):(f.set(t.subarray(0,o),x),e.enqueue(f),t=t.subarray(o)),f=new Uint8Array(512),x=0),f.set(t,x),x+=t.byteLength}}return!0}var U=new TextEncoder;function ca(e,t){"function"==typeof e.error?e.error(t):e.close()}var D=Symbol.for("react.client.reference"),K=Symbol.for("react.server.reference");function u(e,t,o){return Object.defineProperties(e,{$$typeof:{value:D},$$id:{value:t},$$async:{value:o}})}Function.prototype.bind,Array.prototype.slice;var B=Promise.prototype,q={get:function(e,t){switch(t){case"$$typeof":return e.$$typeof;case"$$id":return e.$$id;case"$$async":return e.$$async;case"name":return e.name;case"displayName":case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.")}throw Error("Cannot access "+String(e.name)+"."+String(t)+" on the server. You cannot dot into a client module from a server component. You can only pass the imported name through.")},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function ja(e,t){switch(t){case"$$typeof":return e.$$typeof;case"$$id":return e.$$id;case"$$async":return e.$$async;case"name":return e.name;case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case"__esModule":var o=e.$$id;return e.default=u(function(){throw Error("Attempted to call the default export of "+o+" from the server but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},e.$$id+"#",e.$$async),!0;case"then":if(e.then)return e.then;if(e.$$async)return;var i=u({},e.$$id,!0),c=new Proxy(i,ee);return e.status="fulfilled",e.value=c,e.then=u(function(e){return Promise.resolve(e(c))},e.$$id+"#then",!1)}return(i=e[t])||(Object.defineProperty(i=u(function(){throw Error("Attempted to call "+String(t)+"() from the server but "+String(t)+" is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},e.$$id+"#"+t,e.$$async),"name",{value:t}),i=e[t]=new Proxy(i,q)),i}var ee={get:function(e,t){return ja(e,t)},getOwnPropertyDescriptor:function(e,t){var o=Object.getOwnPropertyDescriptor(e,t);return o||(o={value:ja(e,t),writable:!1,configurable:!1,enumerable:!1},Object.defineProperty(e,t,o)),o},getPrototypeOf:function(){return B},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function la(e){if("string"==typeof e&&e){var t=v();if(t){var o=t.hints,i="D|"+e;o.has(i)||(o.add(i),w(t,"D",e))}}}function ma(e,t){if("string"==typeof e){var o=v();if(o){var i=o.hints,c="C|"+(null==t?"null":t)+"|"+e;i.has(c)||(i.add(c),"string"==typeof t?w(o,"C",[e,t]):w(o,"C",e))}}}function na(e,t,o){if("string"==typeof e){var i=v();if(i){var c=i.hints,f="L";if("image"===t&&o){var x=o.imageSrcSet,U=o.imageSizes,D="";"string"==typeof x&&""!==x?(D+="["+x+"]","string"==typeof U&&(D+="["+U+"]")):D+="[][]"+e,f+="[image]"+D}else f+="["+t+"]"+e;c.has(f)||(c.add(f),(o=y(o))?w(i,"L",[e,t,o]):w(i,"L",[e,t]))}}}function oa(e,t){if("string"==typeof e){var o=v();if(o){var i=o.hints,c="m|"+e;if(!i.has(c))return i.add(c),(t=y(t))?w(o,"m",[e,t]):w(o,"m",e)}}}function pa(e,t,o){if("string"==typeof e){var i=v();if(i){var c=i.hints,f="S|"+e;if(!c.has(f))return c.add(f),(o=y(o))?w(i,"S",[e,"string"==typeof t?t:0,o]):"string"==typeof t?w(i,"S",[e,t]):w(i,"S",e)}}}function qa(e,t){if("string"==typeof e){var o=v();if(o){var i=o.hints,c="X|"+e;if(!i.has(c))return i.add(c),(t=y(t))?w(o,"X",[e,t]):w(o,"X",e)}}}function ra(e,t){if("string"==typeof e){var o=v();if(o){var i=o.hints,c="M|"+e;if(!i.has(c))return i.add(c),(t=y(t))?w(o,"M",[e,t]):w(o,"M",e)}}}function y(e){if(null==e)return null;var t,o=!1,i={};for(t in e)null!=e[t]&&(o=!0,i[t]=e[t]);return o?i:null}c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher;var et="function"==typeof AsyncLocalStorage,er=et?new AsyncLocalStorage:null,en=Symbol.for("react.element"),eo=Symbol.for("react.fragment"),ea=Symbol.for("react.server_context"),ei=Symbol.for("react.forward_ref"),es=Symbol.for("react.suspense"),el=Symbol.for("react.suspense_list"),ec=Symbol.for("react.memo"),eu=Symbol.for("react.lazy"),ed=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.postpone");var ep=Symbol.iterator,eh=null;function C(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var o=t.parent;if(null===e){if(null!==o)throw Error("The stacks must reach the root at the same time. This is a bug in React.")}else{if(null===o)throw Error("The stacks must reach the root at the same time. This is a bug in React.");C(e,o),t.context._currentValue=t.value}}}function Ea(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&Ea(e)}function Fa(e){var t=e.parent;null!==t&&Fa(t),e.context._currentValue=e.value}function Ga(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error("The depth must equal at least at zero before reaching the root. This is a bug in React.");e.depth===t.depth?C(e,t):Ga(e,t)}function Ha(e,t){var o=t.parent;if(null===o)throw Error("The depth must equal at least at zero before reaching the root. This is a bug in React.");e.depth===o.depth?C(e,o):Ha(e,o),t.context._currentValue=t.value}var ef=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`");function Ja(){}function Ka(e,t,o){switch(void 0===(o=e[o])?e.push(t):o!==t&&(t.then(Ja,Ja),t=o),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:if("string"!=typeof t.status)switch((e=t).status="pending",e.then(function(e){if("pending"===t.status){var o=t;o.status="fulfilled",o.value=e}},function(e){if("pending"===t.status){var o=t;o.status="rejected",o.reason=e}}),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}throw eg=t,ef}}var eg=null;function La(){if(null===eg)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=eg;return eg=null,e}var em=null,ey=0,e_=null;function Ma(){var e=e_;return e_=null,e}function Na(e){return e._currentValue}var ev={useMemo:function(e){return e()},useCallback:function(e){return e},useDebugValue:function(){},useDeferredValue:H,useTransition:H,readContext:Na,useContext:Na,useReducer:H,useRef:H,useState:H,useInsertionEffect:H,useLayoutEffect:H,useImperativeHandle:H,useEffect:H,useId:Oa,useSyncExternalStore:H,useCacheRefresh:function(){return Pa},useMemoCache:function(e){for(var t=Array(e),o=0;o<e;o++)t[o]=ed;return t},use:Qa};function H(){throw Error("This Hook is not supported in Server Components.")}function Pa(){throw Error("Refreshing the cache is not supported in Server Components.")}function Oa(){if(null===em)throw Error("useId can only be used while React is rendering");var e=em.identifierCount++;return":"+em.identifierPrefix+"S"+e.toString(32)+":"}function Qa(e){if(null!==e&&"object"==typeof e||"function"==typeof e){if("function"==typeof e.then){var t=ey;return ey+=1,null===e_&&(e_=[]),Ka(e_,e,t)}if(e.$$typeof===ea)return e._currentValue}throw Error("An unsupported type was passed to use(): "+String(e))}function Sa(){return(new AbortController).signal}function Ta(){var e=v();return e?e.cache:new Map}var ew=Array.isArray,eb=Object.getPrototypeOf;function Xa(e){return Object.prototype.toString.call(e).replace(/^\[object (.*)\]$/,function(e,t){return t})}function Ya(e){switch(typeof e){case"string":return JSON.stringify(10>=e.length?e:e.slice(0,10)+"...");case"object":if(ew(e))return"[...]";return"Object"===(e=Xa(e))?"{...}":e;case"function":return"function";default:return String(e)}}function I(e){if("string"==typeof e)return e;switch(e){case es:return"Suspense";case el:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ei:return I(e.render);case ec:return I(e.type);case eu:var t=e._payload;e=e._init;try{return I(e(t))}catch(e){}}return""}function J(e,t){var o=Xa(e);if("Object"!==o&&"Array"!==o)return o;o=-1;var i=0;if(ew(e)){for(var c="[",f=0;f<e.length;f++){0<f&&(c+=", ");var x=e[f];x="object"==typeof x&&null!==x?J(x):Ya(x),""+f===t?(o=c.length,i=x.length,c+=x):c=10>x.length&&40>c.length+x.length?c+x:c+"..."}c+="]"}else if(e.$$typeof===en)c="<"+I(e.type)+"/>";else{for(x=0,c="{",f=Object.keys(e);x<f.length;x++){0<x&&(c+=", ");var U=f[x],D=JSON.stringify(U);c+=('"'+U+'"'===D?U:D)+": ",D="object"==typeof(D=e[U])&&null!==D?J(D):Ya(D),U===t?(o=c.length,i=D.length,c+=D):c=10>D.length&&40>c.length+D.length?c+D:c+"..."}c+="}"}return void 0===t?c:-1<o&&0<i?"\n  "+c+"\n  "+(e=" ".repeat(o)+"^".repeat(i)):"\n  "+c}var eS=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eE=i.__SECRET_SERVER_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;if(!eE)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');var ek=Object.prototype,ex=JSON.stringify,eC=(eE.ReactCurrentCache,eS.ReactCurrentDispatcher),eA=null;function v(){if(eA)return eA;if(et){var e=er.getStore();if(e)return e}return null}function hb(e,t){e.pendingChunks++;var o=L(e,null,eh,e.abortableTasks);switch(t.status){case"fulfilled":return o.model=t.value,ib(e,o),o.id;case"rejected":var i=N(e,t.reason);return O(e,o.id,i),o.id;default:"string"!=typeof t.status&&(t.status="pending",t.then(function(e){"pending"===t.status&&(t.status="fulfilled",t.value=e)},function(e){"pending"===t.status&&(t.status="rejected",t.reason=e)}))}return t.then(function(t){o.model=t,ib(e,o)},function(t){o.status=4,e.abortableTasks.delete(o),t=N(e,t),O(e,o.id,t),null!==e.destination&&P(e,e.destination)}),o.id}function w(e,t,o){o=ex(o),t="H"+t,t=(e.nextChunkId++).toString(16)+":"+t,o=U.encode(t+o+"\n"),e.completedHintChunks.push(o),jb(e)}function kb(e){if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e}function lb(e){switch(e.status){case"fulfilled":case"rejected":break;default:"string"!=typeof e.status&&(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))}return{$$typeof:eu,_payload:e,_init:kb}}function Q(e,t,o,i,c,f){if(null!=i)throw Error("Refs cannot be used in Server Components, nor passed to Client Components.");if("function"==typeof t)return t.$$typeof===D?[en,t,o,c]:(ey=0,e_=f,"object"==typeof(c=t(c))&&null!==c&&"function"==typeof c.then?"fulfilled"===c.status?c.value:lb(c):c);if("string"==typeof t)return[en,t,o,c];if("symbol"==typeof t)return t===eo?c.children:[en,t,o,c];if(null!=t&&"object"==typeof t){if(t.$$typeof===D)return[en,t,o,c];switch(t.$$typeof){case eu:return Q(e,t=(0,t._init)(t._payload),o,i,c,f);case ei:return e=t.render,ey=0,e_=f,e(c,void 0);case ec:return Q(e,t.type,o,i,c,f)}}throw Error("Unsupported Server Component type: "+Ya(t))}function ib(e,t){var o=e.pingedTasks;o.push(t),1===o.length&&(e.flushScheduled=null!==e.destination,setTimeout(function(){return mb(e)},0))}function L(e,t,o,i){var c={id:e.nextChunkId++,status:0,model:t,context:o,ping:function(){return ib(e,c)},thenableState:null};return i.add(c),c}function R(e){return"$"+e.toString(16)}function nb(e,t,o){return e=ex(o),t=t.toString(16)+":"+e+"\n",U.encode(t)}function ob(e,t,o,i){var c=i.$$async?i.$$id+"#async":i.$$id,f=e.writtenClientReferences,x=f.get(c);if(void 0!==x)return t[0]===en&&"1"===o?"$L"+x.toString(16):R(x);try{var D=e.bundlerConfig,K=i.$$id;x="";var B=D[K];if(B)x=B.name;else{var q=K.lastIndexOf("#");if(-1!==q&&(x=K.slice(q+1),B=D[K.slice(0,q)]),!B)throw Error('Could not find the module "'+K+'" in the React Client Manifest. This is probably a bug in the React Server Components bundler.')}var ee=!0===i.$$async?[B.id,B.chunks,x,1]:[B.id,B.chunks,x];e.pendingChunks++;var et=e.nextChunkId++,er=ex(ee),eo=et.toString(16)+":I"+er+"\n",ea=U.encode(eo);return e.completedImportChunks.push(ea),f.set(c,et),t[0]===en&&"1"===o?"$L"+et.toString(16):R(et)}catch(i){return e.pendingChunks++,t=e.nextChunkId++,o=N(e,i),O(e,t,o),R(t)}}function S(e,t){return e.pendingChunks++,t=L(e,t,eh,e.abortableTasks),pb(e,t),t.id}var eR=!1;function N(e,t){if(null!=(t=(e=e.onError)(t))&&"string"!=typeof t)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t||""}function qb(e,t){null!==e.destination?(e.status=2,ca(e.destination,t)):(e.status=1,e.fatalError=t)}function O(e,t,o){o={digest:o},t=t.toString(16)+":E"+ex(o)+"\n",t=U.encode(t),e.completedErrorChunks.push(t)}function pb(e,t){if(0===t.status){var o=eh,i=t.context;o!==i&&(null===o?Fa(i):null===i?Ea(o):o.depth===i.depth?C(o,i):o.depth>i.depth?Ga(o,i):Ha(o,i),eh=i);try{var c=t.model;if("object"==typeof c&&null!==c&&c.$$typeof===en){e.writtenObjects.set(c,t.id),o=c;var f=t.thenableState;for(t.model=c,c=Q(e,o.type,o.key,o.ref,o.props,f),t.thenableState=null;"object"==typeof c&&null!==c&&c.$$typeof===en;)e.writtenObjects.set(c,t.id),f=c,t.model=c,c=Q(e,f.type,f.key,f.ref,f.props,null)}"object"==typeof c&&null!==c&&e.writtenObjects.set(c,t.id);var x=t.id;eR=c;var D=ex(c,e.toJSON),K=x.toString(16)+":"+D+"\n",B=U.encode(K);e.completedRegularChunks.push(B),e.abortableTasks.delete(t),t.status=1}catch(o){"object"==typeof(x=o===ef?La():o)&&null!==x&&"function"==typeof x.then?(e=t.ping,x.then(e,e),t.thenableState=Ma()):(e.abortableTasks.delete(t),t.status=4,x=N(e,x),O(e,t.id,x))}}}function mb(e){var t=eC.current;eC.current=ev;var o=eA;em=eA=e;try{var i=e.pingedTasks;e.pingedTasks=[];for(var c=0;c<i.length;c++)pb(e,i[c]);null!==e.destination&&P(e,e.destination)}catch(t){N(e,t),qb(e,t)}finally{eC.current=t,em=null,eA=o}}function P(e,t){f=new Uint8Array(512),x=0;try{for(var o=e.completedImportChunks,i=0;i<o.length;i++)e.pendingChunks--,p(t,o[i]);o.splice(0,i);var c=e.completedHintChunks;for(i=0;i<c.length;i++)p(t,c[i]);c.splice(0,i);var U=e.completedRegularChunks;for(i=0;i<U.length;i++)e.pendingChunks--,p(t,U[i]);U.splice(0,i);var D=e.completedErrorChunks;for(i=0;i<D.length;i++)e.pendingChunks--,p(t,D[i]);D.splice(0,i)}finally{e.flushScheduled=!1,f&&0<x&&(t.enqueue(new Uint8Array(f.buffer,0,x)),f=null,x=0)}0===e.pendingChunks&&t.close()}function jb(e){if(!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination){var t=e.destination;e.flushScheduled=!0,setTimeout(function(){return P(e,t)},0)}}function tb(e,t){var o="",i=e[t];if(i)o=i.name;else{var c=t.lastIndexOf("#");if(-1!==c&&(o=t.slice(c+1),i=e[t.slice(0,c)]),!i)throw Error('Could not find the module "'+t+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return[i.id,i.chunks,o]}var eP=new Map;function ub(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function vb(){}function wb(e){for(var t=e[1],i=[],c=0;c<t.length;){var f=t[c++];t[c++];var x=eP.get(f);if(void 0===x){x=o.e(f),i.push(x);var U=eP.set.bind(eP,f,null);x.then(U,vb),eP.set(f,x)}else null!==x&&i.push(x)}return 4===e.length?0===i.length?ub(e[0]):Promise.all(i).then(function(){return ub(e[0])}):0<i.length?Promise.all(i):null}function V(e){var t=globalThis.__next_require__(e[0]);if(4===e.length&&"function"==typeof t.then){if("fulfilled"===t.status)t=t.value;else throw t.reason}return"*"===e[2]?t:""===e[2]?t.__esModule?t.default:t:t[e[2]]}function xb(e,t,o,i){this.status=e,this.value=t,this.reason=o,this._response=i}function zb(e,t){for(var o=0;o<e.length;o++)(0,e[o])(t)}function Ab(e,t){if("pending"===e.status||"blocked"===e.status){var o=e.reason;e.status="rejected",e.reason=t,null!==o&&zb(o,t)}}function Bb(e,t,o,i,c,f){var x=tb(e._bundlerConfig,t);if(e=wb(x),o)o=Promise.all([o,e]).then(function(e){e=e[0];var t=V(x);return t.bind.apply(t,[null].concat(e))});else{if(!e)return V(x);o=Promise.resolve(e).then(function(){return V(x)})}return o.then(Cb(i,c,f),Db(i)),null}xb.prototype=Object.create(Promise.prototype),xb.prototype.then=function(e,t){switch("resolved_model"===this.status&&yb(this),this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};var eT=null,eO=null;function yb(e){var t=eT,o=eO;eT=e,eO=null;try{var i=JSON.parse(e.value,e._response._fromJSON);null!==eO&&0<eO.deps?(eO.value=i,e.status="blocked",e.value=null,e.reason=null):(e.status="fulfilled",e.value=i)}catch(t){e.status="rejected",e.reason=t}finally{eT=t,eO=o}}function Eb(e,t){e._chunks.forEach(function(e){"pending"===e.status&&Ab(e,t)})}function Z(e,t){var o=e._chunks,i=o.get(t);return i||(i=null!=(i=e._formData.get(e._prefix+t))?new xb("resolved_model",i,null,e):new xb("pending",null,null,e),o.set(t,i)),i}function Cb(e,t,o){if(eO){var i=eO;i.deps++}else i=eO={deps:1,value:null};return function(c){t[o]=c,i.deps--,0===i.deps&&"blocked"===e.status&&(c=e.value,e.status="fulfilled",e.value=i.value,null!==c&&zb(c,i.value))}}function Db(e){return function(t){return Ab(e,t)}}function Fb(e,t){if("resolved_model"===(e=Z(e,t)).status&&yb(e),"fulfilled"!==e.status)throw e.reason;return e.value}function Lb(e,t,o,i){if("$"===i[0])switch(i[1]){case"$":return i.slice(1);case"@":return Z(e,t=parseInt(i.slice(2),16));case"S":return Symbol.for(i.slice(2));case"F":return i=Fb(e,i=parseInt(i.slice(2),16)),Bb(e,i.id,i.bound,eT,t,o);case"Q":return e=Fb(e,t=parseInt(i.slice(2),16)),new Map(e);case"W":return e=Fb(e,t=parseInt(i.slice(2),16)),new Set(e);case"K":t=i.slice(2);var c=e._prefix+t+"_",f=new FormData;return e._formData.forEach(function(e,t){t.startsWith(c)&&f.append(t.slice(c.length),e)}),f;case"I":return 1/0;case"-":return"$-0"===i?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(i.slice(2)));case"n":return BigInt(i.slice(2));default:switch("resolved_model"===(e=Z(e,i=parseInt(i.slice(1),16))).status&&yb(e),e.status){case"fulfilled":return e.value;case"pending":case"blocked":return i=eT,e.then(Cb(i,t,o),Db(i)),null;default:throw e.reason}}return i}t.createClientModuleProxy=function(e){return e=u({},e,!1),new Proxy(e,ee)}},545:(e,t,o)=>{"use strict";e.exports=o(104)},900:(e,t)=>{"use strict";/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=Symbol.for("react.element"),i=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),D=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),et=Symbol.iterator;function A(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=et&&e[et]||e["@@iterator"])?e:null}var er={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},en=Object.assign,eo={};function E(e,t,o){this.props=e,this.context=t,this.refs=eo,this.updater=o||er}function F(){}function G(e,t,o){this.props=e,this.context=t,this.refs=eo,this.updater=o||er}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},F.prototype=E.prototype;var ea=G.prototype=new F;ea.constructor=G,en(ea,E.prototype),ea.isPureReactComponent=!0;var ei=Array.isArray,es=Object.prototype.hasOwnProperty,el={current:null},ec={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,i){var c,f={},x=null,U=null;if(null!=t)for(c in void 0!==t.ref&&(U=t.ref),void 0!==t.key&&(x=""+t.key),t)es.call(t,c)&&!ec.hasOwnProperty(c)&&(f[c]=t[c]);var D=arguments.length-2;if(1===D)f.children=i;else if(1<D){for(var K=Array(D),B=0;B<D;B++)K[B]=arguments[B+2];f.children=K}if(e&&e.defaultProps)for(c in D=e.defaultProps)void 0===f[c]&&(f[c]=D[c]);return{$$typeof:o,type:e,key:x,ref:U,props:f,_owner:el.current}}function N(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}function escape(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}var eu=/\/+/g;function Q(e,t){return"object"==typeof e&&null!==e&&null!=e.key?escape(""+e.key):t.toString(36)}function R(e,t,c,f,x){var U=typeof e;("undefined"===U||"boolean"===U)&&(e=null);var D=!1;if(null===e)D=!0;else switch(U){case"string":case"number":D=!0;break;case"object":switch(e.$$typeof){case o:case i:D=!0}}if(D)return x=x(D=e),e=""===f?"."+Q(D,0):f,ei(x)?(c="",null!=e&&(c=e.replace(eu,"$&/")+"/"),R(x,t,c,"",function(e){return e})):null!=x&&(O(x)&&(x=N(x,c+(!x.key||D&&D.key===x.key?"":(""+x.key).replace(eu,"$&/")+"/")+e)),t.push(x)),1;if(D=0,f=""===f?".":f+":",ei(e))for(var K=0;K<e.length;K++){var B=f+Q(U=e[K],K);D+=R(U,t,c,B,x)}else if("function"==typeof(B=A(e)))for(e=B.call(e),K=0;!(U=e.next()).done;)B=f+Q(U=U.value,K++),D+=R(U,t,c,B,x);else if("object"===U)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(t=String(e))?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return D}function S(e,t,o){if(null==e)return e;var i=[],c=0;return R(e,i,"","",function(e){return t.call(o,e,c++)}),i}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ed={current:null};function V(){return new WeakMap}function W(){return{s:0,v:void 0,o:null,p:null}}var ep={current:null},eh={transition:null};t.Children={map:S,forEach:function(e,t,o){S(e,function(){t.apply(this,arguments)},o)},count:function(e){var t=0;return S(e,function(){t++}),t},toArray:function(e){return S(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=E,t.Fragment=c,t.Profiler=x,t.PureComponent=G,t.StrictMode=f,t.Suspense=B,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:ep,ReactCurrentCache:ed,ReactCurrentBatchConfig:eh,ReactCurrentOwner:el},t.cache=function(e){return function(){var t=ed.current;if(!t)return e.apply(null,arguments);var o=t.getCacheForType(V);void 0===(t=o.get(e))&&(t=W(),o.set(e,t)),o=0;for(var i=arguments.length;o<i;o++){var c=arguments[o];if("function"==typeof c||"object"==typeof c&&null!==c){var f=t.o;null===f&&(t.o=f=new WeakMap),void 0===(t=f.get(c))&&(t=W(),f.set(c,t))}else null===(f=t.p)&&(t.p=f=new Map),void 0===(t=f.get(c))&&(t=W(),f.set(c,t))}if(1===t.s)return t.v;if(2===t.s)throw t.v;try{var x=e.apply(null,arguments);return(o=t).s=1,o.v=x}catch(e){throw(x=t).s=2,x.v=e,e}}},t.cloneElement=function(e,t,i){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var c=en({},e.props),f=e.key,x=e.ref,U=e._owner;if(null!=t){if(void 0!==t.ref&&(x=t.ref,U=el.current),void 0!==t.key&&(f=""+t.key),e.type&&e.type.defaultProps)var D=e.type.defaultProps;for(K in t)es.call(t,K)&&!ec.hasOwnProperty(K)&&(c[K]=void 0===t[K]&&void 0!==D?D[K]:t[K])}var K=arguments.length-2;if(1===K)c.children=i;else if(1<K){D=Array(K);for(var B=0;B<K;B++)D[B]=arguments[B+2];c.children=D}return{$$typeof:o,type:e.type,key:f,ref:x,props:c,_owner:U}},t.createContext=function(e){return(e={$$typeof:D,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:U,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:K,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:ee,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:q,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=eh.transition;eh.transition={};try{e()}finally{eh.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.unstable_useCacheRefresh=function(){return ep.current.useCacheRefresh()},t.use=function(e){return ep.current.use(e)},t.useCallback=function(e,t){return ep.current.useCallback(e,t)},t.useContext=function(e){return ep.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return ep.current.useDeferredValue(e,t)},t.useEffect=function(e,t){return ep.current.useEffect(e,t)},t.useId=function(){return ep.current.useId()},t.useImperativeHandle=function(e,t,o){return ep.current.useImperativeHandle(e,t,o)},t.useInsertionEffect=function(e,t){return ep.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return ep.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return ep.current.useMemo(e,t)},t.useOptimistic=function(e,t){return ep.current.useOptimistic(e,t)},t.useReducer=function(e,t,o){return ep.current.useReducer(e,t,o)},t.useRef=function(e){return ep.current.useRef(e)},t.useState=function(e){return ep.current.useState(e)},t.useSyncExternalStore=function(e,t,o){return ep.current.useSyncExternalStore(e,t,o)},t.useTransition=function(){return ep.current.useTransition()},t.version="18.3.0-canary-8c8ee9ee6-20231026"},21:(e,t)=>{"use strict";/**
 * @license React
 * react.shared-subset.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=Object.assign,i={current:null};function p(){return new Map}if("function"==typeof fetch){var c=fetch,r=function(e,t){var o=i.current;if(!o||t&&t.signal&&t.signal!==o.getCacheSignal())return c(e,t);if("string"!=typeof e||t){var f="string"==typeof e||e instanceof URL?new Request(e,t):e;if("GET"!==f.method&&"HEAD"!==f.method||f.keepalive)return c(e,t);var x=JSON.stringify([f.method,Array.from(f.headers.entries()),f.mode,f.redirect,f.credentials,f.referrer,f.referrerPolicy,f.integrity]);f=f.url}else x='["GET",[],null,"follow",null,null,null,null]',f=e;var U=o.getCacheForType(p);if(void 0===(o=U.get(f)))e=c(e,t),U.set(f,[x,e]);else{for(f=0,U=o.length;f<U;f+=2){var D=o[f+1];if(o[f]===x)return(e=D).then(function(e){return e.clone()})}e=c(e,t),o.push(x,e)}return e.then(function(e){return e.clone()})};o(r,c);try{fetch=r}catch(e){try{globalThis.fetch=r}catch(e){console.warn("React was unable to patch the fetch() function in this environment. Suspensey APIs might not work correctly as a result.")}}}var f={current:null},x={current:null},U=Symbol.for("react.element"),D=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ee=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),er=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),eo=Symbol.iterator;function H(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=eo&&e[eo]||e["@@iterator"])?e:null}function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ea={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ei={};function L(e,t,o){this.props=e,this.context=t,this.refs=ei,this.updater=o||ea}function M(){}function N(e,t,o){this.props=e,this.context=t,this.refs=ei,this.updater=o||ea}L.prototype.isReactComponent={},L.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(I(85));this.updater.enqueueSetState(this,e,t,"setState")},L.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},M.prototype=L.prototype;var es=N.prototype=new M;es.constructor=N,o(es,L.prototype),es.isPureReactComponent=!0;var el=Array.isArray,ec=Object.prototype.hasOwnProperty,eu={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t){return{$$typeof:U,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===U}function escape(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}var ed=/\/+/g;function V(e,t){return"object"==typeof e&&null!==e&&null!=e.key?escape(""+e.key):t.toString(36)}function W(e,t,o,i,c){var f=typeof e;("undefined"===f||"boolean"===f)&&(e=null);var x=!1;if(null===e)x=!0;else switch(f){case"string":case"number":x=!0;break;case"object":switch(e.$$typeof){case U:case D:x=!0}}if(x)return c=c(x=e),e=""===i?"."+V(x,0):i,el(c)?(o="",null!=e&&(o=e.replace(ed,"$&/")+"/"),W(c,t,o,"",function(e){return e})):null!=c&&(T(c)&&(c=S(c,o+(!c.key||x&&x.key===c.key?"":(""+c.key).replace(ed,"$&/")+"/")+e)),t.push(c)),1;if(x=0,i=""===i?".":i+":",el(e))for(var K=0;K<e.length;K++){var B=i+V(f=e[K],K);x+=W(f,t,o,B,c)}else if("function"==typeof(B=H(e)))for(e=B.call(e),K=0;!(f=e.next()).done;)B=i+V(f=f.value,K++),x+=W(f,t,o,B,c);else if("object"===f)throw Error(I(31,"[object Object]"===(t=String(e))?"object with keys {"+Object.keys(e).join(", ")+"}":t));return x}function X(e,t,o){if(null==e)return e;var i=[],c=0;return W(e,i,"","",function(e){return t.call(o,e,c++)}),i}function Y(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}function aa(){return new WeakMap}function Z(){return{s:0,v:void 0,o:null,p:null}}t.Children={map:X,forEach:function(e,t,o){X(e,function(){t.apply(this,arguments)},o)},count:function(e){var t=0;return X(e,function(){t++}),t},toArray:function(e){return X(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error(I(143));return e}},t.Fragment=K,t.Profiler=q,t.StrictMode=B,t.Suspense=et,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:f,ReactCurrentOwner:x},t.__SECRET_SERVER_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentCache:i},t.cache=function(e){return function(){var t=i.current;if(!t)return e.apply(null,arguments);var o=t.getCacheForType(aa);void 0===(t=o.get(e))&&(t=Z(),o.set(e,t)),o=0;for(var c=arguments.length;o<c;o++){var f=arguments[o];if("function"==typeof f||"object"==typeof f&&null!==f){var x=t.o;null===x&&(t.o=x=new WeakMap),void 0===(t=x.get(f))&&(t=Z(),x.set(f,t))}else null===(x=t.p)&&(t.p=x=new Map),void 0===(t=x.get(f))&&(t=Z(),x.set(f,t))}if(1===t.s)return t.v;if(2===t.s)throw t.v;try{var U=e.apply(null,arguments);return(o=t).s=1,o.v=U}catch(e){throw(U=t).s=2,U.v=e,e}}},t.cloneElement=function(e,t,i){if(null==e)throw Error(I(267,e));var c=o({},e.props),f=e.key,D=e.ref,K=e._owner;if(null!=t){if(void 0!==t.ref&&(D=t.ref,K=x.current),void 0!==t.key&&(f=""+t.key),e.type&&e.type.defaultProps)var B=e.type.defaultProps;for(q in t)ec.call(t,q)&&!eu.hasOwnProperty(q)&&(c[q]=void 0===t[q]&&void 0!==B?B[q]:t[q])}var q=arguments.length-2;if(1===q)c.children=i;else if(1<q){B=Array(q);for(var ee=0;ee<q;ee++)B[ee]=arguments[ee+2];c.children=B}return{$$typeof:U,type:e.type,key:f,ref:D,props:c,_owner:K}},t.createElement=function(e,t,o){var i,c={},f=null,D=null;if(null!=t)for(i in void 0!==t.ref&&(D=t.ref),void 0!==t.key&&(f=""+t.key),t)ec.call(t,i)&&!eu.hasOwnProperty(i)&&(c[i]=t[i]);var K=arguments.length-2;if(1===K)c.children=o;else if(1<K){for(var B=Array(K),q=0;q<K;q++)B[q]=arguments[q+2];c.children=B}if(e&&e.defaultProps)for(i in K=e.defaultProps)void 0===c[i]&&(c[i]=K[i]);return{$$typeof:U,type:e,key:f,ref:D,props:c,_owner:x.current}},t.createRef=function(){return{current:null}},t.createServerContext=function(){throw Error(I(248))},t.forwardRef=function(e){return{$$typeof:ee,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:en,_payload:{_status:-1,_result:e},_init:Y}},t.memo=function(e,t){return{$$typeof:er,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){e()},t.use=function(e){return f.current.use(e)},t.useCallback=function(e,t){return f.current.useCallback(e,t)},t.useContext=function(e){return f.current.useContext(e)},t.useDebugValue=function(){},t.useId=function(){return f.current.useId()},t.useMemo=function(e,t){return f.current.useMemo(e,t)},t.version="18.3.0-canary-8c8ee9ee6-20231026"},17:(e,t,o)=>{"use strict";e.exports=o(900)},939:(e,t,o)=>{"use strict";e.exports=o(21)},465:(e,t,o)=>{"use strict";o.d(t,{D:()=>c});var i=o(545);let c=i.createClientModuleProxy},146:(e,t,o)=>{"use strict";o.d(t,{H4:()=>U,i4:()=>i,ph:()=>c,pz:()=>f,vu:()=>x});let i="RSC",c="Next-Router-State-Tree",f="Next-Router-Prefetch",x=[[i],[c],[f]],U="_rsc"},302:(e,t,o)=>{"use strict";o.r(t),o.d(t,{bailoutToClientRendering:()=>bailoutToClientRendering});let i="NEXT_DYNAMIC_NO_SSR_CODE";function throwWithNoSSR(){let e=Error(i);throw e.digest=i,e}var c=o(841);function bailoutToClientRendering(){let e=c.A.getStore();return null!=e&&!!e.forceStatic||((null==e?void 0:e.isStaticGeneration)&&throwWithNoSSR(),!1)}},206:(e,t,o)=>{"use strict";o.r(t),o.d(t,{cookies:()=>headers_cookies,draftMode:()=>draftMode,headers:()=>headers_headers});var i=o(896),c=o(375),f=o(672),x=o(7),U=o(990),D=o(121);let DraftMode=class DraftMode{get isEnabled(){return this._provider.isEnabled}enable(){if(!(0,D.o)("draftMode().enable()"))return this._provider.enable()}disable(){if(!(0,D.o)("draftMode().disable()"))return this._provider.disable()}constructor(e){this._provider=e}};function headers_headers(){if((0,D.o)("headers",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return c.h.seal(new Headers({}));let e=x.F.getStore();if(!e)throw Error("Invariant: headers() expects to have requestAsyncStorage, none available.");return e.headers}function headers_cookies(){if((0,D.o)("cookies",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return i.Qb.seal(new f.q(new Headers({})));let e=x.F.getStore();if(!e)throw Error("Invariant: cookies() expects to have requestAsyncStorage, none available.");let t=U.W.getStore();return t&&(t.isAction||t.isAppRoute)?e.mutableCookies:e.cookies}function draftMode(){let e=x.F.getStore();if(!e)throw Error("Invariant: draftMode() expects to have requestAsyncStorage, none available.");return new DraftMode(e.draftMode)}},94:(e,t,o)=>{"use strict";o.r(t),o.d(t,{DYNAMIC_ERROR_CODE:()=>i,DynamicServerError:()=>DynamicServerError});let i="DYNAMIC_SERVER_USAGE";let DynamicServerError=class DynamicServerError extends Error{constructor(e){super("Dynamic server usage: "+e),this.digest=i}}},306:(e,t,o)=>{"use strict";function maybePostpone(e,t){if(!e.isStaticGeneration||!e.experimental.ppr)return;let i=o(939);"function"==typeof i.unstable_postpone&&i.unstable_postpone(t)}o.d(t,{j:()=>maybePostpone})},651:(e,t,o)=>{"use strict";o.d(t,{redirect:()=>B.uX}),o(939),o(130);var i=o(465);let c=(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/hooks-client-context.shared-runtime.js`),{__esModule:f,$$typeof:x}=c;c.default,(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/hooks-client-context.shared-runtime.js#SearchParamsContext`),(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/hooks-client-context.shared-runtime.js#PathnameContext`),(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/hooks-client-context.shared-runtime.js#PathParamsContext`);let U=(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/server-inserted-html.shared-runtime.js`),{__esModule:D,$$typeof:K}=U;U.default,(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/server-inserted-html.shared-runtime.js#ServerInsertedHTMLContext`),(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/server-inserted-html.shared-runtime.js#useServerInsertedHTML`);var B=o(30);Symbol("internal for urlsearchparams readonly");Symbol.iterator},30:(e,t,o)=>{"use strict";o.d(t,{M6:()=>getURLFromRedirectError,eo:()=>isRedirectError,uX:()=>redirect});var i,c=o(7);let f="NEXT_REDIRECT";function getRedirectError(e,t,o){void 0===o&&(o=!1);let i=Error(f);i.digest=f+";"+t+";"+e+";"+o;let x=c.F.getStore();return x&&(i.mutableCookies=x.mutableCookies),i}function redirect(e,t){throw void 0===t&&(t="replace"),getRedirectError(e,t,!1)}function isRedirectError(e){if("string"!=typeof(null==e?void 0:e.digest))return!1;let[t,o,i,c]=e.digest.split(";",4);return t===f&&("replace"===o||"push"===o)&&"string"==typeof i&&("true"===c||"false"===c)}function getURLFromRedirectError(e){return isRedirectError(e)?e.digest.split(";",3)[2]:null}!function(e){e.push="push",e.replace="replace"}(i||(i={}))},121:(e,t,o)=>{"use strict";o.d(t,{o:()=>staticGenerationBailout});var i=o(94),c=o(306),f=o(841);let StaticGenBailoutError=class StaticGenBailoutError extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}};function formatErrorMessage(e,t){let{dynamic:o,link:i}=t||{};return"Page"+(o?' with `dynamic = "'+o+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(i?" See more info here: "+i:"")}let staticGenerationBailout=(e,t)=>{let o=f.A.getStore();if(!o)return!1;if(o.forceStatic)return!0;if(o.dynamicShouldError){var x;throw new StaticGenBailoutError(formatErrorMessage(e,{...t,dynamic:null!=(x=null==t?void 0:t.dynamic)?x:"error"}))}let U=formatErrorMessage(e,{...t,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if((0,c.j)(o,U),o.revalidate=0,(null==t?void 0:t.dynamic)||(o.staticPrefetchBailout=!0),o.isStaticGeneration){let t=new i.DynamicServerError(U);throw o.dynamicUsageDescription=e,o.dynamicUsageStack=t.stack,t}return!1}},36:(e,t,o)=>{"use strict";o.d(t,{Ar:()=>U,BR:()=>ee,Et:()=>x,Ho:()=>B,Qq:()=>f,X_:()=>K,dN:()=>i,of:()=>D,y3:()=>c,zt:()=>q});let i="nxtP",c="x-prerender-revalidate",f="x-prerender-revalidate-if-generated",x="x-next-cache-tags",U="x-next-cache-soft-tags",D="x-next-revalidated-tags",K="x-next-revalidate-tag-token",B=256,q="_N_T_",ee=31536e3,et={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"};({...et,GROUP:{server:[et.reactServerComponents,et.actionBrowser,et.appMetadataRoute,et.appRouteHandler],nonClientServerTarget:[et.middleware,et.api],app:[et.reactServerComponents,et.actionBrowser,et.appMetadataRoute,et.appRouteHandler,et.serverSideRendering,et.appPagesBrowser]}})},210:(e,t,o)=>{"use strict";o.d(t,{B:()=>K});var i=o(146),c=o(375),f=o(896),x=o(672),U=o(36);function checkIsOnDemandRevalidate(e,t){let o=c.h.from(e.headers),i=o.get(U.y3),f=i===t.previewModeId,x=o.has(U.Qq);return{isOnDemandRevalidate:f,revalidateOnlyGenerated:x}}let D="__prerender_bypass";Symbol("__next_preview_data"),Symbol(D);let DraftModeProvider=class DraftModeProvider{constructor(e,t,o,i){var c;let f=e&&checkIsOnDemandRevalidate(t,e).isOnDemandRevalidate,x=null==(c=o.get(D))?void 0:c.value;this.isEnabled=!!(!f&&x&&e&&x===e.previewModeId),this._previewModeId=null==e?void 0:e.previewModeId,this._mutableCookies=i}enable(){if(!this._previewModeId)throw Error("Invariant: previewProps missing previewModeId this should never happen");this._mutableCookies.set({name:D,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"})}disable(){this._mutableCookies.set({name:D,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)})}};function getHeaders(e){let t=c.h.from(e);for(let e of i.vu)t.delete(e.toString().toLowerCase());return c.h.seal(t)}function getCookies(e){let t=new x.q(c.h.from(e));return f.Qb.seal(t)}function getMutableCookies(e,t){let o=new x.q(c.h.from(e));return f.vr.wrap(o,t)}let K={wrap(e,{req:t,res:o,renderOpts:i},c){let f;function defaultOnUpdateCookies(e){o&&o.setHeader("Set-Cookie",e)}i&&"previewProps"in i&&(f=i.previewProps);let x={},U={get headers(){return x.headers||(x.headers=getHeaders(t.headers)),x.headers},get cookies(){return x.cookies||(x.cookies=getCookies(t.headers)),x.cookies},get mutableCookies(){return x.mutableCookies||(x.mutableCookies=getMutableCookies(t.headers,(null==i?void 0:i.onUpdateCookies)||(o?defaultOnUpdateCookies:void 0))),x.mutableCookies},get draftMode(){return x.draftMode||(x.draftMode=new DraftModeProvider(f,t,this.cookies,this.mutableCookies)),x.draftMode}};return e.run(U,c,U)}}},123:(e,t,o)=>{"use strict";var i;o.d(t,{x:()=>i}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(i||(i={}))},483:(e,t,o)=>{"use strict";e.exports=o(839)},839:(e,t,o)=>{"use strict";let i;o.d(t,{AppRouteRouteModule:()=>AppRouteRouteModule});var c,f,x,U,D,K,B,q,ee,et,er,en,eo={};o.r(eo),o.d(eo,{appRouterContext:()=>eF});let RouteModule=class RouteModule{constructor({userland:e,definition:t}){this.userland=e,this.definition=t}};var ea=o(210);let ei={wrap(e,{urlPathname:t,renderOpts:o},i){let c=!o.supportsDynamicHTML&&!o.isDraftMode&&!o.isServerAction,f={isStaticGeneration:c,urlPathname:t,pagePath:o.originalPathname,incrementalCache:o.incrementalCache||globalThis.__incrementalCache,isRevalidate:o.isRevalidate,isPrerendering:o.nextExport,fetchCache:o.fetchCache,isOnDemandRevalidate:o.isOnDemandRevalidate,isDraftMode:o.isDraftMode,experimental:{ppr:o.ppr}};return o.store=f,e.run(f,i,f)}};var es=o(896);function handleRedirectResponse(e,t,o){let i=new Headers({location:e});return(0,es._5)(i,t),new Response(null,{status:o,headers:i})}function handleBadRequestResponse(){return new Response(null,{status:400})}function handleNotFoundResponse(){return new Response(null,{status:404})}function handleMethodNotAllowedResponse(){return new Response(null,{status:405})}function handleInternalServerErrorResponse(){return new Response(null,{status:500})}let el=["GET","HEAD","OPTIONS","POST","PUT","DELETE","PATCH"];function isHTTPMethod(e){return el.includes(e)}!function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(c||(c={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(f||(f={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(x||(x={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(U||(U={})),(D||(D={})).startServer="startServer.startServer",function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(K||(K={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(B||(B={})),(q||(q={})).executeRoute="Router.executeRoute",(ee||(ee={})).runHandler="Node.runHandler",(et||(et={})).runHandler="AppRouteRouteHandlers.runHandler",function(e){e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport"}(er||(er={}));let ec=["BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport"];i=o(578);let{context:eu,trace:ed,SpanStatusCode:ep,SpanKind:eh}=i,isPromise=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,closeSpanWithError=(e,t)=>{(null==t?void 0:t.bubble)===!0?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:ep.ERROR,message:null==t?void 0:t.message})),e.end()},ef=new Map,eg=i.createContextKey("next.rootSpanId"),em=0,getSpanId=()=>em++;let NextTracerImpl=class NextTracerImpl{getTracerInstance(){return ed.getTracer("next.js","0.0.1")}getContext(){return eu}getActiveScopeSpan(){return ed.getSpan(null==eu?void 0:eu.active())}trace(...e){let[t,o,c]=e,{fn:f,options:x}="function"==typeof o?{fn:o,options:{}}:{fn:c,options:{...o}};if(!ec.includes(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||x.hideSpan)return f();let U=x.spanName??t,D=this.getSpanContext((null==x?void 0:x.parentSpan)??this.getActiveScopeSpan()),K=!1;D||(D=i.ROOT_CONTEXT,K=!0);let B=getSpanId();return x.attributes={"next.span_name":U,"next.span_type":t,...x.attributes},i.context.with(D.setValue(eg,B),()=>this.getTracerInstance().startActiveSpan(U,x,e=>{let onCleanup=()=>{ef.delete(B)};K&&ef.set(B,new Map(Object.entries(x.attributes??{})));try{if(f.length>1)return f(e,t=>closeSpanWithError(e,t));let t=f(e);return isPromise(t)?t.then(()=>e.end(),t=>closeSpanWithError(e,t)).finally(onCleanup):(e.end(),onCleanup()),t}catch(t){throw closeSpanWithError(e,t),onCleanup(),t}}))}wrap(...e){let t=this,[o,i,c]=3===e.length?e:[e[0],{},e[1]];return ec.includes(o)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=i;"function"==typeof e&&"function"==typeof c&&(e=e.apply(this,arguments));let f=arguments.length-1,x=arguments[f];if("function"!=typeof x)return t.trace(o,e,()=>c.apply(this,arguments));{let i=t.getContext().bind(eu.active(),x);return t.trace(o,e,(e,t)=>(arguments[f]=function(e){return null==t||t(e),i.apply(this,arguments)},c.apply(this,arguments)))}}:c}startSpan(...e){let[t,o]=e,i=this.getSpanContext((null==o?void 0:o.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,o,i)}getSpanContext(e){let t=e?ed.setSpan(eu.active(),e):void 0;return t}getRootSpanAttributes(){let e=eu.active().getValue(eg);return ef.get(e)}};let ey=(()=>{let e=new NextTracerImpl;return()=>e})();var e_=o(36);let{env:ev,stdout:ew}=(null==(en=globalThis)?void 0:en.process)??{},eb=ev&&!ev.NO_COLOR&&(ev.FORCE_COLOR||(null==ew?void 0:ew.isTTY)&&!ev.CI&&"dumb"!==ev.TERM),replaceClose=(e,t,o,i)=>{let c=e.substring(0,i)+o,f=e.substring(i+t.length),x=f.indexOf(t);return~x?c+replaceClose(f,t,o,x):c+f},formatter=(e,t,o=e)=>i=>{let c=""+i,f=c.indexOf(t,e.length);return~f?e+replaceClose(c,t,o,f)+t:e+c+t},eS=eb?formatter("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m"):String;eb&&formatter("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),eb&&formatter("\x1b[3m","\x1b[23m"),eb&&formatter("\x1b[4m","\x1b[24m"),eb&&formatter("\x1b[7m","\x1b[27m"),eb&&formatter("\x1b[8m","\x1b[28m"),eb&&formatter("\x1b[9m","\x1b[29m"),eb&&formatter("\x1b[30m","\x1b[39m");let eE=eb?formatter("\x1b[31m","\x1b[39m"):String,ek=eb?formatter("\x1b[32m","\x1b[39m"):String,ex=eb?formatter("\x1b[33m","\x1b[39m"):String;eb&&formatter("\x1b[34m","\x1b[39m");let eC=eb?formatter("\x1b[35m","\x1b[39m"):String;eb&&formatter("\x1b[38;2;173;127;168m","\x1b[39m"),eb&&formatter("\x1b[36m","\x1b[39m");let eA=eb?formatter("\x1b[37m","\x1b[39m"):String;eb&&formatter("\x1b[90m","\x1b[39m"),eb&&formatter("\x1b[40m","\x1b[49m"),eb&&formatter("\x1b[41m","\x1b[49m"),eb&&formatter("\x1b[42m","\x1b[49m"),eb&&formatter("\x1b[43m","\x1b[49m"),eb&&formatter("\x1b[44m","\x1b[49m"),eb&&formatter("\x1b[45m","\x1b[49m"),eb&&formatter("\x1b[46m","\x1b[49m"),eb&&formatter("\x1b[47m","\x1b[49m");let eR={wait:eA(eS("")),error:eE(eS("")),warn:ex(eS("")),ready:"",info:eA(eS(" ")),event:ek(eS("")),trace:eC(eS("\xbb"))},eP={log:"log",warn:"warn",error:"error"};function prefixedLog(e,...t){(""===t[0]||void 0===t[0])&&1===t.length&&t.shift();let o=e in eP?eP[e]:"log",i=eR[e];0===t.length?console[o](""):console[o](" "+i,...t)}function warn(...e){prefixedLog("warn",...e)}var eT=o(306),eO=o(195).Buffer;function validateTags(e,t){let o=[],i=[];for(let t of e)"string"!=typeof t?i.push({tag:t,reason:"invalid type, must be a string"}):t.length>e_.Ho?i.push({tag:t,reason:`exceeded max length of ${e_.Ho}`}):o.push(t);if(i.length>0)for(let{tag:e,reason:o}of(console.warn(`Warning: invalid tags passed to ${t}: `),i))console.log(`tag: "${e}" ${o}`);return o}let getDerivedTags=e=>{let t=["/layout"];if(e.startsWith("/")){let o=e.split("/");for(let e=1;e<o.length+1;e++){let i=o.slice(0,e).join("/");i&&(i.endsWith("/page")||i.endsWith("/route")||(i=`${i}${i.endsWith("/")?"":"/"}layout`),t.push(i))}}return t};function addImplicitTags(e){var t,o;let i=[],{pagePath:c,urlPathname:f}=e;if(Array.isArray(e.tags)||(e.tags=[]),c){let o=getDerivedTags(c);for(let c of o)c=`${e_.zt}${c}`,(null==(t=e.tags)?void 0:t.includes(c))||e.tags.push(c),i.push(c)}if(f){let t=`${e_.zt}${f}`;(null==(o=e.tags)?void 0:o.includes(t))||e.tags.push(t),i.push(t)}return i}function trackFetchMetric(e,t){if(!e)return;e.fetchMetrics||(e.fetchMetrics=[]);let o=["url","status","method"];e.fetchMetrics.some(e=>o.every(o=>e[o]===t[o]))||e.fetchMetrics.push({url:t.url,cacheStatus:t.cacheStatus,cacheReason:t.cacheReason,status:t.status,method:t.method,start:t.start,end:Date.now(),idx:e.nextFetchId||0})}function patchFetch({serverHooks:e,staticGenerationAsyncStorage:t}){if(globalThis._nextOriginalFetch||(globalThis._nextOriginalFetch=globalThis.fetch),globalThis.fetch.__nextPatched)return;let{DynamicServerError:o}=e,i=globalThis._nextOriginalFetch;globalThis.fetch=async(e,c)=>{var f,x;let D;try{(D=new URL(e instanceof Request?e.url:e)).username="",D.password=""}catch{D=void 0}let K=(null==D?void 0:D.href)??"",q=Date.now(),ee=(null==c?void 0:null==(f=c.method)?void 0:f.toUpperCase())||"GET",et=(null==(x=null==c?void 0:c.next)?void 0:x.internal)===!0;return await ey().trace(et?U.internalFetch:B.fetch,{kind:eh.CLIENT,spanName:["fetch",ee,K].filter(Boolean).join(" "),attributes:{"http.url":K,"http.method":ee,"net.peer.name":null==D?void 0:D.hostname,"net.peer.port":(null==D?void 0:D.port)||void 0}},async()=>{var f;let x,U,D;let B=t.getStore()||(null==fetch.__nextGetStaticStore?void 0:fetch.__nextGetStaticStore.call(fetch)),ee=e&&"object"==typeof e&&"string"==typeof e.method,getRequestMeta=t=>(ee?e[t]:null)||(null==c?void 0:c[t]);if(!B||et||B.isDraftMode)return i(e,c);let getNextField=t=>{var o,i,f;return void 0!==(null==c?void 0:null==(o=c.next)?void 0:o[t])?null==c?void 0:null==(i=c.next)?void 0:i[t]:ee?null==(f=e.next)?void 0:f[t]:void 0},er=getNextField("revalidate"),en=validateTags(getNextField("tags")||[],`fetch ${e.toString()}`);if(Array.isArray(en))for(let e of(B.tags||(B.tags=[]),en))B.tags.includes(e)||B.tags.push(e);let eo=addImplicitTags(B),ea="only-cache"===B.fetchCache,ei="force-cache"===B.fetchCache,es="default-cache"===B.fetchCache,el="default-no-store"===B.fetchCache,ec="only-no-store"===B.fetchCache,eu="force-no-store"===B.fetchCache,ed=getRequestMeta("cache"),ep="";"string"==typeof ed&&void 0!==er&&(warn(`fetch for ${K} on ${B.urlPathname} specified "cache: ${ed}" and "revalidate: ${er}", only one should be specified.`),ed=void 0),"force-cache"===ed?er=!1:("no-cache"===ed||"no-store"===ed||eu||ec)&&(er=0),("no-cache"===ed||"no-store"===ed)&&(ep=`cache: ${ed}`),("number"==typeof er||!1===er)&&(D=er);let eh=getRequestMeta("headers"),ef="function"==typeof(null==eh?void 0:eh.get)?eh:new Headers(eh||{}),eg=ef.get("authorization")||ef.get("cookie"),em=!["get","head"].includes((null==(f=getRequestMeta("method"))?void 0:f.toLowerCase())||"get"),ey=(eg||em)&&0===B.revalidate;if(eu&&(ep="fetchCache = force-no-store"),ec){if("force-cache"===ed||void 0!==D&&(!1===D||D>0))throw Error(`cache: 'force-cache' used on fetch for ${K} with 'export const fetchCache = 'only-no-store'`);ep="fetchCache = only-no-store"}if(ea&&"no-store"===ed)throw Error(`cache: 'no-store' used on fetch for ${K} with 'export const fetchCache = 'only-cache'`);ei&&(void 0===er||0===er)&&(ep="fetchCache = force-cache",D=!1),void 0===D?es?(D=!1,ep="fetchCache = default-cache"):ey?(D=0,ep="auto no cache"):el?(D=0,ep="fetchCache = default-no-store"):(ep="auto cache",D="boolean"!=typeof B.revalidate&&void 0!==B.revalidate&&B.revalidate):ep||(ep=`revalidate: ${D}`),!ey&&(void 0===B.revalidate||"number"==typeof D&&(!1===B.revalidate||"number"==typeof B.revalidate&&D<B.revalidate))&&(0===D&&(0,eT.j)(B,"revalidate: 0"),B.revalidate=D);let ev="number"==typeof D&&D>0||!1===D;if(B.incrementalCache&&ev)try{x=await B.incrementalCache.fetchCacheKey(K,ee?e:c)}catch(t){console.error("Failed to generate cache key for",e)}let ew=B.nextFetchId??1;B.nextFetchId=ew+1;let eb="number"!=typeof D?e_.BR:D,doOriginalFetch=async(t,o)=>{let f=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(ee){let t=e,o={body:t._ogBody||t.body};for(let e of f)o[e]=t[e];e=new Request(t.url,o)}else if(c){let e=c;for(let t of(c={body:c._ogBody||c.body},f))c[t]=e[t]}let U={...c,next:{...null==c?void 0:c.next,fetchType:"origin",fetchIdx:ew}};return i(e,U).then(async i=>{if(t||trackFetchMetric(B,{start:q,url:K,cacheReason:o||ep,cacheStatus:0===D||o?"skip":"miss",status:i.status,method:U.method||"GET"}),200===i.status&&B.incrementalCache&&x&&ev){let t=eO.from(await i.arrayBuffer());try{await B.incrementalCache.set(x,{kind:"FETCH",data:{headers:Object.fromEntries(i.headers.entries()),body:t.toString("base64"),status:i.status,url:i.url},revalidate:eb},{fetchCache:!0,revalidate:D,fetchUrl:K,fetchIdx:ew,tags:en})}catch(t){console.warn("Failed to set fetch cache",e,t)}let o=new Response(t,{headers:new Headers(i.headers),status:i.status});return Object.defineProperty(o,"url",{value:i.url}),o}return i})},handleUnlock=()=>Promise.resolve();if(x&&B.incrementalCache){handleUnlock=await B.incrementalCache.lock(x);let e=B.isOnDemandRevalidate?null:await B.incrementalCache.get(x,{fetchCache:!0,revalidate:D,fetchUrl:K,fetchIdx:ew,tags:en,softTags:eo});if(e?await handleUnlock():U="cache-control: no-cache (hard refresh)",(null==e?void 0:e.value)&&"FETCH"===e.value.kind&&!(B.isRevalidate&&e.isStale)){e.isStale&&(B.pendingRevalidates||(B.pendingRevalidates=[]),B.pendingRevalidates.push(doOriginalFetch(!0).catch(console.error)));let t=e.value.data;trackFetchMetric(B,{start:q,url:K,cacheReason:ep,cacheStatus:"hit",status:t.status||200,method:(null==c?void 0:c.method)||"GET"});let o=new Response(eO.from(t.body,"base64"),{headers:t.headers,status:t.status});return Object.defineProperty(o,"url",{value:e.value.data.url}),o}}if(B.isStaticGeneration&&c&&"object"==typeof c){let{cache:t}=c;if(delete c.cache,"no-store"===t){let t=`no-store fetch ${e}${B.urlPathname?` ${B.urlPathname}`:""}`,i=new o(t);B.dynamicUsageErr=i,B.dynamicUsageStack=i.stack,B.dynamicUsageDescription=t,(0,eT.j)(B,t),B.revalidate=0}let i="next"in c,{next:f={}}=c;if("number"==typeof f.revalidate&&(void 0===B.revalidate||"number"==typeof B.revalidate&&f.revalidate<B.revalidate)){let t=B.forceDynamic;if(!t&&0===f.revalidate){let t=`revalidate: 0 fetch ${e}${B.urlPathname?` ${B.urlPathname}`:""}`,i=new o(t);B.dynamicUsageErr=i,B.dynamicUsageStack=i.stack,B.dynamicUsageDescription=t,(0,eT.j)(B,t)}t&&0===f.revalidate||(B.revalidate=f.revalidate)}i&&delete c.next}return doOriginalFetch(!1,U).finally(handleUnlock)})},globalThis.fetch.__nextGetStaticStore=()=>t,globalThis.fetch.__nextPatched=!0}function getPathnameFromAbsolutePath(e){let t="/app/";e.includes(t)||(t="\\app\\");let[,...o]=e.split(t),i=t[0]+o.join(t),c=i.split(".").slice(0,-1).join(".");return c}var eI=o(525),eN=o(316);function cleanURL(e){let t=new URL(e);return t.host="localhost:3000",t.search="",t.protocol="http",t.toString()}function proxyRequest(e,{dynamic:t},o){function handleNextUrlBailout(e){switch(e){case"search":case"searchParams":case"toString":case"href":case"origin":o.staticGenerationBailout(`nextUrl.${e}`);return;default:return}}let i={},handleForceStatic=(e,t)=>{switch(t){case"search":return"";case"searchParams":return i.searchParams||(i.searchParams=new URLSearchParams),i.searchParams;case"url":case"href":return i.url||(i.url=cleanURL(e)),i.url;case"toJSON":case"toString":return i.url||(i.url=cleanURL(e)),i.toString||(i.toString=()=>i.url),i.toString;case"headers":return i.headers||(i.headers=new Headers),i.headers;case"cookies":return i.headers||(i.headers=new Headers),i.cookies||(i.cookies=new eI.RequestCookies(i.headers)),i.cookies;case"clone":return i.url||(i.url=cleanURL(e)),()=>new eN.c(i.url)}},c=new Proxy(e.nextUrl,{get(e,o){if(handleNextUrlBailout(o),"force-static"===t&&"string"==typeof o){let t=handleForceStatic(e.href,o);if(void 0!==t)return t}let i=e[o];return"function"==typeof i?i.bind(e):i},set:(e,t,o)=>(handleNextUrlBailout(t),e[t]=o,!0)}),handleReqBailout=e=>{switch(e){case"headers":o.headerHooks.headers();return;case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":o.staticGenerationBailout(`request.${e}`);return;default:return}};return new Proxy(e,{get(e,o){if(handleReqBailout(o),"nextUrl"===o)return c;if("force-static"===t&&"string"==typeof o){let t=handleForceStatic(e.url,o);if(void 0!==t)return t}let i=e[o];return"function"==typeof i?i.bind(e):i},set:(e,t,o)=>(handleReqBailout(t),e[t]=o,!0)})}var eU=o(30);function getRedirectStatusCodeFromError(e){if(!(0,eU.eo)(e))throw Error("Not a redirect error");return"true"===e.digest.split(";",4)[3]?308:307}function isNotFoundError(e){return(null==e?void 0:e.digest)==="NEXT_NOT_FOUND"}function resolveHandlerError(e){if((0,eU.eo)(e)){let t=(0,eU.M6)(e);if(!t)throw Error("Invariant: Unexpected redirect url format");let o=getRedirectStatusCodeFromError(e);return handleRedirectResponse(t,e.mutableCookies,o)}return!!isNotFoundError(e)&&handleNotFoundResponse()}let eM=["HEAD","OPTIONS"];function autoImplementMethods(e){let t=el.reduce((t,o)=>({...t,[o]:e[o]??handleMethodNotAllowedResponse}),{}),o=new Set(el.filter(t=>e[t])),i=eM.filter(e=>!o.has(e));for(let c of i){if("HEAD"===c){if(!e.GET)break;t.HEAD=e.GET,o.add("HEAD");continue}if("OPTIONS"===c){let e=["OPTIONS",...o];!o.has("HEAD")&&o.has("GET")&&e.push("HEAD");let i={Allow:e.sort().join(", ")};t.OPTIONS=()=>new Response(null,{status:204,headers:i}),o.add("OPTIONS");continue}throw Error(`Invariant: should handle all automatic implementable methods, got method: ${c}`)}return t}let ej=["OPTIONS","POST","PUT","DELETE","PATCH"];function getNonStaticMethods(e){let t=ej.filter(t=>e[t]);return 0!==t.length&&t}var eD=o(123);function parsedUrlQueryToParams(e){let t={};for(let[o,i]of Object.entries(e))void 0!==i&&(t[o]=i);return t}var eL=o(94),e$=o(206),eH=o(121),eW=o(7),eJ=o(841),eK=o(990),eF=o(130);let AppRouteRouteModule=class AppRouteRouteModule extends RouteModule{static #e=this.sharedModules=eo;static is(e){return e.definition.kind===eD.x.APP_ROUTE}constructor({userland:e,definition:t,resolvedPagePath:o,nextConfigOutput:i}){if(super({userland:e,definition:t}),this.requestAsyncStorage=eW.F,this.staticGenerationAsyncStorage=eJ.A,this.serverHooks=eL,this.headerHooks=e$,this.staticGenerationBailout=eH.o,this.actionAsyncStorage=eK.W,this.resolvedPagePath=o,this.nextConfigOutput=i,this.methods=autoImplementMethods(e),this.nonStaticMethods=getNonStaticMethods(e),this.dynamic=this.userland.dynamic,"export"===this.nextConfigOutput){if(this.dynamic&&"auto"!==this.dynamic){if("force-dynamic"===this.dynamic)throw Error(`export const dynamic = "force-dynamic" on page "${t.pathname}" cannot be used with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`)}else this.dynamic="error"}}resolve(e){return isHTTPMethod(e)?this.methods[e]:handleBadRequestResponse}async execute(e,t){let o=this.resolve(e.method),i={req:e};i.renderOpts={previewProps:t.prerenderManifest.preview};let c={urlPathname:e.nextUrl.pathname,renderOpts:t.renderOpts};c.renderOpts.fetchCache=this.userland.fetchCache;let f=await this.actionAsyncStorage.run({isAppRoute:!0},()=>ea.B.wrap(this.requestAsyncStorage,i,()=>ei.wrap(this.staticGenerationAsyncStorage,c,i=>{var c;switch(this.nonStaticMethods&&this.staticGenerationBailout(`non-static methods used ${this.nonStaticMethods.join(", ")}`),this.dynamic){case"force-dynamic":i.forceDynamic=!0,this.staticGenerationBailout("force-dynamic",{dynamic:this.dynamic});break;case"force-static":i.forceStatic=!0;break;case"error":i.dynamicShouldError=!0}i.revalidate??=this.userland.revalidate??!1;let f=proxyRequest(e,{dynamic:this.dynamic},{headerHooks:this.headerHooks,serverHooks:this.serverHooks,staticGenerationBailout:this.staticGenerationBailout}),x=getPathnameFromAbsolutePath(this.resolvedPagePath);return null==(c=ey().getRootSpanAttributes())||c.set("next.route",x),ey().trace(et.runHandler,{spanName:`executing api route (app) ${x}`,attributes:{"next.route":x}},async()=>{var e;patchFetch({serverHooks:this.serverHooks,staticGenerationAsyncStorage:this.staticGenerationAsyncStorage});let c=await o(f,{params:t.params?parsedUrlQueryToParams(t.params):void 0});if(!(c instanceof Response))throw Error(`No response is returned from route handler '${this.resolvedPagePath}'. Ensure you return a \`Response\` or a \`NextResponse\` in all branches of your handler.`);t.renderOpts.fetchMetrics=i.fetchMetrics,t.renderOpts.waitUntil=Promise.all(i.pendingRevalidates||[]),addImplicitTags(i),t.renderOpts.fetchTags=null==(e=i.tags)?void 0:e.join(",");let x=this.requestAsyncStorage.getStore();if(x&&x.mutableCookies){let e=new Headers(c.headers);if((0,es._5)(e,x.mutableCookies))return new Response(c.body,{status:c.status,statusText:c.statusText,headers:e})}return c})})));if(!(f instanceof Response))return handleInternalServerErrorResponse();if(f.headers.has("x-middleware-rewrite"))throw Error("NextResponse.rewrite() was used in a app route handler, this is not currently supported. Please remove the invocation to continue.");if("1"===f.headers.get("x-middleware-next"))throw Error("NextResponse.next() was used in a app route handler, this is not supported. See here for more info: https://nextjs.org/docs/messages/next-response-next-in-app-route-handler");return f}async handle(e,t){try{let o=await this.execute(e,t);return o}catch(t){let e=resolveHandlerError(t);if(!e)throw t;return e}}}},316:(e,t,o)=>{"use strict";function detectDomainLocale(e,t,o){if(e)for(let f of(o&&(o=o.toLowerCase()),e)){var i,c;let e=null==(i=f.domain)?void 0:i.split(":",1)[0].toLowerCase();if(t===e||o===f.defaultLocale.toLowerCase()||(null==(c=f.locales)?void 0:c.some(e=>e.toLowerCase()===o)))return f}}o.d(t,{c:()=>NextURL});var i=o(476),c=o(725);function addPathPrefix(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:o,query:i,hash:f}=(0,c.c)(e);return""+t+o+i+f}function addPathSuffix(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:o,query:i,hash:f}=(0,c.c)(e);return""+o+t+i+f}var f=o(54);function addLocale(e,t,o,i){if(!t||t===o)return e;let c=e.toLowerCase();return!i&&((0,f.Y)(c,"/api")||(0,f.Y)(c,"/"+t.toLowerCase()))?e:addPathPrefix(e,"/"+t)}function formatNextPathnameInfo(e){let t=addLocale(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,i.Q)(t)),e.buildId&&(t=addPathSuffix(addPathPrefix(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=addPathPrefix(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:addPathSuffix(t,"/"):(0,i.Q)(t)}function getHostname(e,t){let o;if((null==t?void 0:t.host)&&!Array.isArray(t.host))o=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;o=e.hostname}return o.toLowerCase()}function normalizeLocalePath(e,t){let o;let i=e.split("/");return(t||[]).some(t=>!!i[1]&&i[1].toLowerCase()===t.toLowerCase()&&(o=t,i.splice(1,1),e=i.join("/")||"/",!0)),{pathname:e,detectedLocale:o}}var x=o(495);function getNextPathnameInfo(e,t){var o,i;let{basePath:c,i18n:U,trailingSlash:D}=null!=(o=t.nextConfig)?o:{},K={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):D};c&&(0,f.Y)(K.pathname,c)&&(K.pathname=(0,x.n)(K.pathname,c),K.basePath=c);let B=K.pathname;if(K.pathname.startsWith("/_next/data/")&&K.pathname.endsWith(".json")){let e=K.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),o=e[0];K.buildId=o,B="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(K.pathname=B)}if(U){let e=t.i18nProvider?t.i18nProvider.analyze(K.pathname):normalizeLocalePath(K.pathname,U.locales);K.locale=e.detectedLocale,K.pathname=null!=(i=e.pathname)?i:K.pathname,!e.detectedLocale&&K.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(B):normalizeLocalePath(B,U.locales)).detectedLocale&&(K.locale=e.detectedLocale)}return K}let U=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function parseURL(e,t){return new URL(String(e).replace(U,"localhost"),t&&String(t).replace(U,"localhost"))}let D=Symbol("NextURLInternal");let NextURL=class NextURL{constructor(e,t,o){let i,c;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,c=o||{}):c=o||t||{},this[D]={url:parseURL(e,i??c.base),options:c,basePath:""},this.analyze()}analyze(){var e,t,o,i,c;let f=getNextPathnameInfo(this[D].url.pathname,{nextConfig:this[D].options.nextConfig,parseData:!0,i18nProvider:this[D].options.i18nProvider}),x=getHostname(this[D].url,this[D].options.headers);this[D].domainLocale=this[D].options.i18nProvider?this[D].options.i18nProvider.detectDomainLocale(x):detectDomainLocale(null==(t=this[D].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,x);let U=(null==(o=this[D].domainLocale)?void 0:o.defaultLocale)||(null==(c=this[D].options.nextConfig)?void 0:null==(i=c.i18n)?void 0:i.defaultLocale);this[D].url.pathname=f.pathname,this[D].defaultLocale=U,this[D].basePath=f.basePath??"",this[D].buildId=f.buildId,this[D].locale=f.locale??U,this[D].trailingSlash=f.trailingSlash}formatPathname(){return formatNextPathnameInfo({basePath:this[D].basePath,buildId:this[D].buildId,defaultLocale:this[D].options.forceLocale?void 0:this[D].defaultLocale,locale:this[D].locale,pathname:this[D].url.pathname,trailingSlash:this[D].trailingSlash})}formatSearch(){return this[D].url.search}get buildId(){return this[D].buildId}set buildId(e){this[D].buildId=e}get locale(){return this[D].locale??""}set locale(e){var t,o;if(!this[D].locale||!(null==(o=this[D].options.nextConfig)?void 0:null==(t=o.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[D].locale=e}get defaultLocale(){return this[D].defaultLocale}get domainLocale(){return this[D].domainLocale}get searchParams(){return this[D].url.searchParams}get host(){return this[D].url.host}set host(e){this[D].url.host=e}get hostname(){return this[D].url.hostname}set hostname(e){this[D].url.hostname=e}get port(){return this[D].url.port}set port(e){this[D].url.port=e}get protocol(){return this[D].url.protocol}set protocol(e){this[D].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[D].url=parseURL(e),this.analyze()}get origin(){return this[D].url.origin}get pathname(){return this[D].url.pathname}set pathname(e){this[D].url.pathname=e}get hash(){return this[D].url.hash}set hash(e){this[D].url.hash=e}get search(){return this[D].url.search}set search(e){this[D].url.search=e}get password(){return this[D].url.password}set password(e){this[D].url.password=e}get username(){return this[D].url.username}set username(e){this[D].url.username=e}get basePath(){return this[D].basePath}set basePath(e){this[D].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new NextURL(String(this),this[D].options)}}},375:(e,t,o)=>{"use strict";o.d(t,{h:()=>HeadersAdapter});var i=o(749);let ReadonlyHeadersError=class ReadonlyHeadersError extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new ReadonlyHeadersError}};let HeadersAdapter=class HeadersAdapter extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,o,c){if("symbol"==typeof o)return i.g.get(t,o,c);let f=o.toLowerCase(),x=Object.keys(e).find(e=>e.toLowerCase()===f);if(void 0!==x)return i.g.get(t,x,c)},set(t,o,c,f){if("symbol"==typeof o)return i.g.set(t,o,c,f);let x=o.toLowerCase(),U=Object.keys(e).find(e=>e.toLowerCase()===x);return i.g.set(t,U??o,c,f)},has(t,o){if("symbol"==typeof o)return i.g.has(t,o);let c=o.toLowerCase(),f=Object.keys(e).find(e=>e.toLowerCase()===c);return void 0!==f&&i.g.has(t,f)},deleteProperty(t,o){if("symbol"==typeof o)return i.g.deleteProperty(t,o);let c=o.toLowerCase(),f=Object.keys(e).find(e=>e.toLowerCase()===c);return void 0===f||i.g.deleteProperty(t,f)}})}static seal(e){return new Proxy(e,{get(e,t,o){switch(t){case"append":case"delete":case"set":return ReadonlyHeadersError.callable;default:return i.g.get(e,t,o)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new HeadersAdapter(e)}append(e,t){let o=this.headers[e];"string"==typeof o?this.headers[e]=[o,t]:Array.isArray(o)?o.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[o,i]of this.entries())e.call(t,i,o,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),o=this.get(t);yield[t,o]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},749:(e,t,o)=>{"use strict";o.d(t,{g:()=>ReflectAdapter});let ReflectAdapter=class ReflectAdapter{static get(e,t,o){let i=Reflect.get(e,t,o);return"function"==typeof i?i.bind(e):i}static set(e,t,o,i){return Reflect.set(e,t,o,i)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},896:(e,t,o)=>{"use strict";o.d(t,{Qb:()=>RequestCookiesAdapter,_5:()=>appendMutableCookies,vr:()=>MutableRequestCookiesAdapter});var i=o(672),c=o(749);let ReadonlyRequestCookiesError=class ReadonlyRequestCookiesError extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new ReadonlyRequestCookiesError}};let RequestCookiesAdapter=class RequestCookiesAdapter{static seal(e){return new Proxy(e,{get(e,t,o){switch(t){case"clear":case"delete":case"set":return ReadonlyRequestCookiesError.callable;default:return c.g.get(e,t,o)}}})}};let f=Symbol.for("next.mutated.cookies");function getModifiedCookieValues(e){let t=e[f];return t&&Array.isArray(t)&&0!==t.length?t:[]}function appendMutableCookies(e,t){let o=getModifiedCookieValues(t);if(0===o.length)return!1;let c=new i.n(e),f=c.getAll();for(let e of o)c.set(e);for(let e of f)c.set(e);return!0}let MutableRequestCookiesAdapter=class MutableRequestCookiesAdapter{static wrap(e,t){let o=new i.n(new Headers);for(let t of e.getAll())o.set(t);let x=[],U=new Set,updateResponseCookies=()=>{var e;let c=null==fetch.__nextGetStaticStore?void 0:null==(e=fetch.__nextGetStaticStore.call(fetch))?void 0:e.getStore();c&&(c.pathWasRevalidated=!0);let f=o.getAll();if(x=f.filter(e=>U.has(e.name)),t){let e=[];for(let t of x){let o=new i.n(new Headers);o.set(t),e.push(o.toString())}t(e)}};return new Proxy(o,{get(e,t,o){switch(t){case f:return x;case"delete":return function(...t){U.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{updateResponseCookies()}};case"set":return function(...t){U.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{updateResponseCookies()}};default:return c.g.get(e,t,o)}}})}}},672:(e,t,o)=>{"use strict";o.d(t,{n:()=>i.ResponseCookies,q:()=>i.RequestCookies});var i=o(525)},130:(e,t,o)=>{"use strict";o.r(t),o.d(t,{AppRouterContext:()=>D,CacheStates:()=>U,GlobalLayoutRouterContext:()=>B,LayoutRouterContext:()=>K,TemplateContext:()=>q});var i=o(465);let c=(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js`),{__esModule:f,$$typeof:x}=c;c.default;let U=(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#CacheStates`),D=(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#AppRouterContext`),K=(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#LayoutRouterContext`),B=(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#GlobalLayoutRouterContext`),q=(0,i.D)(String.raw`/Users/macbook/Documents/porto/hanowene/itop_web/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#TemplateContext`)},763:(e,t,o)=>{"use strict";let i;i=o(87),e.exports=i},725:(e,t,o)=>{"use strict";function parsePath(e){let t=e.indexOf("#"),o=e.indexOf("?"),i=o>-1&&(t<0||o<t);return i||t>-1?{pathname:e.substring(0,i?o:t),query:i?e.substring(o,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}o.d(t,{c:()=>parsePath})},54:(e,t,o)=>{"use strict";o.d(t,{Y:()=>pathHasPrefix});var i=o(725);function pathHasPrefix(e,t){if("string"!=typeof e)return!1;let{pathname:o}=(0,i.c)(e);return o===t||o.startsWith(t+"/")}},495:(e,t,o)=>{"use strict";o.d(t,{n:()=>removePathPrefix});var i=o(54);function removePathPrefix(e,t){if(!(0,i.Y)(e,t))return e;let o=e.slice(t.length);return o.startsWith("/")?o:"/"+o}},476:(e,t,o)=>{"use strict";function removeTrailingSlash(e){return e.replace(/\/$/,"")||"/"}o.d(t,{Q:()=>removeTrailingSlash})},724:(e,t,o)=>{"use strict";e.exports=o(206)},938:(e,t,o)=>{"use strict";e.exports=o(651)},990:(e,t,o)=>{"use strict";o.d(t,{W:()=>c});var i=o(778);let c=(0,i.P)()},778:(e,t,o)=>{"use strict";o.d(t,{P:()=>createAsyncLocalStorage});let i=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");let FakeAsyncLocalStorage=class FakeAsyncLocalStorage{disable(){throw i}getStore(){}run(){throw i}exit(){throw i}enterWith(){throw i}};let c=globalThis.AsyncLocalStorage;function createAsyncLocalStorage(){return c?new c:new FakeAsyncLocalStorage}},7:(e,t,o)=>{"use strict";o.d(t,{F:()=>c});var i=o(778);let c=(0,i.P)()},841:(e,t,o)=>{"use strict";o.d(t,{A:()=>c});var i=o(778);let c=(0,i.P)()}},e=>{var t=e(e.s=854);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_app/api/auth/[...nextauth]/route"]=t}]);
//# sourceMappingURL=route.js.map